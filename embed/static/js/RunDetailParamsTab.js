(this.webpackJsonpui_v2=this.webpackJsonpui_v2||[]).push([[9],{1506:function(n,t,e){},1543:function(n,t,e){"use strict";e.r(t);var r=e(0),o=e.n(r),i=e(65),a=e(281),l=e(382),u=e(8),s=e(441),c=e(15),d=e(11),v=e(1);function f(n){let{runParams:t,isRunInfoLoading:e}=n;return o.a.useEffect((()=>{d.a(c.a.runDetails.tabs.params.tabView)}),[]),Object(v.jsx)(u.a,{children:Object(v.jsx)(a.a,{isLoading:e||!t,className:"RunDetailTabLoader",height:"100%",children:i.a.isEmpty(t)?Object(v.jsx)(l.a,{size:"xLarge",className:"RunDetailTabLoader",title:"No Params"}):Object(v.jsx)("div",{className:"RunDetailParamsTabWrapper",children:Object(v.jsx)("div",{className:"RunDetailParamsTab",children:Object(v.jsx)(s.a,{src:i.a.omit(t,"__system_params")})})})})})}t.default=Object(r.memo)(f)},1549:function(n,t,e){"use strict";e.r(t),e.d(t,"LogsLastRequestEnum",(function(){return _}));var r=e(0),o=e.n(r),i=e(65),a=e(265),l=e(13),u=e.n(l),s=e(280),c=e(281),d=e(8),v=e(382),f=e(3),b=e(15),g=e(71),p=e(819),m=e(11);const h={fg:"#FFF",bg:"#000",newline:!1,colors:function(){const n={0:"#000",1:"#A00",2:"#0A0",3:"#A50",4:"#00A",5:"#A0A",6:"#0AA",7:"#AAA",8:"#555",9:"#F55",10:"#5F5",11:"#FF5",12:"#55F",13:"#F5F",14:"#5FF",15:"#FFF"};return i.a.range(0,6).forEach((t=>{i.a.range(0,6).forEach((e=>{i.a.range(0,6).forEach((r=>function(n,t,e,r){const o=n>0?40*n+55:0,i=t>0?40*t+55:0,a=e>0?40*e+55:0;r[16+36*n+6*t+e]=function(n){const t=[];for(const e of n)t.push(x(e));return"#"+t.join("")}([o,i,a])}(t,e,r,n)))}))})),i.a.range(0,24).forEach((t=>{const e=t+232,r=x(10*t+8);n[e]="#"+r+r+r})),n}()};function x(n){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t}function j(n,t,e,r){let o;if("text"===t)o=e;else if("display"===t)o=function(n,t,e){t=parseInt("".concat(t),10);const r={"-1":()=>"<br/>",0:()=>n.length&&L(n),1:()=>E(n,"b"),3:()=>E(n,"i"),4:()=>E(n,"u"),8:()=>O(n,"display:none"),9:()=>E(n,"strike"),22:()=>O(n,"font-weight:normal;text-decoration:none;font-style:normal"),23:()=>R(n,"i"),24:()=>R(n,"u"),39:()=>A(n,e.fg),49:()=>D(n,e.bg),53:()=>O(n,"text-decoration:overline")};if(r[t])return r[t]();if(4<t&&t<7)return E(n,"blink");var o,i,a,l;if(29<t&&t<38)return A(n,null===e||void 0===e||null===(o=e.colors)||void 0===o?void 0:o[t-30]);if(39<t&&t<48)return D(n,null===e||void 0===e||null===(i=e.colors)||void 0===i?void 0:i[t-40]);if(89<t&&t<98)return A(n,null===e||void 0===e||null===(a=e.colors)||void 0===a?void 0:a[t-90+8]);if(99<t&&t<108)return D(n,null===e||void 0===e||null===(l=e.colors)||void 0===l?void 0:l[t-100+8])}(n,+e,r);else if("xterm256Foreground"===t){var i;o=A(n,null===r||void 0===r||null===(i=r.colors)||void 0===i?void 0:i[+e])}else if("xterm256Background"===t){var a;o=D(n,null===r||void 0===r||null===(a=r.colors)||void 0===a?void 0:a[+e])}else"rgb"===t&&(o=function(n,t){const e=+(t=t.substring(2).slice(0,-1)).substr(0,2),r=t.substring(5).split(";").map((function(n){return("0"+Number(n).toString(16)).substring(-2)})).join("");return O(n,(38===e?"color:#":"background-color:#")+r)}(n,e));return o}function L(n){const t=n.slice(0);return n.length=0,t.reverse().map((function(n){return"</"+n+">"})).join("")}function E(n,t,e){return e||(e=""),n.push(t),"<".concat(t).concat(e?' style="'.concat(e,'"'):"",">")}function O(n,t){return E(n,"span",t)}function A(n,t){return E(n,"span","color:"+t)}function D(n,t){return E(n,"span","background-color:"+t)}function R(n,t){let e;if(n.slice(-1)[0]===t&&(e=n.pop()),e)return"</"+t+">"}var T=function(n,t){n="string"===typeof n?[n]:n;let e=Object.assign({},h,t),r=[];const o=[];return function(n,t,e){let r=!1;function o(){return""}function i(n){return t.newline?e("display",-1):e("text",n),""}const a=[{pattern:/^\x08+/,sub:o},{pattern:/^\x1b\[[012]?K/,sub:o},{pattern:/^\x1b\[\(B/,sub:o},{pattern:/^\x1b\[[34]8;2;\d+;\d+;\d+m/,sub:function(n){return e("rgb",n),""}},{pattern:/^\x1b\[38;5;(\d+)m/,sub:function(n,t){return e("xterm256Foreground",t),""}},{pattern:/^\x1b\[48;5;(\d+)m/,sub:function(n,t){return e("xterm256Background",t),""}},{pattern:/^\n/,sub:i},{pattern:/^\r+\n/,sub:i},{pattern:/^\r/,sub:i},{pattern:/^\x1b\[((?:\d{1,3};?)+|)m/,sub:function(n,t){r=!0,0===t.trim().length&&(t="0");const o=t.trimRight().split(";");for(const r of o)e("display",r);return""}},{pattern:/^\x1b\[\d?J/,sub:o},{pattern:/^\x1b\[\d{0,3};\d{0,3}f/,sub:o},{pattern:/^\x1b\[?[\d;]{0,3}/,sub:o},{pattern:/^(([^\x1b\x08\r\n])+)/,sub:function(n){return e("text",n),""}}];function l(t,e){e>3&&r||(r=!1,n=n.replace(t.pattern,t.sub))}const u=[];let{length:s}=n;n:for(;s>0;){for(let t=0,e=0,r=a.length;e<r;t=++e)if(l(a[t],t),n.length!==s){s=n.length;continue n}if(n.length===s)break;u.push(0),s=n.length}}(n.join(""),e,((n,t)=>{const i=j(r,n,"".concat(t),e);i&&o.push(i)})),r.length&&o.push(L(r)),o.join("")},I=e(1);function F(n){var t,e;let{index:r,style:o,data:i}=n;return Object(I.jsx)("div",{style:o,children:Object(I.jsx)("pre",{className:"LogRow__line",dangerouslySetInnerHTML:{__html:T(null!==(t=null===(e=i.logsList)||void 0===e?void 0:e[r-1])&&void 0!==t?t:"")}})})}F.displayName="RunLogsTab";var y=o.a.memo(F);let _;!function(n){n.DEFAULT="default",n.LIVE_UPDATE="live-update",n.LOAD_MORE="load-more"}(_||(_={}));e(1506);function S(n){var t,e;let{isRunLogsLoading:r,runHash:l,runLogs:h,inProgress:x,updatedLogsCount:j}=n;const L=o.a.useRef(null),E=o.a.useRef(null),O=o.a.useRef({}),A=o.a.useRef({}),D=o.a.useRef(null),[R,T]=o.a.useState(_.DEFAULT),[F,S]=o.a.useState(g.a.Ok),N=o.a.useRef([0,0]),[k,w]=o.a.useState(null),[P,U]=o.a.useState(null),[V,H]=o.a.useState(0),[B,M]=o.a.useState(0),[z,C]=o.a.useState(null);function J(){var n,t;T(_.LIVE_UPDATE),W({runHash:l,record_range:D.current?"".concat((null===(n=N.current)||void 0===n?void 0:n[1])>5?(null===(t=N.current)||void 0===t?void 0:t[1])-5:0,":"):""})}function W(n){S(g.a.Pending),A.current=p.a.getRunLogs(n),A.current.call().then((()=>{S(g.a.Ok),q(),function(){if(x){const n=window.setTimeout(J,3e3);L.current={intervalId:n}}}()}))}function q(){var n;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;(t||R===_.LIVE_UPDATE)&&(null===(e=A.current)||void 0===e||e.abort());(null===(n=L.current)||void 0===n?void 0:n.intervalId)&&clearInterval(L.current.intervalId)}return o.a.useEffect((()=>(W({runHash:l}),m.a(b.a.runDetails.tabs.logs.tabView),()=>{q(!0)})),[]),o.a.useEffect((()=>{x||q()}),[x]),o.a.useEffect((()=>{const n=i.a.sortBy(Object.values(null!==h&&void 0!==h?h:{}),"index"),t=i.a.sortBy(n.map((n=>+n.index))),e=Array(3).fill("");N.current=[t[0],t[t.length-1]],C(t),D.current=n.map((n=>n.value)).concat(e)}),[h]),o.a.useEffect((()=>{var n,t;const e=null!==(n=null===(t=D.current)||void 0===t?void 0:t.length)&&void 0!==n?n:0;var r,o;if(R===_.LOAD_MORE&&P)null===(r=O.current)||void 0===r||null===(o=r.scrollToItem)||void 0===o||o.call(r,P.visibleStartIndex+j,"start"),T(_.DEFAULT);else if(R===_.LIVE_UPDATE&&P&&(null===P||void 0===P?void 0:P.visibleStopIndex)+j>=e-1||R===_.DEFAULT){var a,l;if(!i.a.isEmpty(z))null===(a=O.current)||void 0===a||null===(l=a.scrollToItem)||void 0===l||l.call(a,e,"end")}else{var u,s,c;null===(u=O.current)||void 0===u||null===(s=u.scrollToItem)||void 0===s||s.call(u,null!==(c=null===P||void 0===P?void 0:P.visibleStartIndex)&&void 0!==c?c:0,"start")}}),[D.current,z]),o.a.useEffect((()=>{var n,t,e;R===_.DEFAULT&&V&&B&&(i.a.isEmpty(z)||null===(n=O.current)||void 0===n||null===(t=n.scrollToItem)||void 0===t||t.call(n,null!==(e=null===P||void 0===P?void 0:P.visibleStartIndex)&&void 0!==e?e:0,"start"))}),[V,B]),Object(s.c)((()=>{E.current&&(H(E.current.offsetHeight),M(E.current.offsetWidth))}),E),Object(I.jsx)(d.a,{children:Object(I.jsx)(c.a,{isLoading:r&&R===_.DEFAULT,className:"RunDetailTabLoader",height:"100%",children:i.a.isEmpty(h)||i.a.isEmpty(z)||i.a.isNil(D.current)?Object(I.jsx)(v.a,{size:"xLarge",className:"RunDetailTabLoader",title:"No Logs"}):Object(I.jsx)("div",{className:"RunDetailLogsTabWrapper",children:Object(I.jsx)("div",{className:"RunDetailLogsTab",children:Object(I.jsx)("div",{className:"Logs",ref:E,children:Object(I.jsxs)("div",{className:"Logs__wrapper",children:[Object(I.jsx)(a.d,{ref:O,height:V||100,itemCount:(null===(t=D.current)||void 0===t?void 0:t.length)+1,itemSize:()=>15,width:"100%",overscanCount:100,initialScrollOffset:null!==k&&void 0!==k?k:15*(null===(e=D.current)||void 0===e?void 0:e.length),onItemsRendered:function(n){let{visibleStartIndex:t,visibleStopIndex:e}=n;U({visibleStartIndex:t,visibleStopIndex:e})},itemData:{logsList:D.current},onScroll:function(n){let{scrollOffset:t,scrollDirection:e}=n;var r,o,i;w(t),t<=15&&z&&0!==z[0]&&"backward"===e&&(F===g.a.Ok||F===g.a.Pending&&R===_.LIVE_UPDATE)&&(q(),T(_.LOAD_MORE),W({runHash:l,record_range:"".concat((null===(r=N.current)||void 0===r?void 0:r[0])>200?(null===(o=N.current)||void 0===o?void 0:o[0])-200:0,":").concat(null===(i=N.current)||void 0===i?void 0:i[0])}))},children:y},"".concat(V).concat(B)),Object(I.jsx)("div",{className:u()("overlay",{loading:r&&R===_.LOAD_MORE}),children:Object(I.jsx)(f.l,{size:24})})]})})})})})})}S.displayName="RunLogsTab";var N=o.a.memo(S);t.default=N}}]);