(this.webpackJsonpui_v2=this.webpackJsonpui_v2||[]).push([[19],{1042:function(e,t,n){},1043:function(e,t,n){},1044:function(e,t,n){},1045:function(e,t,n){},1046:function(e,t,n){},1047:function(e,t,n){},1048:function(e,t,n){},1049:function(e,t,n){},1050:function(e,t,n){},1051:function(e,t,n){},1052:function(e,t,n){"use strict";var a=n(2),o=n(473),i=n(220);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(e,Object(a.a)({defaultTheme:i.a},t))}},1053:function(e,t,n){},640:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(91),l=n(280),s=n(8),c=n(15),r=n(48);var d=Object(r.d)(r.c.METRICS),u=n(11),h=n(394),g=n(284),p=n(56),m=n(65),v=n(13),j=n.n(v),b=n(387),x=n(838),f=n(721),O=n(383),C=n(782),_=n(812),y=n(723),S=n(108),R=n(55),N=n(10),A=n(35),E=n(71),P=n(199),w=n(12),T=n(810),k=n(353),M=n(705),D=n(700),I=n(3),z=n(93),B=(n(1042),n(1));function L(e){let{aggregationConfig:t,onChange:n}=e;function a(e){var a,o;const i=null===(a=e.target)||void 0===a?void 0:a.getAttribute("property"),l=null===(o=e.target)||void 0===o?void 0:o.getAttribute("data-name");i&&l&&t.methods[i]!==parseInt(l)&&"function"===typeof n&&n({methods:{...t.methods,[i]:parseInt(l)}})}return Object(B.jsx)(s.a,{children:Object(B.jsxs)("div",{className:"AggregationPopover",children:[Object(B.jsx)(I.n,{component:"h4",tint:50,className:"AggregationPopover__subtitle",children:"Select Line:"}),Object(B.jsxs)("div",{children:[Object(B.jsx)(M.a,{property:"line","data-name":z.b.MEAN,selected:t.methods.line===z.b.MEAN,onClick:a,children:"Mean"}),Object(B.jsx)(M.a,{property:"line","data-name":z.b.MEDIAN,selected:t.methods.line===z.b.MEDIAN,onClick:a,children:"Median"}),Object(B.jsx)(M.a,{property:"line","data-name":z.b.MIN,selected:t.methods.line===z.b.MIN,onClick:a,children:"Min"}),Object(B.jsx)(M.a,{property:"line","data-name":z.b.MAX,selected:t.methods.line===z.b.MAX,onClick:a,children:"Max"})]}),Object(B.jsx)(D.a,{className:"AggregationPopover__Divider"}),Object(B.jsx)(I.n,{component:"h4",tint:50,className:"AggregationPopover__subtitle",children:"Select Area:"}),Object(B.jsxs)("div",{children:[Object(B.jsx)(M.a,{property:"area","data-name":z.a.NONE,selected:t.methods.area===z.a.NONE,onClick:a,children:"None"}),Object(B.jsx)(M.a,{property:"area","data-name":z.a.MIN_MAX,selected:t.methods.area===z.a.MIN_MAX,onClick:a,children:"Min/Max"}),Object(B.jsx)(M.a,{property:"area","data-name":z.a.STD_DEV,selected:t.methods.area===z.a.STD_DEV,onClick:a,children:"Mean \xb1 Standard Deviation"}),Object(B.jsx)(M.a,{property:"area","data-name":z.a.STD_ERR,selected:t.methods.area===z.a.STD_ERR,onClick:a,children:"Mean \xb1 Standard Error"}),Object(B.jsx)(M.a,{property:"area","data-name":z.a.CONF_INT,selected:t.methods.area===z.a.CONF_INT,onClick:a,children:"Confidence Interval (95%)"})]})]})})}var V=o.a.memo(L),H=n(636),F=n(36),G=n(169);n(1043);const q={marks:[{value:0,label:"0"},{value:.25,label:"0.25"},{value:.5,label:"0.5"},{value:.75,label:"0.75"},{value:.99,label:"0.99"}],step:.01,min:0,max:.99,default:F.a.metrics.smoothing.factor},U={marks:[{value:1,label:"1"},{value:25,label:"25"},{value:51,label:"51"},{value:75,label:"75"},{value:99,label:"99"}],step:2,min:1,max:99,default:59};function W(e){const[t,n]=o.a.useState(e.smoothing.factor),a=o.a.useCallback((t=>{const a=t.target.id===G.a.EMA?q.default:U.default;n(a),e.onSmoothingChange({algorithm:t.target.id,factor:a})}),[e]);const i=o.a.useMemo((()=>e.smoothing.algorithm===G.a.EMA?q:U),[e.smoothing.algorithm]);return Object(B.jsx)(s.a,{children:Object(B.jsxs)("div",{className:"SmoothingPopover",children:[Object(B.jsxs)("div",{className:"SmoothingPopover__section",children:[Object(B.jsx)(I.n,{tint:50,component:"h4",className:"SmoothingPopover__subtitle",children:"Chart Smoothing"}),Object(B.jsx)("div",{className:"SmoothingPopover__Slider",children:Object(B.jsx)(H.a,{defaultValue:0,valueLabelDisplay:"auto",getAriaValueText:e=>"".concat(e,"s"),value:t,onChange:function(e,a){a!==t&&n(a)},onChangeCommitted:function(t,n){e.onSmoothingChange({factor:n})},marks:i.marks,step:i.step,max:i.max,min:i.min})}),Object(B.jsxs)("div",{children:[Object(B.jsx)(M.a,{id:G.a.EMA,selected:e.smoothing.algorithm===G.a.EMA,onClick:a,children:"Exponential Moving Average"}),Object(B.jsx)(M.a,{id:G.a.CMA,selected:e.smoothing.algorithm===G.a.CMA,onClick:a,children:"Centred Moving Average"})]})]}),Object(B.jsx)(D.a,{className:"SmoothingPopover__Divider"}),Object(B.jsxs)("div",{className:"SmoothingPopover__section",children:[Object(B.jsx)(I.n,{component:"h4",tint:50,className:"SmoothingPopover__subtitle",children:"Curve Interpolation method"}),Object(B.jsx)(I.o,{className:"SmoothingPopover__ToggleButton",title:"Select Method",onChange:function(t,n){e.onSmoothingChange({curveInterpolation:t})},id:"smoothing",rightLabel:"Cubic",leftLabel:"Linear",leftValue:w.d.Linear,rightValue:w.d.MonotoneX,value:e.smoothing.curveInterpolation})]})]})})}var K=o.a.memo(W);n(1044);function Z(e){let{mode:t,onChange:n}=e;function a(e){var a;const o=null===(a=e.target)||void 0===a?void 0:a.getAttribute("data-name");o&&t!==parseInt(o)&&"function"===typeof n&&n({mode:parseInt(o),active:!0})}return Object(B.jsx)(s.a,{children:Object(B.jsxs)("div",{className:"ZoomInPopover",children:[Object(B.jsx)(M.a,{"data-name":w.j.MULTIPLE,selected:t===w.j.MULTIPLE,onClick:a,children:"Multiple Zooming"}),Object(B.jsx)(M.a,{"data-name":w.j.SINGLE,selected:t===w.j.SINGLE,onClick:a,children:"Single Zooming"})]})})}var X=o.a.memo(Z);n(1045);function Q(e){var t;let{zoomHistory:n=[],onChange:a}=e;const o=m.a.groupBy(n,(e=>e.id));function i(e){var t;const o=null===(t=e.target)||void 0===t?void 0:t.getAttribute("data-name");if(o&&"function"===typeof a){const e=m.a.findLastIndex(n,(e=>e.id===o));let t=[...n];(e||0===e)&&t.splice(e,1),a({history:t,active:!1})}}return Object(B.jsx)(s.a,{children:Object(B.jsxs)("div",{className:"ZoomOutPopover",children:[null===(t=Object.keys(o))||void 0===t?void 0:t.map((e=>Object(B.jsx)(M.a,{"data-name":e,onClick:i,children:"Zoom Out Chart ".concat(e)},e))),Object(B.jsx)(M.a,{onClick:function(){"function"===typeof a&&(null===a||void 0===a||a({history:[],active:!1}))},children:"Reset Zooming"})]})})}var J=o.a.memo(Q);n(1046);function Y(e){let{mode:t,onChange:n}=e;function a(e){var a;const o=null===(a=e.target)||void 0===a?void 0:a.getAttribute("data-name");o&&t!==parseInt(o)&&"function"===typeof n&&n(parseInt(o))}return Object(B.jsx)(s.a,{children:Object(B.jsxs)("div",{className:"HighlightModePopover",children:[Object(B.jsx)(M.a,{"data-name":w.e.Off,selected:t===w.e.Off,onClick:a,children:"Highlight Off"}),Object(B.jsx)(M.a,{"data-name":w.e.Metric,selected:t===w.e.Metric,onClick:a,children:"Highlight Metric on Hover"}),Object(B.jsx)(M.a,{"data-name":w.e.Run,selected:t===w.e.Run,onClick:a,children:"Highlight Run On Hover"})]})})}var $=o.a.memo(Y),ee=n(79);n(1047);function te(e){function t(t,n){const a={...e.axesScaleType,[n]:t};e.onAxesScaleTypeChange(a)}return Object(B.jsx)(s.a,{children:Object(B.jsxs)("div",{className:"AxesScalePopover",children:[Object(B.jsx)(I.n,{size:12,tint:50,component:"p",className:"AxesScalePopover__subtitle",children:"Select Axes Scale:"}),Object(B.jsx)("div",{className:"AxesScalePopover__select",children:Object(B.jsx)(I.o,{title:"X-axis scale:",id:"xAxis",value:e.axesScaleType.xAxis,leftValue:w.h.Linear,rightValue:w.h.Log,leftLabel:"Linear",rightLabel:"Log",onChange:t})}),Object(B.jsx)("div",{className:"AxesScalePopover__select",children:Object(B.jsx)(I.o,{title:"Y-axis scale:",id:"yAxis",value:e.axesScaleType.yAxis,leftValue:w.h.Linear,rightValue:w.h.Log,leftLabel:"Linear",rightLabel:"Log",onChange:t})})]})})}var ne=o.a.memo(te),ae=n(441),oe=n(54);const ie=[{value:w.a.STEP,label:"Logging Iteration"},{value:w.a.EPOCH,label:"Step"},{value:w.a.RELATIVE_TIME,label:"Relative Time"},{value:w.a.ABSOLUTE_TIME,label:"Absolute Time"}],le=300;n(1048);function se(e){let{selectedIds:t,onAlignmentTypeChange:n,onAlignmentMetricChange:a,onAxesScaleRangeChange:i,alignmentConfigs:l,selectFormOptions:c,axesScaleRanges:r}=e;const[d,u]=o.a.useState({}),[h,g]=o.a.useState({min:!0,max:!0}),[p,v]=o.a.useState({}),[j,b]=o.a.useState({min:!0,max:!0}),x=o.a.useCallback((e=>{e&&("METRIC"===e.group?a(e.value):t.forEach((t=>{n(t,e.value)})))}),[a,n,t]),f=o.a.useMemo((()=>{let e=[];if(c)for(let a of c){var t,n;(null===a||void 0===a||null===(t=a.value)||void 0===t?void 0:t.option_name)&&null===(null===a||void 0===a||null===(n=a.value)||void 0===n?void 0:n.context)&&!Object(oe.a)(a.value.option_name)&&e.push({value:a.label,label:a.label,group:"METRIC"})}return ie.concat(e)}),[c]),O=o.a.useMemo((()=>{const e=l.filter(((e,n)=>t.includes(n)));return 0===e.length?null:e.every((e=>(null===e||void 0===e?void 0:e.type)===w.a.CUSTOM_METRIC))?e[0].metric:e[0].type}),[l,t]),C=o.a.useMemo((()=>({xAxis:{scaleRange:p,setScaleRange:v,setIsScaleRangeValid:b},yAxis:{scaleRange:d,setScaleRange:u,setIsScaleRangeValid:g}})),[p,d]),_=o.a.useCallback((function(e,n){var a;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isValid:!0};const[l,s]=((null===(a=e.target)||void 0===a?void 0:a.id)||"").split("-");if(l&&s){const{setScaleRange:e,setIsScaleRangeValid:a,scaleRange:c}=C[l];e((e=>({...e,[s]:n}))),a({min:!0,max:!0,[s]:o.isValid}),o.isValid&&t.forEach((e=>{i(e,{[l]:{...c,[s]:n}})}))}}),[i,C]),y=o.a.useCallback((e=>{t.forEach((t=>{i(t,{[e]:{min:void 0,max:void 0}})}))}),[i,t]),S=o.a.useMemo((()=>({min:e=>[{errorCondition:t=>void 0!==e&&t>e,errorText:"Value should be equal or smaller then ".concat(e)}],max:e=>[{errorCondition:t=>void 0!==e&&t<e,errorText:"Value should be equal or greater then ".concat(e)}]})),[]);o.a.useEffect((()=>{t.forEach((e=>{v((t=>void 0!==r[e]?m.a.isEqual(r[e].xAxis,t)?t:r[e].xAxis:t)),u((t=>void 0!==r[e]?m.a.isEqual(r[e].yAxis,t)?t:r[e].yAxis:t))}))}),[t,r]),o.a.useEffect((()=>{t.length>1&&(y("xAxis"),y("yAxis"))}),[t]);const R=o.a.useMemo((()=>void 0===p.min&&void 0===p.max),[p]),N=o.a.useMemo((()=>void 0===d.min&&void 0===d.max),[d]),A=0===t.length;return Object(B.jsx)(s.a,{children:Object(B.jsxs)("div",{className:"AxesPropsPopover",children:[Object(B.jsxs)("div",{className:"AxesPropsPopover__alignment",children:[Object(B.jsx)(I.n,{component:"p",tint:50,className:"AxesPropsPopover__subtitle",children:"X AXIS ALIGNMENT:"}),Object(B.jsx)(I.j,{selectOptions:f,handleSelect:x,ListboxProps:{style:{height:253,padding:0}},disabled:A,selected:O})]}),Object(B.jsx)(D.a,{className:"AxesPropsPopover__divider"}),Object(B.jsxs)("div",{className:"AxesPropsPopover__range",children:[Object(B.jsx)(I.n,{component:"p",tint:50,className:"AxesPropsPopover__subtitle",children:"SET AXES RANGE:"}),Object(B.jsxs)("div",{className:"AxesPropsPopover__range__container xAxis",children:[Object(B.jsx)(I.n,{size:14,className:"scaleRangeInputs__label",children:"X-axis"}),Object(B.jsx)(I.g,{id:"xAxis-min",label:"Min",type:"number",InputLabelProps:{shrink:!0},wrapperClassName:"scaleRangeInputs__min",value:p.min,showMessageByTooltip:!0,tooltipPlacement:"bottom",isRequiredNumberValue:!1,isNumberValueFloat:!0,debounceDelay:le,onChange:_,validationPatterns:S.min(p.max),isValid:j.min,disabled:A},"xAxis-min"),Object(B.jsx)(I.g,{id:"xAxis-max",label:"Max",type:"number",InputLabelProps:{shrink:!0},wrapperClassName:"scaleRangeInputs__max",value:p.max,showMessageByTooltip:!0,tooltipPlacement:"bottom",isRequiredNumberValue:!1,isNumberValueFloat:!0,debounceDelay:le,onChange:_,validationPatterns:S.max(p.min),isValid:j.max,disabled:A},"xAxis-max"),Object(B.jsx)(I.c,{disabled:R,className:"scaleRangeInputs__resetButton",onClick:()=>!R&&y("xAxis"),withOnlyIcon:!0,children:Object(B.jsx)(I.f,{name:"reset"})})]}),Object(B.jsxs)("div",{className:"AxesPropsPopover__range__container yAxis",children:[Object(B.jsx)(I.n,{size:14,className:"scaleRangeInputs__label",children:"Y-axis"}),Object(B.jsx)(I.g,{id:"yAxis-min",label:"Min",type:"number",InputLabelProps:{shrink:!0},wrapperClassName:"scaleRangeInputs__min",value:d.min,showMessageByTooltip:!0,tooltipPlacement:"bottom",isRequiredNumberValue:!1,isNumberValueFloat:!0,debounceDelay:le,onChange:_,validationPatterns:S.min(d.max),isValid:h.min,disabled:A},"yAxis-min"),Object(B.jsx)(I.g,{id:"yAxis-max",label:"Max",type:"number",InputLabelProps:{shrink:!0},wrapperClassName:"scaleRangeInputs__max",value:d.max,showMessageByTooltip:!0,tooltipPlacement:"bottom",isRequiredNumberValue:!1,isNumberValueFloat:!0,debounceDelay:le,onChange:_,validationPatterns:S.max(d.min),isValid:h.max,disabled:A},"yAxis-max"),Object(B.jsx)(I.c,{disabled:N,className:"scaleRangeInputs__resetButton",onClick:()=>!N&&y("yAxis"),withOnlyIcon:!0,children:Object(B.jsx)(I.f,{name:"reset"})})]})]})]})})}var ce=o.a.memo(se);n(1049);function re(e){let{idsOptions:t,onAlignmentTypeChange:n,onAlignmentMetricChange:o,onAxesScaleRangeChange:i,alignmentConfigs:l,selectFormOptions:c,axesScaleRanges:r}=e;const[d,u]=Object(a.useState)([]),h=t.map((e=>({value:e.value,label:e.label}))),g=Object(a.useCallback)((e=>{e.some((e=>"*"===e.value))?d.length===t.length?u([]):u(t.map((e=>e.value))):u(e.map((e=>e.value)))}),[t,d]),p=h.filter((e=>d.includes(e.value)));return Object(B.jsxs)(s.a,{children:[Object(B.jsxs)("div",{className:"MultipleAxesPropsPopover",children:[Object(B.jsx)(I.n,{component:"p",tint:50,children:"CHART ID:"}),Object(B.jsx)(ae.a,{isMulti:!0,value:p,options:[{value:"*",label:"Select All"},...h],onChange:g,classNamePrefix:"react-select",closeMenuOnSelect:!1,hideSelectedOptions:!1,className:"react-select-container"}),Object(B.jsx)(D.a,{className:"MultipleAxesPropsPopover__divider"})]}),Object(B.jsx)(ce,{selectedIds:d,selectFormOptions:c,alignmentConfigs:l,axesScaleRanges:r,onAlignmentMetricChange:o,onAlignmentTypeChange:n,onAxesScaleRangeChange:i})]})}var de=o.a.memo(re),ue=n(787),he=n(906),ge=n(811),pe=n(818),me=n(421);n(1050);var ve=function(e){var t,n,a,i,l,c,r,d,u,h,g;const[p,v]=o.a.useState(!1),b=o.a.useMemo((()=>e.highlightMode!==F.a.metrics.highlightMode),[e.highlightMode]),x=o.a.useMemo((()=>e.axesScaleType.xAxis!==F.a.metrics.axesScaleType.xAxis||e.axesScaleType.yAxis!==F.a.metrics.axesScaleType.yAxis),[e.axesScaleType]),f=o.a.useMemo((()=>!e.alignmentConfigs.every((t=>t.metric!==F.a.metrics.alignmentConfig.metric||t.type!==F.a.metrics.alignmentConfig.type||e.densityType!==F.a.metrics.densityType))),[e.alignmentConfigs,e.densityType]),O=o.a.useMemo((()=>!e.axesScaleRanges.every((e=>m.a.isEqual(e,F.a.metrics.axesScaleRange)))),[e.axesScaleRanges]),C=o.a.useMemo((()=>{var t,n;return(null===(t=e.tooltip)||void 0===t?void 0:t.appearance)!==F.a.metrics.tooltip.appearance||(null===(n=e.tooltip.selectedFields)||void 0===n?void 0:n.length)!==F.a.metrics.tooltip.selectedFields.length}),[e.tooltip]),_=o.a.useCallback((()=>{v((e=>!e))}),[v]),y=[];return e.chartProps.forEach(((e,t)=>{const n=Object(me.a)(e.chartTitle);y.push({label:"".concat(t+1," - ").concat(n),value:t})})),Object(B.jsx)(s.a,{children:Object(B.jsxs)("div",{className:"Controls__container ScrollBar__hidden",children:[Object(B.jsx)("div",{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(ee.a,{title:"Select aggregation method",open:e.aggregationConfig.isEnabled,anchor:t=>{let{onAnchorClick:n,opened:a}=t;return Object(B.jsx)(k.a,{title:e.aggregationConfig.isApplied?"Deaggregate metrics":"Aggregate metrics",children:Object(B.jsxs)("div",{className:j()("Controls__anchor",{active:e.aggregationConfig.isApplied,outlined:e.aggregationConfig.isApplied,disabled:!e.aggregationConfig.isEnabled}),onClick:()=>{var t;e.aggregationConfig.isEnabled&&e.onAggregationConfigChange({isApplied:!(null===(t=e.aggregationConfig)||void 0===t?void 0:t.isApplied)})},children:[e.aggregationConfig.isEnabled?Object(B.jsx)("span",{className:j()("Controls__anchor__arrow",{opened:a}),onClick:n,children:Object(B.jsx)(I.f,{name:"arrow-left",fontSize:9})}):null,Object(B.jsx)(I.f,{name:"aggregation",className:j()("Controls__icon",{active:e.aggregationConfig.isApplied})})]})})},component:Object(B.jsx)(V,{aggregationConfig:e.aggregationConfig,onChange:e.onAggregationConfigChange})})})}),Object(B.jsx)("div",{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(ee.a,{title:"Axes properties",anchor:e=>{let{onAnchorClick:t,opened:n}=e;return Object(B.jsx)(k.a,{title:"Axes properties",children:Object(B.jsx)("div",{onClick:t,className:j()("Controls__anchor",{active:n||f||O,outlined:!n&&(f||O)}),children:Object(B.jsx)(I.f,{className:j()("Controls__icon",{active:n||f||O}),name:"axes-props"})})})},component:Object(B.jsx)(de,{idsOptions:y,selectFormOptions:e.selectFormOptions,alignmentConfigs:e.alignmentConfigs,axesScaleRanges:e.axesScaleRanges,onAlignmentMetricChange:e.onAlignmentMetricChange,onAlignmentTypeChange:e.onAlignmentTypeChange,onAxesScaleRangeChange:e.onAxesScaleRangeChange})})})}),Object(B.jsx)("div",{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(ee.a,{title:"Axes scale",anchor:e=>{let{onAnchorClick:t,opened:n}=e;return Object(B.jsx)(k.a,{title:"Axes scale",children:Object(B.jsx)("div",{onClick:t,className:j()("Controls__anchor",{active:n||x,outlined:!n&&x}),children:Object(B.jsx)(I.f,{className:j()("Controls__icon",{active:n||x}),name:"axes-scale"})})})},component:Object(B.jsx)(ne,{axesScaleType:e.axesScaleType,onAxesScaleTypeChange:e.onAxesScaleTypeChange})})})}),Object(B.jsx)("div",{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(ee.a,{title:"Chart smoothing options",anchor:t=>{let{onAnchorClick:n,opened:a}=t;return Object(B.jsx)(k.a,{title:e.smoothing.isApplied?"Disable smoothing":"Apply smoothing",children:Object(B.jsxs)("div",{className:j()("Controls__anchor",{active:e.smoothing.isApplied,outlined:e.smoothing.isApplied}),onClick:()=>{var t;e.onSmoothingChange({isApplied:!(null===(t=e.smoothing)||void 0===t?void 0:t.isApplied)})},children:[Object(B.jsx)("span",{className:j()("Controls__anchor__arrow",{opened:a}),onClick:n,children:Object(B.jsx)(I.f,{name:"arrow-left",fontSize:9})}),Object(B.jsx)(I.f,{className:j()("Controls__icon",{active:e.smoothing.isApplied}),name:"smoothing"})]})})},component:Object(B.jsx)(K,{onSmoothingChange:e.onSmoothingChange,smoothing:e.smoothing})})})}),Object(B.jsx)(k.a,{title:e.ignoreOutliers?"Outliers are ignored":"Ignore outliers",children:Object(B.jsx)("div",{className:j()("Controls__anchor",{active:e.ignoreOutliers,outlined:e.ignoreOutliers}),onClick:e.onIgnoreOutliersChange,children:Object(B.jsx)(I.f,{className:j()("Controls__icon",{active:e.ignoreOutliers}),name:"ignore-outliers"})})}),Object(B.jsx)("div",{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(ee.a,{title:"Highlight modes",anchor:e=>{let{onAnchorClick:t,opened:n}=e;return Object(B.jsx)(k.a,{title:"Highlight modes",children:Object(B.jsx)("div",{className:j()("Controls__anchor",{active:n||b,outlined:!n&&b}),onClick:t,children:Object(B.jsx)(I.f,{className:j()("Controls__icon",{active:n||b}),name:"highlight-mode"})})})},component:Object(B.jsx)($,{mode:e.highlightMode,onChange:e.onHighlightModeChange})})})}),Object(B.jsx)("div",{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(ee.a,{title:"Display in tooltip",anchor:e=>{let{onAnchorClick:t,opened:n}=e;return Object(B.jsx)(k.a,{title:"Tooltip fields",children:Object(B.jsx)("div",{onClick:t,className:j()("Controls__anchor",{active:n||C,outlined:!n&&C}),children:Object(B.jsx)(I.f,{className:j()("Controls__icon",{active:n||C}),name:"cursor"})})})},component:Object(B.jsx)(ue.a,{selectOptions:e.selectOptions,selectedFields:null===(t=e.tooltip)||void 0===t?void 0:t.selectedFields,tooltipAppearance:null===(n=e.tooltip)||void 0===n?void 0:n.appearance,isTooltipDisplayed:null===(a=e.tooltip)||void 0===a?void 0:a.display,onChangeTooltip:e.onChangeTooltip})})})}),Object(B.jsx)("div",{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(k.a,{title:(null===(i=e.legends)||void 0===i?void 0:i.display)?"Hide legends":"Display legends",children:Object(B.jsx)("div",{className:j()("Controls__anchor",{active:(null===(l=e.legends)||void 0===l?void 0:l.display)&&!m.a.isEmpty(e.legendsData),outlined:(null===(c=e.legends)||void 0===c?void 0:c.display)&&!m.a.isEmpty(e.legendsData),disabled:m.a.isEmpty(e.legendsData)}),onClick:()=>{var t;m.a.isEmpty(e.legendsData)||e.onLegendsChange({display:!(null===(t=e.legends)||void 0===t?void 0:t.display)})},children:Object(B.jsx)(I.f,{className:j()("Controls__icon",{active:null===(r=e.legends)||void 0===r?void 0:r.display}),name:"chart-legends"})})})})}),Object(B.jsx)("div",{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(ee.a,{title:"Select zoom mode",anchor:t=>{var n,a;let{onAnchorClick:o,opened:i}=t;return Object(B.jsx)(k.a,{title:"Zoom in",children:Object(B.jsxs)("div",{className:j()("Controls__anchor",{active:null===(n=e.zoom)||void 0===n?void 0:n.active}),onClick:()=>{var t;e.zoom&&(null===(t=e.onZoomChange)||void 0===t||t.call(e,{active:!e.zoom.active}))},children:[Object(B.jsx)("span",{className:j()("Controls__anchor__arrow",{opened:i}),onClick:o,children:Object(B.jsx)(I.f,{name:"arrow-left",fontSize:9})}),Object(B.jsx)(I.f,{className:j()("Controls__icon",{active:null===(a=e.zoom)||void 0===a?void 0:a.active}),name:"zoom-in"})]})})},component:Object(B.jsx)(X,{mode:null===(d=e.zoom)||void 0===d?void 0:d.mode,onChange:e.onZoomChange})})})}),Object(B.jsx)("div",{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(ee.a,{title:"Select option to zoom out",open:!!(null===(u=e.zoom)||void 0===u?void 0:u.history.length),anchor:t=>{var n,a;let{onAnchorClick:o,opened:i}=t;return Object(B.jsx)(k.a,{title:"Zoom out",children:Object(B.jsxs)("div",{className:j()("Controls__anchor",{disabled:!(null===(n=e.zoom)||void 0===n?void 0:n.history.length)}),onClick:()=>{var t,n;(null===(t=e.zoom)||void 0===t?void 0:t.history.length)&&(null===(n=e.onZoomChange)||void 0===n||n.call(e,{history:[...e.zoom.history].slice(0,-1)}))},children:[(null===(a=e.zoom)||void 0===a?void 0:a.history.length)?Object(B.jsx)("span",{className:j()("Controls__anchor__arrow",{opened:i}),onClick:o,children:Object(B.jsx)(I.f,{name:"arrow-left",fontSize:9})}):null,Object(B.jsx)(I.f,{className:"Controls__icon",name:"zoom-out"})]})})},component:Object(B.jsx)(J,{zoomHistory:null===(h=e.zoom)||void 0===h?void 0:h.history,onChange:e.onZoomChange})})})}),Object(B.jsxs)(s.a,{children:[Object(B.jsx)(k.a,{title:"Export chart",children:Object(B.jsx)("div",{className:"Controls__anchor",onClick:_,children:Object(B.jsx)(I.f,{className:"Controls__icon",name:"download"})})}),p&&Object(B.jsx)(he.a,{withDynamicDimensions:!0,openModal:p,explorerPage:"metrics",onToggleExportPreview:_,appendElement:(null===(g=e.legends)||void 0===g?void 0:g.display)&&!m.a.isEmpty(e.legendsData)?Object(B.jsx)(pe.a,{data:e.legendsData,readOnly:!0}):null,children:Object(B.jsx)(ge.a,{readOnly:!0,nameKey:"exportPreview",data:e.data,chartProps:e.chartProps,chartType:e.chartType})})]})]})})},je=n(710),be=n(1052),xe=n(729),fe=n(854);n(1051);const Oe=Object(be.a)({popper:{width:"100% !important"}});function Ce(e){var t,n,a,l,r;let{requestIsPending:h,isDisabled:g=!1,selectedMetricsData:p,selectFormData:m,onMetricsSelectChange:v,onSelectRunQueryChange:b,onSearchQueryCopy:x}=e;const[f,O]=o.a.useState(null),[C,_]=o.a.useState(""),[y,S]=o.a.useState(!1),[R,N]=o.a.useState(null),A=o.a.useRef(null),E=o.a.useRef(null);o.a.useEffect((()=>()=>{var e;null===(e=A.current)||void 0===e||e.abort()}),[]);const P=Oe();function w(){var e;if(h)return;let t=null===E||void 0===E||null===(e=E.current)||void 0===e?void 0:e.getValue();b(E.current.getValue()),A.current=d.getMetricsData(!0,!0,null!==t&&void 0!==t?t:""),A.current.call(),Object(u.b)(c.a.metrics.searchClick)}function T(e){let t=[...(null===p||void 0===p?void 0:p.options)||[]].filter((t=>t.key!==e));v(t)}const M=o.a.useMemo((()=>{var e,t;if(!y)return null!==(e=null===m||void 0===m||null===(t=m.options)||void 0===t?void 0:t.filter((e=>-1!==e.label.indexOf(C))))&&void 0!==e?e:[];try{var n,a;const e=new RegExp(C,"i");return N(null),null!==(n=null===m||void 0===m||null===(a=m.options)||void 0===a?void 0:a.filter((t=>e.test(t.label))))&&void 0!==n?n:[]}catch(o){return N("Invalid Regex"),[]}}),[C,null===m||void 0===m?void 0:m.options,y]),z=!!f,L=z?"select-metric":void 0;let V="Metrics",H=null!==(t=null===p||void 0===p||null===(n=p.options)||void 0===n?void 0:n.length)&&void 0!==t?t:0;H>0&&(V+=" (".concat(H,")"));let F=H<1,G=null===(a=Object(i.h)())||void 0===a||null===(l=a.runProps)||void 0===l?void 0:l.hash,q="";return void 0!==G&&(q='run.hash == "'.concat(G,'"')),Object(B.jsx)(s.a,{children:Object(B.jsxs)("div",{className:"Metrics__SelectForm",children:[Object(B.jsxs)("div",{className:"Metrics__SelectForm__container__metrics",children:[Object(B.jsx)(je.a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:Object(B.jsx)("div",{className:"Metrics__SelectForm__TextField",children:Object(B.jsx)(xe.a,{refObject:E,error:m.error,value:q||(null===p||void 0===p?void 0:p.query),context:m.suggestions,onEnter:w,disabled:g})})}),Object(B.jsxs)(je.a,{display:"flex",alignItems:"center",className:"Metrics__SelectForm__metricsBox",children:[Object(B.jsxs)(I.c,{variant:"contained",color:"primary",onClick:function(e){O(e.currentTarget)},"aria-describedby":L,disabled:g,className:"Metrics__SelectForm__metricsButton",children:[Object(B.jsx)(I.f,{name:"plus",style:{marginRight:"0.5rem"}}),V]}),Object(B.jsx)(fe.a,{id:L,type:"metrics",open:z,anchorEl:f,options:M,selectedData:p,onSelect:function(e,t){if("click"===e.type||"change"===e.type){const e=t.reduce(((e,t)=>(e[t.key]=++e[t.key]||0,e)),{});v(t.filter((t=>0===e[t.key])))}},searchValue:C,handleSearchInputChange:function(e){_(e.target.value)},handleClose:function(e,t){"toggleInput"!==t&&(f&&f.focus(),O(null),_(""))},regexError:R,setRegexError:N,isRegexSearch:y,setIsRegexSearch:S,className:"Metrics__SelectForm__Popper",classes:P}),Object(B.jsx)(D.a,{style:{margin:"0 1rem"},orientation:"vertical",flexItem:!0}),0===(null===p||void 0===p?void 0:p.options.length)&&Object(B.jsx)(I.n,{tint:50,size:14,weight:400,children:"No metrics are selected"}),Object(B.jsxs)(je.a,{className:"Metrics__SelectForm__tags ScrollBar__hidden",flex:1,children:[null===p||void 0===p||null===(r=p.options)||void 0===r?void 0:r.map((e=>Object(B.jsx)(I.b,{size:"small",label:e.label,value:e.key,onDelete:T,disabled:g},e.label))),(null===p||void 0===p?void 0:p.options)&&p.options.length>1&&Object(B.jsx)(I.c,{onClick:()=>v([]),withOnlyIcon:!0,className:j()("Metrics__SelectForm__clearAll",{disabled:g}),size:"xSmall",disabled:g,children:Object(B.jsx)(I.f,{name:"close"})})]})]})]}),Object(B.jsxs)("div",{className:"Metrics__SelectForm__container__search",children:[Object(B.jsxs)("div",{className:"Metrics__SelectForm__search__actions",children:[Object(B.jsx)(k.a,{title:"Reset query",children:Object(B.jsx)("div",{children:Object(B.jsx)(I.c,{onClick:function(){v([]),b("")},withOnlyIcon:!0,disabled:g,style:{width:"3rem"},children:Object(B.jsx)(I.f,{name:"reset"})})})}),Object(B.jsx)(k.a,{title:"Copy search query",children:Object(B.jsx)("div",{children:Object(B.jsx)(I.c,{onClick:x,withOnlyIcon:!0,disabled:g,style:{width:"3rem"},children:Object(B.jsx)(I.f,{name:"copy"})})})})]}),Object(B.jsx)(I.c,{fullWidth:!0,color:"primary",variant:h?"outlined":"contained",startIcon:Object(B.jsx)(I.f,{name:h?"close":"search",fontSize:h?12:14}),className:j()("Metrics__SelectForm__search__button",{disabled:F}),disabled:F,onClick:h?function(e){var t;e.preventDefault(),h&&(null===(t=A.current)||void 0===t||t.abort(),d.abortRequest())}:w,children:h?"Cancel":"Search"},"".concat(h))]})]})})}var _e=o.a.memo(Ce);n(1053);function ye(e){var t,n,a,i;const[l,c]=o.a.useState(!1),d=o.a.useMemo((()=>(e.lineChartData||[]).map(((t,n)=>{var a,o;return{axesScaleType:e.axesScaleType,axesScaleRange:e.axesScaleRanges[n],curveInterpolation:e.smoothing.isApplied?e.smoothing.curveInterpolation:w.d.Linear,ignoreOutliers:e.ignoreOutliers,highlightMode:e.highlightMode,aggregatedData:null===(a=e.aggregatedData)||void 0===a?void 0:a.filter((e=>{var n;return e.chartIndex===(null===(n=t[0])||void 0===n?void 0:n.chartIndex)})),zoom:e.zoom,chartTitle:e.chartTitleData[null===(o=t[0])||void 0===o?void 0:o.chartIndex],aggregationConfig:e.aggregationConfig,alignmentConfig:e.alignmentConfigs[n],onZoomChange:e.onZoomChange}}))),[e.lineChartData,e.axesScaleType,e.smoothing.curveInterpolation,e.smoothing.isApplied,e.ignoreOutliers,e.highlightMode,e.zoom,e.chartTitleData,e.aggregatedData,e.aggregationConfig,e.alignmentConfigs,e.onZoomChange,e.axesScaleRanges]);return Object(B.jsx)(s.a,{children:Object(B.jsxs)("div",{ref:e.wrapperElemRef,className:"Metrics__container",children:[Object(B.jsx)("section",{className:"Metrics__section",children:Object(B.jsxs)("div",{className:"Metrics__section__appBarContainer Metrics__fullHeight",children:[Object(B.jsx)(T.a,{disabled:l,onBookmarkCreate:e.onBookmarkCreate,onBookmarkUpdate:e.onBookmarkUpdate,onResetConfigData:e.onResetConfigData,liveUpdateConfig:e.liveUpdateConfig,onLiveUpdateConfigChange:e.onLiveUpdateConfigChange,title:S.a.METRICS_EXPLORER,onSelectExperimentsChange:e.onSelectExperimentsChange,onToggleAllExperiments:e.onToggleAllExperiments}),Object(B.jsxs)("div",{className:"Metrics__SelectForm__Grouping__container",children:[Object(B.jsx)(_e,{requestIsPending:e.requestStatus===E.a.Pending,isDisabled:l,selectFormData:e.selectFormData,selectedMetricsData:e.selectedMetricsData,onMetricsSelectChange:t=>{t.length>50?e.onNotificationAdd({id:Date.now(),severity:"warning",messages:["Maximum number of metrics is ".concat(50)]}):e.onMetricsSelectChange(t)},onSelectRunQueryChange:e.onSelectRunQueryChange,onSearchQueryCopy:e.onSearchQueryCopy}),Object(B.jsx)(_.a,{groupingPopovers:A.b.filter((e=>e.groupName===A.a.COLOR||e.groupName===A.a.STROKE||e.groupName===A.a.CHART)),isDisabled:l,groupingData:e.groupingData,groupingSelectOptions:e.groupingSelectOptions,onGroupingSelectChange:e.onGroupingSelectChange,onGroupingModeChange:e.onGroupingModeChange,onGroupingPaletteChange:e.onGroupingPaletteChange,onGroupingReset:e.onGroupingReset,onGroupingApplyChange:e.onGroupingApplyChange,onGroupingPersistenceChange:e.onGroupingPersistenceChange,onGroupingConditionsChange:e.onGroupingConditionsChange,onShuffleChange:e.onShuffleChange})]}),Object(B.jsxs)("div",{className:"Metrics__visualization",children:[Object(B.jsx)(y.a,{progress:e.requestProgress,pendingStatus:e.requestStatus===E.a.Pending,processing:!1,setIsProgressBarVisible:c}),m.a.isEmpty(e.tableData)&&m.a.isEmpty(e.lineChartData)?Object(B.jsx)(O.a,{size:"xLarge",page:"metrics",type:(null===(t=e.selectFormData.options)||void 0===t?void 0:t.length)?P.e[e.requestStatus]:P.c.EmptyData}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("div",{ref:e.chartElemRef,className:j()("Metrics__chart__container",{fullHeight:e.resizeMode===R.b.Hide,hide:e.resizeMode===R.b.MaxHeight}),children:e.resizeMode===R.b.MaxHeight?null:Object(B.jsx)(x.a,{ref:e.chartPanelRef,selectOptions:e.groupingSelectOptions,chartPanelOffsetHeight:e.chartPanelOffsetHeight,panelResizing:e.panelResizing,chartType:w.b.LineChart,data:e.lineChartData,legendsData:e.legendsData,focusedState:e.focusedState,tooltip:e.tooltip,legends:e.legends,alignmentConfigs:e.alignmentConfigs,zoom:e.zoom,chartProps:d,resizeMode:e.resizeMode,onActivePointChange:e.onActivePointChange,onRunsTagsChange:e.onRunsTagsChange,onChangeTooltip:e.onChangeTooltip,onLegendsChange:e.onLegendsChange,controls:Object(B.jsx)(ve,{data:e.lineChartData,legendsData:e.legendsData,chartType:w.b.LineChart,chartProps:d,selectOptions:e.groupingSelectOptions,tooltip:e.tooltip,legends:e.legends,smoothing:e.smoothing,densityType:e.densityType,ignoreOutliers:e.ignoreOutliers,zoom:e.zoom,highlightMode:e.highlightMode,aggregationConfig:e.aggregationConfig,axesScaleType:e.axesScaleType,axesScaleRanges:e.axesScaleRanges,alignmentConfigs:e.alignmentConfigs,onChangeTooltip:e.onChangeTooltip,onIgnoreOutliersChange:e.onIgnoreOutliersChange,onLegendsChange:e.onLegendsChange,onZoomChange:e.onZoomChange,onHighlightModeChange:e.onHighlightModeChange,onAxesScaleTypeChange:e.onAxesScaleTypeChange,onSmoothingChange:e.onSmoothingChange,onAggregationConfigChange:e.onAggregationConfigChange,onAxesScaleRangeChange:e.onAxesScaleRangeChange,onDensityTypeChange:e.onDensityTypeChange,onAlignmentTypeChange:e.onAlignmentTypeChange,onAlignmentMetricChange:e.onAlignmentMetricChange,selectFormOptions:e.selectFormData.options})},null===(n=e.lineChartData)||void 0===n?void 0:n.length)}),Object(B.jsx)(C.a,{className:"Metrics__ResizePanel",panelResizing:e.panelResizing,resizeElemRef:e.resizeElemRef,resizeMode:e.resizeMode,onTableResizeModeChange:e.onTableResizeModeChange}),Object(B.jsx)("div",{ref:e.tableElemRef,className:j()("Metrics__table__container",{fullHeight:e.resizeMode===R.b.MaxHeight,hide:e.resizeMode===R.b.Hide}),children:e.resizeMode===R.b.Hide?null:Object(B.jsx)(s.a,{children:Object(B.jsx)(b.a,{custom:!0,ref:e.tableRef,data:e.tableData,columns:e.tableColumns,multiSelect:!0,topHeader:!0,groups:!Array.isArray(e.tableData),rowHeight:e.tableRowHeight,rowHeightMode:e.tableRowHeight===N.e.sm?"small":e.tableRowHeight===N.e.md?"medium":"large",sortOptions:e.sortOptions,sortFields:e.sortFields,hiddenRows:e.hiddenMetrics,hiddenColumns:e.hiddenColumns,resizeMode:e.resizeMode,columnsWidths:e.columnsWidths,selectedRows:e.selectedRows,unselectedColumnState:e.unselectedColumnState,hideSystemMetrics:e.hideSystemMetrics,appName:r.b.METRICS,hiddenChartRows:0===(null===(a=e.lineChartData)||void 0===a?void 0:a.length),columnsOrder:e.columnsOrder,sameValueColumns:null===e||void 0===e?void 0:e.sameValueColumns,onSort:e.onSortChange,onSortReset:e.onSortReset,onExport:e.onExportTableData,onManageColumns:e.onColumnsOrderChange,onColumnsVisibilityChange:e.onColumnsVisibilityChange,onDefaultColumnsVisibilityChange:e.onDefaultColumnsVisibilityChange,onTableDiffShow:e.onTableDiffShow,onRowHeightChange:e.onRowHeightChange,onRowsChange:e.onMetricVisibilityChange,onRowHover:e.onTableRowHover,onRowClick:e.onTableRowClick,onTableResizeModeChange:e.onTableResizeModeChange,updateColumnsWidths:e.updateColumnsWidths,onRowSelect:e.onRowSelect,archiveRuns:e.archiveRuns,deleteRuns:e.deleteRuns,onRowsVisibilityChange:e.onRowsVisibilityChange,focusedState:e.focusedState,visualizationElementType:N.k.LINE})})})]})]})]})}),(null===(i=e.notifyData)||void 0===i?void 0:i.length)>0&&Object(B.jsx)(f.a,{handleClose:e.onNotificationDelete,data:e.notifyData})]})})}var Se=o.a.memo(ye);t.default=function(){var e,t,n,a,m,v,j,b,x,f,O,C,_,y,S,R,N,A,E,P,w,T,k,M,D,I,z,L,V,H,F,G,q,U,W,K,Z,X,Q,J,Y,$,ee,te,ne;const ae=o.a.useRef(null),oe=o.a.useRef(null),ie=o.a.useRef(null),le=o.a.useRef(null),se=o.a.useRef(null),ce=o.a.useRef(null),re=Object(i.j)(),de=Object(i.g)(),ue=Object(l.a)(d),[he,ge]=o.a.useState(null===le||void 0===le||null===(e=le.current)||void 0===e?void 0:e.offsetHeight),pe=Object(l.b)(se,le,ie,ce,(null===ue||void 0===ue||null===(t=ue.config)||void 0===t?void 0:t.table)||void 0,d.onTableResizeEnd);return Object(l.c)((()=>{var e,t;(null===le||void 0===le||null===(e=le.current)||void 0===e?void 0:e.offsetHeight)!==he&&ge(null===le||void 0===le||null===(t=le.current)||void 0===t?void 0:t.offsetHeight)}),le),o.a.useEffect((()=>{ae.current&&oe.current&&Object(h.a)({model:d,refElement:{tableRef:ae,chartPanelRef:oe}})}),[null===ue||void 0===ue?void 0:ue.rawData]),o.a.useEffect((()=>{d.fetchProjectParamsAndUpdateState();const e=setInterval((()=>{d.fetchProjectParamsAndUpdateState()}),3e4);return()=>clearInterval(e)}),[]),o.a.useEffect((()=>{let e,t;d.initialize(re.params.appId),re.params.appId?(e=d.getAppConfigData(re.params.appId),e.call((e=>{Object(p.a)({detail:e,model:d})})).then((()=>{d.setDefaultAppConfigData(!1),t=d.getMetricsData(),t.call((e=>{Object(p.a)({detail:e,model:d})}))}))):(d.setDefaultAppConfigData(),t=d.getMetricsData(),t.call((e=>{Object(p.a)({detail:e,model:d})}))),u.a(c.a.metrics.pageView);const n=de.listen((()=>{(null===ue||void 0===ue?void 0:ue.config)&&(ue.config.grouping===Object(g.a)("grouping")&&ue.config.chart===Object(g.a)("chart")&&ue.config.select===Object(g.a)("select")||de.location.pathname!=="/".concat(r.b.METRICS)||(d.setDefaultAppConfigData(),d.updateModelData()))}));return()=>{var a;d.destroy(),null===(a=t)||void 0===a||a.abort(),n(),e&&e.abort()}}),[]),Object(B.jsx)(s.a,{children:Object(B.jsx)(Se,{tableRef:ae,chartPanelRef:oe,tableElemRef:ie,chartElemRef:le,wrapperElemRef:se,resizeElemRef:ce,groupingData:null===ue||void 0===ue||null===(n=ue.config)||void 0===n?void 0:n.grouping,panelResizing:pe,lineChartData:null===ue||void 0===ue?void 0:ue.lineChartData,chartTitleData:null===ue||void 0===ue?void 0:ue.chartTitleData,legendsData:null===ue||void 0===ue?void 0:ue.legendsData,ignoreOutliers:null===ue||void 0===ue||null===(a=ue.config)||void 0===a||null===(m=a.chart)||void 0===m?void 0:m.ignoreOutliers,legends:null===ue||void 0===ue||null===(v=ue.config)||void 0===v||null===(j=v.chart)||void 0===j?void 0:j.legends,tableData:null===ue||void 0===ue?void 0:ue.tableData,sameValueColumns:null===ue||void 0===ue?void 0:ue.sameValueColumns,tableColumns:null===ue||void 0===ue?void 0:ue.tableColumns,aggregatedData:null===ue||void 0===ue?void 0:ue.aggregatedData,zoom:null===ue||void 0===ue||null===(b=ue.config)||void 0===b||null===(x=b.chart)||void 0===x?void 0:x.zoom,highlightMode:null===ue||void 0===ue||null===(f=ue.config)||void 0===f||null===(O=f.chart)||void 0===O?void 0:O.highlightMode,axesScaleType:null===ue||void 0===ue||null===(C=ue.config)||void 0===C||null===(_=C.chart)||void 0===_?void 0:_.axesScaleType,axesScaleRanges:null===ue||void 0===ue||null===(y=ue.config)||void 0===y||null===(S=y.chart)||void 0===S?void 0:S.axesScaleRanges,smoothing:null===ue||void 0===ue||null===(R=ue.config)||void 0===R||null===(N=R.chart)||void 0===N?void 0:N.smoothing,focusedState:null===ue||void 0===ue||null===(A=ue.config)||void 0===A||null===(E=A.chart)||void 0===E?void 0:E.focusedState,notifyData:null===ue||void 0===ue?void 0:ue.notifyData,tooltip:null===ue||void 0===ue?void 0:ue.tooltip,aggregationConfig:null===ue||void 0===ue||null===(P=ue.config)||void 0===P||null===(w=P.chart)||void 0===w?void 0:w.aggregationConfig,alignmentConfigs:null===ue||void 0===ue||null===(T=ue.config)||void 0===T||null===(k=T.chart)||void 0===k?void 0:k.alignmentConfigs,densityType:null===ue||void 0===ue||null===(M=ue.config)||void 0===M||null===(D=M.chart)||void 0===D?void 0:D.densityType,selectedMetricsData:null===ue||void 0===ue||null===(I=ue.config)||void 0===I?void 0:I.select,tableRowHeight:null===ue||void 0===ue||null===(z=ue.config)||void 0===z||null===(L=z.table)||void 0===L?void 0:L.rowHeight,sortFields:null===ue||void 0===ue||null===(V=ue.config)||void 0===V||null===(H=V.table)||void 0===H?void 0:H.sortFields,hiddenMetrics:null===ue||void 0===ue||null===(F=ue.config)||void 0===F||null===(G=F.table)||void 0===G?void 0:G.hiddenMetrics,hideSystemMetrics:null===ue||void 0===ue||null===(q=ue.config)||void 0===q||null===(U=q.table)||void 0===U?void 0:U.hideSystemMetrics,hiddenColumns:null===ue||void 0===ue||null===(W=ue.config)||void 0===W||null===(K=W.table)||void 0===K?void 0:K.hiddenColumns,unselectedColumnState:null===ue||void 0===ue||null===(Z=ue.config)||void 0===Z||null===(X=Z.table)||void 0===X?void 0:X.unselectedColumnState,chartPanelOffsetHeight:he,selectedRows:null===ue||void 0===ue?void 0:ue.selectedRows,groupingSelectOptions:null===ue||void 0===ue?void 0:ue.groupingSelectOptions,sortOptions:null===ue||void 0===ue?void 0:ue.sortOptions,resizeMode:null===ue||void 0===ue||null===(Q=ue.config)||void 0===Q||null===(J=Q.table)||void 0===J?void 0:J.resizeMode,columnsWidths:null===ue||void 0===ue||null===(Y=ue.config)||void 0===Y||null===($=Y.table)||void 0===$?void 0:$.columnsWidths,requestStatus:null===ue||void 0===ue?void 0:ue.requestStatus,requestProgress:null===ue||void 0===ue?void 0:ue.requestProgress,selectFormData:null===ue||void 0===ue?void 0:ue.selectFormData,columnsOrder:null===ue||void 0===ue||null===(ee=ue.config)||void 0===ee||null===(te=ee.table)||void 0===te?void 0:te.columnsOrder,onChangeTooltip:d.onChangeTooltip,onRunsTagsChange:d.onRunsTagsChange,onIgnoreOutliersChange:d.onIgnoreOutliersChange,onLegendsChange:d.onLegendsChange,onZoomChange:d.onZoomChange,onHighlightModeChange:d.onHighlightModeChange,onSmoothingChange:d.onSmoothingChange,onTableRowHover:d.onTableRowHover,onTableRowClick:d.onTableRowClick,updateColumnsWidths:d.updateColumnsWidths,onAxesScaleTypeChange:d.onAxesScaleTypeChange,onAxesScaleRangeChange:d.onAxesScaleRangeChange,onAggregationConfigChange:d.onAggregationConfigChange,onGroupingSelectChange:d.onGroupingSelectChange,onGroupingModeChange:d.onGroupingModeChange,onGroupingPaletteChange:d.onGroupingPaletteChange,onGroupingReset:d.onGroupingReset,onActivePointChange:d.onActivePointChange,onGroupingApplyChange:d.onGroupingApplyChange,onGroupingPersistenceChange:d.onGroupingPersistenceChange,onGroupingConditionsChange:d.onGroupingConditionsChange,onBookmarkCreate:d.onBookmarkCreate,onBookmarkUpdate:d.onBookmarkUpdate,onNotificationAdd:d.onNotificationAdd,onNotificationDelete:d.onNotificationDelete,onResetConfigData:d.onResetConfigData,onAlignmentMetricChange:d.onAlignmentMetricChange,onAlignmentTypeChange:d.onAlignmentTypeChange,onDensityTypeChange:d.onDensityTypeChange,onMetricsSelectChange:d.onMetricsSelectChange,onSelectExperimentsChange:d.onSelectExperimentsChange,onToggleAllExperiments:d.onToggleAllExperiments,onSelectRunQueryChange:d.onSelectRunQueryChange,onExportTableData:d.onExportTableData,onRowHeightChange:d.onRowHeightChange,onSortChange:d.onSortChange,onSortReset:d.onSortReset,onMetricVisibilityChange:d.onMetricVisibilityChange,onColumnsOrderChange:d.onColumnsOrderChange,onColumnsVisibilityChange:d.onColumnsVisibilityChange,onDefaultColumnsVisibilityChange:d.onDefaultColumnsVisibilityChange,onTableDiffShow:d.onTableDiffShow,onTableResizeModeChange:d.onTableResizeModeChange,onRowsVisibilityChange:d.onRowsVisibilityChange,liveUpdateConfig:null===ue||void 0===ue||null===(ne=ue.config)||void 0===ne?void 0:ne.liveUpdate,onLiveUpdateConfigChange:d.changeLiveUpdateConfig,onShuffleChange:d.onShuffleChange,onSearchQueryCopy:d.onSearchQueryCopy,onRowSelect:d.onRowSelect,archiveRuns:d.archiveRuns,deleteRuns:d.deleteRuns})})}},714:function(e,t,n){"use strict";var a=n(722),o=n.n(a),i=n(72),l=n(379);const s={data:null,loading:!0,error:null};t.a=function(e){const t=o()((()=>s));return{fetchData:async function(n){t.setState({loading:!0});try{const a=await e(n);t.setState({data:a,loading:!1})}catch(a){(null===a||void 0===a?void 0:a.error_code)===l.a.RESOURCE_DOES_NOT_EXIST&&(window.location.href=Object(i.f)()),t.setState({error:a,loading:!1})}},state:t,destroy:function(){t.destroy(),t.setState(s,!0)}}}},716:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,o=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){let{title:n,titleId:l,...s}=e;return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44",ref:t,"aria-labelledby":l},s),n?o.createElement("title",{id:l},n):null,a||(a=o.createElement("path",{fill:"#30954c",d:"M22,3A19,19,0,1,0,41,22,19,19,0,0,0,22,3Zm8.53259,14.69269-9.8518,11.61108a1.50007,1.50007,0,0,1-2.2876,0l-4.9259-5.8056a1.5,1.5,0,1,1,2.28753-1.94086L19.537,26.01489l8.70813-10.26312a1.5,1.5,0,1,1,2.28747,1.94092Z"})))}const s=o.forwardRef(l);n.p},717:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,o=n(0);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){let{title:n,titleId:l,...s}=e;return o.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44",ref:t,"aria-labelledby":l},s),n?o.createElement("title",{id:l},n):null,a||(a=o.createElement("path",{fill:"#cc231a",d:"M22,3A19,19,0,1,0,41,22,19,19,0,0,0,22,3Zm7.91309,24.794.1455.15332a1.50037,1.50037,0,0,1,.38477.48535,1.46959,1.46959,0,0,1,.1543.59863A1.49927,1.49927,0,0,1,29.6416,30.499a1.39236,1.39236,0,0,1-.61133.09864,1.48626,1.48626,0,0,1-.59961-.1543,1.551,1.551,0,0,1-.50976-.41309L22,24.11328l-5.94531,5.93555a1.49689,1.49689,0,0,1-.48584.38476,1.47552,1.47552,0,0,1-.59912.15528,1.33873,1.33873,0,0,1-.61084-.09864,1.505,1.505,0,0,1-.51953-.33886,1.474,1.474,0,0,1-.3379-.51856,1.49377,1.49377,0,0,1,.05616-1.21,1.55724,1.55724,0,0,1,.41211-.50976L19.605,22.27832l.28369-.28223-5.94678-5.94238a1.49988,1.49988,0,0,1,.41651-2.55225,1.441,1.441,0,0,1,.61133-.10009,1.4941,1.4941,0,0,1,.59912.15625,1.55409,1.55409,0,0,1,.51074.41211L22,19.88623l5.94434-5.94434a1.5084,1.5084,0,0,1,1.08593-.54052,1.43985,1.43985,0,0,1,.61133.10009,1.50239,1.50239,0,0,1,.80176,2.06641,1.57937,1.57937,0,0,1-.41309.51074l-5.91894,5.917Z"})))}const s=o.forwardRef(l);n.p},719:function(e,t,n){"use strict";n(0);var a=n(13),o=n.n(a),i=n(3),l=n(8),s=(n(720),n(1));t.a=function(e){var t,n;return Object(s.jsx)(l.a,{children:Object(s.jsxs)("div",{className:o()("AppBar",{[null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:""]:e.className}),children:[Object(s.jsx)(i.n,{component:"h3",weight:600,size:14,tint:100,className:"AppBar__title",children:e.title}),e.children&&Object(s.jsx)("div",{className:o()("AppBar__content",{"AppBar__content--disabled":e.disabled,[null!==(n=null===e||void 0===e?void 0:e.className)&&void 0!==n?n:""]:e.className}),children:e.children})]})})}},720:function(e,t,n){},721:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(0);var a=n(65),o=n(1550),i=n(1552),l=n(710),s=n(716),c=n(717),r=n(8),d=(n(734),n(1));function u(e){let{data:t=[],handleClose:n}=e;return Object(d.jsx)(r.a,{children:a.a.isEmpty(t)?null:Object(d.jsx)("div",{children:Object(d.jsx)(i.a,{open:!0,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(d.jsx)("div",{className:"NotificationContainer",children:t.map((e=>{let{id:t,severity:a,messages:i}=e;return Object(d.jsx)(l.a,{mt:.5,children:Object(d.jsx)(o.a,{onClose:()=>n(+t),variant:"outlined",severity:a,iconMapping:{success:Object(d.jsx)(s.a,{}),error:Object(d.jsx)(c.a,{})},style:{height:"auto"},children:Object(d.jsxs)("div",{className:"NotificationContainer__contentBox",children:[Object(d.jsx)("p",{className:"NotificationContainer__contentBox__severity",children:a}),i.map(((e,t)=>e?Object(d.jsx)("p",{className:"NotificationContainer__contentBox__message",children:e},t):null))]})})},t)}))})})})})}},723:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(13),l=n.n(i),s=n(3),c=(n(724),n(1));function r(e){let{progress:t={},processing:n=!1,pendingStatus:a=!1,setIsProgressBarVisible:i}=e;const{checked:r=0,trackedRuns:d=0,matched:u=0,percent:h=0}=t,[g,p]=o.a.useState(!1),m=o.a.useRef(0);o.a.useEffect((()=>{if(n||a)p(!0),null===i||void 0===i||i(!0);else{const e=2e3;m.current&&window.clearTimeout(m.current),m.current=window.setTimeout((()=>{p(!1)}),e)}return()=>{m.current&&window.clearTimeout(m.current),null===i||void 0===i||i(!1)}}),[n,a,i]);const v=o.a.useMemo((()=>a?h+"%":"unset"),[a,h]),j=o.a.useMemo((()=>!(n||a)),[a,n]),b=o.a.useMemo((()=>a?"Searching over runs...":"Processing..."),[a]);return g?Object(c.jsx)("div",{className:l()("ProgressBar",{fadeOutProgress:j}),children:Object(c.jsxs)("div",{className:"ProgressBar__container",children:[Object(c.jsx)(s.n,{className:"ProgressBar__container__title",size:16,weight:500,component:"p",children:b}),Object(c.jsx)("div",{className:"ProgressBar__container__bar",children:Object(c.jsx)("span",{style:{width:v}})}),0!==d&&Object(c.jsxs)("div",{className:"ProgressBar__container__info",children:[Object(c.jsxs)(s.n,{size:14,weight:500,children:[r," of ",d," checked"]}),Object(c.jsxs)(s.n,{className:"ProgressBar__container__info__matched",size:14,weight:600,color:"success",children:[u," matched run(s)"]})]})]})}):null}t.a=o.a.memo(r)},724:function(e,t,n){},725:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(693),l=n(3),s=n(175),c=(n(726),n(1));function r(e){return Object(c.jsx)(s.a,{children:Object(c.jsxs)(i.a,{open:e.open,onClose:e.onCancel,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",PaperProps:{elevation:10},className:"ConfirmModal ConfirmModal__".concat(e.statusType),children:[Object(c.jsxs)("div",{className:"ConfirmModal__Body",children:[Object(c.jsx)(l.c,{size:"small",className:"ConfirmModal__Close__Icon",color:"secondary",withOnlyIcon:!0,onClick:e.onCancel,children:Object(c.jsx)(l.f,{name:"close"})}),Object(c.jsxs)("div",{className:"ConfirmModal__Title__Container",children:[Object(c.jsx)("div",{className:"ConfirmModal__Icon",children:e.icon}),e.title&&Object(c.jsx)(l.n,{size:16,tint:100,component:"h4",weight:600,children:e.title})]}),Object(c.jsxs)("div",{children:[e.description&&Object(c.jsx)(l.n,{className:"ConfirmModal__description",weight:400,component:"p",id:"dialog-description",children:e.description}),Object(c.jsxs)("div",{children:[e.text&&Object(c.jsx)(l.n,{className:"ConfirmModal__text",weight:400,component:"p",size:14,id:"dialog-description",children:e.text||""}),e.children&&e.children]})]})]}),Object(c.jsxs)("div",{className:"ConfirmModal__Footer",children:[Object(c.jsx)(l.c,{onClick:e.onCancel,className:"ConfirmModal__CancelButton",children:e.cancelBtnText}),Object(c.jsx)(l.c,{onClick:e.onSubmit,color:"primary",variant:"contained",className:"ConfirmModal__ConfirmButton",autoFocus:!0,children:e.confirmBtnText})]})]})})}r.defaultProps={confirmBtnText:"Confirm",cancelBtnText:"Cancel",statusType:"info"},r.displayName="ConfirmModal",t.a=o.a.memo(r)},726:function(e,t,n){},727:function(e,t,n){},729:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(13),l=n.n(i),s=n(65),c=n(382),r=n(3),d=n(262),u=n(163),h=n(111),g=n(384);function p(e,t){return null===e||void 0===e?void 0:e.languages.registerCompletionItemProvider("python",function(e,t){return{triggerCharacters:["."],provideCompletionItems(n,a){const o=n.getValueInRange({startLineNumber:a.lineNumber,startColumn:1,endLineNumber:a.lineNumber,endColumn:a.column}).replace("\t","").split(" ");let i=s.a.last(o);if(m.forEach((e=>{i.includes(e)&&(i=s.a.last(i.split(e)))})),!Object.keys(t).some((e=>i.startsWith(e))))return null;const l=Object(h.a)(t,t).map((e=>{const t=e.replace(/\.metrics\.([^."]+)(\.[^.]+)?$/,'.metrics["$1"]$2'),n=-1!==t.indexOf(".__example_type__")||"."===t[e.length-1]?t.indexOf(".__example_type__"):t.length;return t.slice(0,n)})),c="."===i.charAt(i.length-1);let r=!1;const d=[];for(let e of l)if(""===e.split(i)[0]||c&&""===e.split(i.slice(0,i.length-2))[0]){r=!0;break}let u=t,p=i;c&&r&&(u=Object(g.a)(t,p.substring(0,p.length-1)));const b=n.getWordUntilPosition(a),x={startLineNumber:a.lineNumber,endLineNumber:a.lineNumber,startColumn:b.startColumn,endColumn:b.endColumn},f=/\.metrics.$/;for(const s in u)if(u.hasOwnProperty(s)&&!s.startsWith("__")){const n=!h.b.test(s)||f.test(p)?'["'.concat(s,'"]'):s;let a=v(Object(g.a)(t,p+n));const o={label:n,kind:j(e,a.hasExampleType?a.type:u[s],c),insertText:n,detail:a.type,range:x};o.kind!==e.languages.CompletionItemKind.Function&&o.kind!==e.languages.CompletionItemKind.Method||(o.insertText+="("),d.push(o)}return{suggestions:r?d:[]}}}}(e,t))}const m=["(","="];function v(e){const t=null===e||void 0===e?void 0:e.hasOwnProperty("__example_type__");let n="";if(t){switch(e.__example_type__.slice(7,e.__example_type__.length-1)){case"'str'":n="str";break;case"'int'":n="int";break;case"'bool'":n="bool";break;case"'list'":n="list";break;case"'float'":n="float";break;case"'bytes'":n="bytes";break;default:n="unknown"}}else switch(typeof e){case"object":n="dict";break;case"string":n="str";break;case"boolean":n="bool";break;case"number":n="int"}return{type:n,hasExampleType:t}}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch((typeof t).toLowerCase()){case"object":return e.languages.CompletionItemKind.Class;case"function":return n?e.languages.CompletionItemKind.Method:e.languages.CompletionItemKind.Function;default:return n?e.languages.CompletionItemKind.Property:e.languages.CompletionItemKind.Variable}}n(727);var b=n(1);function x(e){let{context:t,advanced:n,className:a,editorProps:i={},value:h="",refObject:g,error:m,disabled:v=!1,forceRemoveError:j=!1,onEnter:x,onChange:f}=e;const[O,C]=o.a.useState(!1),[_,y]=o.a.useState(0),[S,R]=o.a.useState(!1),[N,A]=o.a.useState(!1),[E,P]=o.a.useState(h),[w,T]=o.a.useState(""),k=Object(c.c)(),M=o.a.useRef();o.a.useEffect((()=>{F(),N&&(k.editor.defineTheme(D.theme.name,D.theme.config),k.editor.setTheme(D.theme.name),k.languages.setLanguageConfiguration("python",{onEnterRules:[{beforeText:new RegExp(/(\s*\(\s*)$/),action:{indentAction:k.languages.IndentAction.None,appendText:""}}]}));const e=s.a.debounce((()=>{y(window.innerWidth)}),500);window.addEventListener("resize",e),z();const n=p(k,t);return()=>{null===n||void 0===n||n.dispose(),window.removeEventListener("resize",e)}}),[k,t,N]),o.a.useEffect((()=>{setTimeout((()=>{F(),B()}),100)}),[_]),o.a.useEffect((()=>{B(),j&&!m&&(T(""),L())}),[m,k,j]),o.a.useEffect((()=>{var e;S&&(null===(e=M.current)||void 0===e||e.focus())}),[S,N]),o.a.useEffect((()=>{h!==E&&P(h)}),[h]),o.a.useEffect((()=>{setTimeout((()=>{F()}),100)}),[_]);const D=o.a.useMemo((()=>Object(d.a)(n)),[n]),I=o.a.useCallback((()=>{R(!0)}),[]),z=o.a.useCallback((()=>{R(!1)}),[]);function B(){var e;k&&m&&(T(null===m||void 0===m?void 0:m.message),k.editor.setModelMarkers(k.editor.getModels()[0],"marker",[{startLineNumber:null===m||void 0===m?void 0:m.detail.line,startColumn:null===m||void 0===m?void 0:m.detail.offset,endLineNumber:null===m||void 0===m?void 0:m.detail.line,endColumn:(null===m||void 0===m||null===(e=m.detail)||void 0===e?void 0:e.end_offset)||(null===m||void 0===m?void 0:m.detail.offset),message:null===m||void 0===m?void 0:m.message,severity:k.MarkerSeverity.Error}]))}function L(){(null===k||void 0===k?void 0:k.editor)&&k.editor.setModelMarkers(k.editor.getModels()[0],"marker",[])}function V(e){if(e.selection){const{startColumn:t,endColumn:n}=e.selection;C(t!==n)}}const H=o.a.useCallback(((e,t)=>{if(v)M.current.setValue(E);else if(L(),T(""),"string"===typeof e){let n=e.replace(/[\n\r]/g,"");if(t.changes[0].text.startsWith("[")&&"."===n[t.changes[0].rangeOffset-1]&&(n=n.slice(0,t.changes[0].rangeOffset-1)+n.slice(t.changes[0].rangeOffset,n.length)),f&&f(n,t),/^\r?\n$/.test(t.changes[0].text))return n=O?E.replace(/[\n\r]/g,""):n,M.current.setValue(n),x&&x(),void P(n);P(n)}}),[O,f,x,v]);function F(){N&&(k.editor.defineTheme(D.theme.name,D.theme.config),k.editor.setTheme(D.theme.name))}return Object(b.jsxs)("section",{className:l()("AutocompleteInput ".concat(a||""),{AutocompleteInput__disabled:v}),children:[Object(b.jsxs)("div",{onClick:I,className:l()("AutocompleteInput__container",{AutocompleteInput__container__focused:S,AutocompleteInput__container__advanced:n,AutocompleteInput__container__error:w}),children:[Object(b.jsx)(c.a,{language:"python",height:D.height,value:E,onChange:H,onMount:function(e){A(!0),M.current=e,g&&(g.current=M.current),M.current.onDidFocusEditorWidget(I),M.current.onDidBlurEditorWidget(z),M.current.onDidChangeCursorSelection(V)},loading:Object(b.jsx)("span",{}),options:D.options,...i},"".concat(_)),N&&(S||E?null:Object(b.jsxs)("div",{className:"AutocompleteInput__container__placeholder",children:["Filter runs, e.g. run.learning_rate ",">"," 0.0001 and run.batch_size == 32"]}))]}),w&&Object(b.jsxs)("div",{className:"AutocompleteInput__errorBar",children:[Object(b.jsx)("div",{children:Object(b.jsxs)(r.n,{color:"error",className:"AutocompleteInput__errorBar__message",component:"p",size:16,children:[Object(b.jsx)(r.n,{size:16,color:"error",weight:700,children:"Error:"}),w]})}),Object(b.jsxs)("div",{className:"AutocompleteInput__errorBar__hint",children:[Object(b.jsx)(r.f,{name:"info-circle-outline",box:!0}),Object(b.jsxs)(r.n,{children:["Aim Query Language is pythonic and fairly easy to get used to. If you are having issues, please refer to the"," ",Object(b.jsx)("a",{href:u.a.AIM_QL,target:"_blank",rel:"noreferrer",children:"docs"})," ","for detailed usage guide and more examples."]})]})]})]})}x.displayName="AutocompleteInput";var f=o.a.memo(x);t.a=f},730:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n(72),o=n(198);const i=new(n(379).b)("".concat(Object(a.c)()).concat(o.a.EXPERIMENTS.BASE));async function l(){return(await i.makeAPIGetRequest(o.a.EXPERIMENTS.GET)).body}async function s(e){return(await i.makeAPIGetRequest("".concat(o.a.EXPERIMENTS.GET).concat(e))).body}async function c(e,t){return(await i.makeAPIPutRequest("".concat(o.a.EXPERIMENTS.GET).concat(t),{body:e})).body}async function r(e){return i.makeAPIDeleteRequest("".concat(o.a.EXPERIMENTS.GET).concat(e))}async function d(e){return(await i.makeAPIGetRequest("".concat(e,"/").concat(o.a.EXPERIMENTS.GET_ACTIVITY))).body}function u(){const e=new AbortController,t=e.signal;return{call:async function(e){let{experimentId:n,queryParams:a}=e;return(await i.makeAPIGetRequest("".concat(o.a.EXPERIMENTS.GET).concat(n,"/runs"),{query_params:a,signal:t})).body.runs},cancel:function(){e.abort()}}}},731:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));const a=100,o={S:4,M:6,L:12},{S:i,M:l,L:s}=o,c={1:[s],2:[l,l],3:[i,i,i],4:[l,l,l,l],5:[i,i,i,l,l],6:[i,i,i,i,i,i],7:[i,i,i,l,l,l,l],8:[i,i,i,i,i,i,l,l],9:[i,i,i,i,i,i,i,i,i]}},734:function(e,t,n){},741:function(e,t,n){"use strict";var a=n(260);t.a=function(e,t,n,o,i){if(!n||!t)return{top:e.top,left:e.left};let l,s;const c=10;if(o){const o=e.right-e.left,d=e.right-o/2;if(l=d-t.width/2-c<n.left?e.right-(e.right-n.left)+c:d+t.width/2>n.right?e.left-t.width+(n.right-e.left):d-t.width/2,i===a.a.Top)s=n.top-(t.height-30);else{var r;const e=null!==(r=document.body.getBoundingClientRect().bottom)&&void 0!==r?r:0,a=n.bottom-30;s=e<n.bottom+t.height-40?e-t.height-c:a}}else l=e.left<n.left?(e.right<n.left?n.left:e.right)+c:e.right+20+t.width>=n.right?e.left-t.width-c:e.right+c,s=e.top<n.top?n.top+c:e.top+t.height>n.bottom?n.bottom-t.height-c:e.top+c;return{left:l,top:s}}},746:function(e,t,n){"use strict";var a=n(730),o=n(714);t.a=function(){const{fetchData:e,state:t,destroy:n}=Object(o.a)(a.e);return{fetchExperiments:e,experimentsState:t,destroy:n}}()},749:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return r}));var a=n(721),o=n(722),i=n.n(o);var l=function(){const e=i()((()=>({data:[]}))),t=t=>{const n=e.getState().data;e.setState({data:n.filter((e=>e.id!==t))})};return{notificationState:e,onNotificationDelete:t,onNotificationAdd:n=>{var a;const o=null!==(a=e.getState().data)&&void 0!==a?a:[];e.setState({data:[...o,n]}),setTimeout((()=>{t(n.id)}),3e3)}}}(),s=n(0),c=n.n(s);var r=function(){const{current:e}=c.a.useRef(l),t=e.notificationState((e=>e));return{notificationState:(null===t||void 0===t?void 0:t.data)||[],onNotificationDelete:e.onNotificationDelete,onNotificationAdd:e.onNotificationAdd}};t.a=a.a},751:function(e,t,n){"use strict";var a=n(0),o=n(693),i=n(914),l=n(915),s=n(706),c=n(916),r=n(691),d=n(8),u=n(1);const h={name:"",description:""};t.a=function(e){let{open:t,onClose:n,onBookmarkCreate:g}=e;const[p,m]=Object(a.useState)(h),[v,j]=Object(a.useState)(!1),[b,x]=Object(a.useState)(!1);function f(e){const{id:t,value:n}=e.target,a={...p};a[t]=n,m(a),"name"===t&&(!b&&x(!0),j(!n))}return Object(u.jsx)(d.a,{children:Object(u.jsxs)(o.a,{open:t,onClose:function(){n(),j(!1),x(!1),m(h)},"aria-labelledby":"form-dialog-title",children:[Object(u.jsx)(i.a,{id:"form-dialog-title",children:"Add Bookmark"}),Object(u.jsxs)(l.a,{children:[Object(u.jsx)(s.a,{autoFocus:!0,id:"name",value:p.name,label:"Bookmark Name",onChange:f,type:"text",variant:"outlined",margin:"dense",fullWidth:!0,error:b&&v,helperText:b&&v?"Name is required":""}),Object(u.jsx)(s.a,{id:"description",value:p.description,onChange:f,label:"Bookmark Description",type:"text",variant:"outlined",margin:"dense",fullWidth:!0})]}),Object(u.jsxs)(c.a,{children:[Object(u.jsx)(r.a,{onClick:n,color:"primary",children:"Cancel"}),Object(u.jsx)(r.a,{onClick:function(){p.name?(g(p),j(!1),m({name:"",description:""}),n()):(j(!0),x(!0))},color:"primary",children:"Save"})]})]})})}},752:function(e,t,n){},753:function(e,t,n){"use strict";var a=n(0),o=n(13),i=n.n(o),l=n(280),s=n(8),c=n(731),r=n(12),d=(n(754),n(1));const u=a.forwardRef((function(e,t){const{data:n,index:o,id:u="".concat(o),nameKey:h="",aggregatedData:g,aggregationConfig:p,syncHoverState:m,axesScaleRange:v,ignoreOutliers:j=!1,alignmentConfig:b,highlightMode:x=r.e.Off,curveInterpolation:f=r.d.Linear,chartTitle:O,zoom:C,onZoomChange:_,resizeMode:y,onMount:S,axesScaleType:R={xAxis:r.h.Linear,yAxis:r.h.Linear},readOnly:N=!1,margin:A={top:30,right:20,bottom:30,left:60}}=e,E=a.useRef({margin:A,height:0,width:0}),P=a.useRef({height:0,width:0}),w=a.useRef(null),T=a.useRef(null),k=a.useRef(null),M=a.useRef(null),D=a.useRef(null),I=a.useRef(null),z=a.useRef(null),B=a.useRef(null),L=a.useRef(null),V=a.useRef(null),H=a.useRef(null),F=a.useRef({}),G=a.useRef({}),q=a.useRef({}),U=a.useRef({}),W=a.useRef(),K=[],Z=[n,C,j,x,R,v,f,p,N,b,y,u];function X(){Object(r.k)({visAreaRef:T}),function(){Object(r.l)({index:o,id:u,nameKey:h,visBoxRef:E,plotBoxRef:P,parentRef:w,visAreaRef:T,svgNodeRef:k,bgRectNodeRef:M,plotNodeRef:D,axesNodeRef:I,linesNodeRef:z,attributesNodeRef:B,chartTitle:O});const{processedData:e,processedAggrData:t,min:a,max:i}=Object(r.C)({data:n,ignoreOutliers:j,visBoxRef:E,axesScaleType:R,axesScaleRange:v,aggregatedData:g,aggregationConfig:p,unableToDrawConditions:K,attributesRef:q});Object(r.m)({svgNodeRef:k,axesNodeRef:I,axesRef:F,plotBoxRef:P,xScale:q.current.xScale,yScale:q.current.yScale,visBoxRef:E,alignmentConfig:b,axesScaleType:R,humanizerConfigRef:U,drawBgTickLines:{y:!0,x:!1}}),Object(r.q)({id:u,processedData:e,nameKey:h,linesNodeRef:z,linesRef:G,curveInterpolation:f,xScale:q.current.xScale,yScale:q.current.yScale,highlightMode:x,aggregationConfig:p,processedAggrData:t,readOnly:N}),!N&&z.current&&z.current.selectChildren().size()>c.c&&z.current.classed("optimizeRendering",!0);Object(r.n)({id:u,plotBoxRef:P,plotNodeRef:D,visBoxRef:E,axesRef:F,attributesRef:q,linesRef:G,svgNodeRef:k,axesScaleType:R,min:a,max:i,axesScaleRange:v,zoom:C,onZoomChange:_,readOnly:N,unableToDrawConditions:K}),N||Object(r.o)({index:o,id:u,nameKey:h,data:n,processedData:e,axesScaleType:R,highlightMode:x,syncHoverState:m,visAreaRef:T,attributesRef:q,plotBoxRef:P,visBoxRef:E,svgNodeRef:k,bgRectNodeRef:M,attributesNodeRef:B,xAxisLabelNodeRef:L,yAxisLabelNodeRef:V,linesNodeRef:z,highlightedNodeRef:H,aggregationConfig:p,alignmentConfig:b}),Object(r.y)({renderArr:K,visAreaRef:T,attributesRef:q,readOnly:N,syncHoverState:m})}()}const Q=a.useCallback((e=>{(null===e||void 0===e?void 0:e.length)&&(W.current=window.requestAnimationFrame(X))}),Z),J=a.useCallback((()=>{W.current&&window.cancelAnimationFrame(W.current)}),[]);return Object(l.c)(Q,w,J),a.useEffect((()=>{q.current.currentXValue=void 0}),[b,n]),a.useEffect((()=>(W.current=window.requestAnimationFrame(X),()=>{W.current&&window.cancelAnimationFrame(W.current)})),Z),a.useEffect((()=>{"function"===typeof S&&S()}),[]),a.useImperativeHandle(t,(()=>({setActiveLineAndCircle:function(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===(t=(n=q.current).setActiveLineAndCircle)||void 0===t||t.call(n,e,a,o)},updateHoverAttributes:(e,t)=>{var n,a;null===(n=(a=q.current).updateHoverAttributes)||void 0===n||n.call(a,e,t)},clearHoverAttributes:()=>{var e,t;null===(e=(t=q.current).clearHoverAttributes)||void 0===e||e.call(t)},setFocusedState:e=>{var t;e&&(q.current.focusedState={...e,visId:null!==(t=e.visId)&&void 0!==t?t:"".concat(e.chartIndex)})}}))),Object(d.jsx)(s.a,{children:Object(d.jsx)("div",{id:"vis-"+u,ref:w,className:i()("LineChart",{zoomMode:!N&&(null===C||void 0===C?void 0:C.active)}),children:Object(d.jsx)("div",{ref:T})})})}));u.displayName="LineChart",t.a=a.memo(u)},754:function(e,t,n){},762:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(164),l=n(201),s=n(65),c=n(749),r=n(730),d=n(714),u=n(11);var h=function(){const{fetchData:e,state:t,destroy:n}=Object(d.a)(r.c),{fetchData:a,state:o,destroy:i}=Object(d.a)(r.e);return{fetchExperimentData:e,experimentState:t,destroyExperiment:n,fetchExperimentsData:a,experimentsState:o,destroyExperiments:i,updateExperiment:function(e,n){const a=t.getState().data;Object(r.f)({name:e,description:n,archived:null===a||void 0===a?void 0:a.archived},(null===a||void 0===a?void 0:a.id)||"").then((()=>{t.setState((t=>({data:{...t.data,name:e,description:n}}))),c.b.onNotificationAdd({id:Date.now(),messages:["Changes successfully saved"],severity:"success"}),u.b("[Experiment] Edit Experiment name and description")})).catch((e=>{c.b.onNotificationAdd({id:Date.now(),messages:[e.message||"Something went wrong"],severity:"error"})}))},deleteExperiment:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a.noop;const n=t.getState().data;null!==n&&void 0!==n&&Object(r.b)(n.id).then((()=>{u.b("[Experiment] Delete Experiment"),e()})).catch((e=>{c.b.onNotificationAdd({id:Date.now(),messages:[e.message||"Something went wrong"],severity:"error"})}))}}}();t.a=function(e){const{current:t}=o.a.useRef(h),n=t.experimentState((e=>e)),a=t.experimentsState((e=>e));if(o.a.useEffect((()=>()=>{t.destroyExperiment(),t.destroyExperiments()}),[]),o.a.useEffect((()=>{e?t.fetchExperimentData(e):t.fetchExperimentsData()}),[e]),!a.loading){Object(i.a)().forEach((e=>{var t;(null===(t=a.data)||void 0===t?void 0:t.find((t=>t.id===e.id)))||Object(l.a)(e)}))}return{experimentState:n,experimentsState:a,selectedExperiments:Object(i.a)(),getExperimentsData:t.fetchExperimentsData,updateExperiment:t.updateExperiment,deleteExperiment:t.deleteExperiment}}},763:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(3),l=(n(752),n(1));function s(){return Object(l.jsx)("div",{className:"ResizingFallback",children:Object(l.jsx)(i.n,{size:14,color:"info",className:"ResizingFallback__text",children:"Release to resize"})})}var c=o.a.memo(s);t.a=c},764:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(65),l=n(13),s=n.n(l),c=n(139),r=n(353),d=n(700),u=n(616),h=n(417),g=n(3),p=n(213),m=n(8),v=n(70),j=n(260),b=n(110),x=n(167),f=n(12),O=n(28),C=n(54),_=n(90),y=n(141),S=n(393),R=n(16),N=n(392),A=(n(780),n(1));const E=o.a.forwardRef((function(e,t){const{tooltipContent:n,tooltipAppearance:a=j.a.Auto,focusedState:l,chartType:E,alignmentConfig:P,selectOptions:w,onRunsTagsChange:T,onChangeTooltip:k}=e,{selectedProps:M={},groupConfig:D={},name:I="",context:z={},run:B}=n||{},L=o.a.useMemo((()=>a===j.a.Top||a===j.a.Bottom),[a]);function V(){var e,t,n,a;return(null===l||void 0===l?void 0:l.active)&&(null===B||void 0===B?void 0:B.hash)?Object(A.jsxs)(m.a,{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(d.a,{}),Object(A.jsxs)("div",{className:"PopoverContent__box",children:[Object(A.jsxs)(u.a,{to:v.a.Run_Detail.replace(":runHash",null===B||void 0===B?void 0:B.hash),component:c.b,className:"PopoverContent__runDetails",underline:"none",children:[Object(A.jsx)(g.f,{name:"link"}),Object(A.jsx)("div",{children:"Run Details"})]}),Object(A.jsxs)(u.a,{to:v.a.Experiment.replace(":experimentId",null===B||void 0===B||null===(e=B.props)||void 0===e||null===(t=e.experiment)||void 0===t?void 0:t.id),component:c.b,className:"PopoverContent__runDetails",underline:"none",children:[Object(A.jsx)(g.f,{name:"link"}),Object(A.jsx)("div",{children:"Experiment Detail"})]})]})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(d.a,{}),Object(A.jsx)("div",{className:"PopoverContent__box",children:Object(A.jsx)(m.a,{children:Object(A.jsx)(p.a,{runHash:null===B||void 0===B?void 0:B.hash,tags:null!==(n=null===B||void 0===B||null===(a=B.props)||void 0===a?void 0:a.tags)&&void 0!==n?n:[],onRunsTagsChange:T})})})]})]}):null}return Object(A.jsx)(m.a,{children:Object(A.jsxs)(h.a,{ref:t,className:"PopoverContent__container",style:{pointerEvents:(null===l||void 0===l?void 0:l.active)?"auto":"none"},elevation:0,children:[(null===l||void 0===l?void 0:l.active)&&(null===B||void 0===B?void 0:B.hash)&&k?Object(A.jsxs)("div",{className:"PopoverContent__actionButtons",children:[Object(A.jsx)(r.a,{title:"Pin to top",children:Object(A.jsx)("div",{children:Object(A.jsx)(g.c,{onClick:()=>k({appearance:j.a.Top}),withOnlyIcon:!0,size:"xSmall",className:s()("PopoverContent__actionButtons__actionButton",{active:a===j.a.Top}),children:Object(A.jsx)(g.f,{name:"pin-to-top",fontSize:16,className:"PopoverContent__actionButtons__actionButton__icon"})})})}),Object(A.jsx)(r.a,{title:"Flexible",children:Object(A.jsx)("div",{children:Object(A.jsx)(g.c,{onClick:()=>k({appearance:j.a.Auto}),withOnlyIcon:!0,size:"xSmall",className:s()("PopoverContent__actionButtons__actionButton",{active:a===j.a.Auto}),children:Object(A.jsx)(g.f,{name:"flexible",fontSize:16,className:"PopoverContent__actionButtons__actionButton__icon"})})})}),Object(A.jsx)(r.a,{title:"Pin to bottom",children:Object(A.jsx)("div",{children:Object(A.jsx)(g.c,{onClick:()=>{k({appearance:j.a.Bottom})},withOnlyIcon:!0,size:"xSmall",className:s()("PopoverContent__actionButtons__actionButton",{active:a===j.a.Bottom}),children:Object(A.jsx)(g.f,{name:"pin-to-bottom",fontSize:16,className:"PopoverContent__actionButtons__actionButton__icon"})})})})]}):null,Object(A.jsxs)("div",{className:s()("PopoverContent",{PopoverContent__pinned:L,PopoverContent__fixed:(null===l||void 0===l?void 0:l.active)&&(null===B||void 0===B?void 0:B.hash)&&k}),children:[Object(A.jsxs)("div",{className:s()("PopoverContent__boxWrapper ScrollBar__hidden",{pinned:L}),children:[function(){switch(E){case f.b.LineChart:var e;return Object(A.jsx)(m.a,{children:Object(A.jsxs)("div",{className:"PopoverContent__box",children:[Object(A.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(A.jsx)(g.n,{children:"Y: "}),Object(A.jsxs)("span",{className:"PopoverContent__headerValue",children:[Object(A.jsx)(g.n,{weight:400,children:Object(C.a)(I)?Object(_.a)(I):I}),Object(A.jsx)(g.n,{className:"PopoverContent__contextValue",children:Object(b.a)(z)}),Object(A.jsx)(g.n,{component:"p",className:"PopoverContent__axisValue",children:Object(N.a)(Number(null===l||void 0===l?void 0:l.yValue))})]})]}),Object(A.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(A.jsx)(g.n,{children:"X: "}),Object(A.jsxs)("span",{className:"PopoverContent__headerValue",children:[Object(A.jsx)(g.n,{weight:400,children:Object(x.b)(P)}),(null===P||void 0===P?void 0:P.type)===f.a.CUSTOM_METRIC&&Object(A.jsx)(g.n,{className:"PopoverContent__contextValue",children:Object(b.a)(z)}),Object(A.jsx)(g.n,{component:"p",className:"PopoverContent__axisValue",children:Object(x.a)({xAxisTickValue:null!==(e=null===l||void 0===l?void 0:l.xValue)&&void 0!==e?e:null,type:null===P||void 0===P?void 0:P.type})})]})]})]})});case f.b.HighPlot:{var t;let e="",n="";const i="".concat(null===l||void 0===l?void 0:l.xValue);if(Object(S.a)(i)){const t=JSON.parse(Object(R.b)(i));e=t.metricName,n=t.contextName}else{var a,o;e=null===(a=i||"")||void 0===a?void 0:a.split("-")[0],n=null===(o=i||"")||void 0===o?void 0:o.split("-")[1]}return Object(A.jsx)(m.a,{children:Object(A.jsxs)("div",{className:"PopoverContent__box",children:[Object(A.jsxs)("div",{className:"PopoverContent__value",children:[Object(A.jsx)("strong",{children:Object(C.a)(e)?Object(_.a)(e):null!==(t=e)&&void 0!==t?t:"--"})," ",n||null]}),Object(A.jsxs)("div",{className:"PopoverContent__value",children:["Value: ",Object(N.a)(Number(null===l||void 0===l?void 0:l.yValue))]})]})})}case f.b.ImageSet:{const{step:e="",index:t="",caption:a="",images_name:o=""}=n;return Object(A.jsx)(m.a,{children:Object(A.jsxs)("div",{className:"PopoverContent__box PopoverContent__imageSetBox",children:[Object(A.jsx)("strong",{children:a}),Object(A.jsxs)("div",{className:"PopoverContent__value",children:[Object(A.jsx)("strong",{children:o}),Object(A.jsx)(g.n,{className:"PopoverContent__contextValue",children:Object(b.a)(z)})]}),Object(A.jsxs)("div",{className:"PopoverContent__value",children:["Step: ",Object(A.jsx)("strong",{children:e}),Object(A.jsxs)(g.n,{className:"PopoverContent__contextValue",children:["Index: ",Object(A.jsx)("strong",{children:t})]})]})]})})}case f.b.ScatterPlot:return Object(A.jsx)(m.a,{children:Object(A.jsxs)("div",{className:"PopoverContent__box",children:[Object(A.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(A.jsx)(g.n,{children:"Y: "}),Object(A.jsx)("span",{className:"PopoverContent__headerValue",children:Object(A.jsx)(g.n,{component:"p",className:"PopoverContent__axisValue",children:Object(N.a)(Number(null===l||void 0===l?void 0:l.yValue))})})]}),Object(A.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(A.jsx)(g.n,{children:"X: "}),Object(A.jsx)("span",{className:"PopoverContent__headerValue",children:Object(A.jsx)(g.n,{component:"p",className:"PopoverContent__axisValue",children:Object(N.a)(Number(null===l||void 0===l?void 0:l.xValue))})})]})]})});default:return null}}(),L&&V()]}),i.a.isEmpty(M)&&i.a.isEmpty(D)?null:Object(A.jsxs)("div",{className:s()("PopoverContent__boxContainer ScrollBar__hidden",{pinned:L}),children:[i.a.isEmpty(M)?null:Object(A.jsx)(m.a,{children:Object(A.jsxs)("div",{className:"PopoverContent__boxWrapper",children:[Object(A.jsx)(d.a,{orientation:L?"vertical":"horizontal"}),Object(A.jsxs)("div",{className:"PopoverContent__box ScrollBar__hidden",children:[Object(A.jsx)("div",{className:"PopoverContent__subtitle1",children:"Selected Fields"}),Object.keys(M).map((e=>Object(A.jsxs)("div",{className:"PopoverContent__value",children:[Object(A.jsx)(g.n,{size:12,tint:50,children:"".concat(Object(y.a)(w,e),": ")}),Object(A.jsx)(g.n,{size:12,children:Object(O.a)(M[e])})]},e)))]})]})}),i.a.isEmpty(D)?null:Object(A.jsx)(m.a,{children:Object(A.jsxs)("div",{className:"PopoverContent__boxWrapper",children:[Object(A.jsx)(d.a,{orientation:L?"vertical":"horizontal"}),Object(A.jsxs)("div",{className:"PopoverContent__box ScrollBar__hidden",children:[Object(A.jsx)("div",{className:"PopoverContent__subtitle1",children:"Group Config"}),Object.keys(D).map((e=>i.a.isEmpty(D[e])?null:Object(A.jsxs)(o.a.Fragment,{children:[Object(A.jsx)("div",{className:"PopoverContent__subtitle2",children:e}),Object.keys(D[e]).map((t=>{let n=Object(C.a)(D[e][t])?Object(_.a)(D[e][t]):D[e][t];return Object(A.jsxs)("div",{className:"PopoverContent__value",children:[Object(A.jsx)(g.n,{size:12,tint:50,children:"".concat(t,": ")}),Object(A.jsx)(g.n,{size:12,children:Object(O.a)(n)})]},t)}))]},e)))]})]})}),!L&&V()]})]})]})})}));t.a=o.a.memo(E)},769:function(e,t,n){},774:function(e,t,n){},777:function(e,t,n){},778:function(e,t,n){},779:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(13),l=n.n(i),s=n(65),c=n(614),r=n(764),d=n(8),u=n(260),h=n(741),g=(n(781),n(1));function p(e){var t;let{id:n="popover",forceOpen:a=!1,open:i=!1,className:p="",containerNode:m=document.body,selectOptions:v,tooltipAppearance:j=u.a.Auto}=e;i=a||i;const[b,x]=o.a.useState(!!e.activePointRect&&i),[f,O]=o.a.useState(),[C,_]=o.a.useState({top:1e4,left:1e4}),y=o.a.useMemo((()=>j===u.a.Top||j===u.a.Bottom),[j]),S=o.a.useCallback((e=>{if(f&&m){const t=f.getBoundingClientRect(),n=m.getBoundingClientRect();if(n.width&&n.height){const a={top:e.top-m.scrollTop,left:e.left-m.scrollLeft,right:e.right-m.scrollLeft,bottom:e.bottom-m.scrollTop},o=Object(h.a)(a,t,n,y,j);_(o)}}}),[m,f,y,j]);return o.a.useEffect((()=>{x(!!e.activePointRect&&i)}),[e.activePointRect,i]),o.a.useEffect((()=>{e.activePointRect&&b&&S(e.activePointRect)}),[e.activePointRect,b,e.tooltipContent,e.focusedState.key,e.focusedState.active,S]),o.a.useEffect((()=>{if(m){const t=s.a.debounce((()=>x(!!e.activePointRect&&i)),300),n=s.a.debounce((()=>x(!1)),200,{leading:!0,trailing:!1});return m.addEventListener("scroll",n),m.addEventListener("scroll",t),()=>{null===m||void 0===m||m.removeEventListener("scroll",n),null===m||void 0===m||m.removeEventListener("scroll",t)}}}),[e.activePointRect,i,m]),o.a.useEffect((()=>{const e=e=>{let{target:t}=e;a||(null===m||void 0===m?void 0:m.contains(t))||(null===f||void 0===f?void 0:f.contains(t))||x(!1)};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}}),[m,f,a]),Object(g.jsx)(d.a,{children:Object(g.jsx)(c.a,{id:n,open:b,disableEnforceFocus:!0,disableAutoFocus:!0,disableRestoreFocus:!0,disablePortal:!0,disableScrollLock:!0,anchorReference:"anchorPosition",anchorPosition:C,className:l()("ChartPopover",{[p]:p,pinnedPopover:y}),transitionDuration:{appear:0,enter:50,exit:100},TransitionProps:{onEnter:e=>O(e)},transformOrigin:{vertical:"top",horizontal:"left"},classes:{paper:l()("ChartPopover__content","CustomChartPopover_content",{ChartPopover__content__active:null===(t=e.focusedState)||void 0===t?void 0:t.active,ChartPopover__content__pinned:y,hide:!C})},children:Object(g.jsx)(d.a,{children:Object(g.jsx)(r.a,{chartType:e.chartType,tooltipContent:e.tooltipContent,tooltipAppearance:e.tooltipAppearance,focusedState:e.focusedState,alignmentConfig:e.alignmentConfig,selectOptions:v,onRunsTagsChange:e.onRunsTagsChange,onChangeTooltip:e.onChangeTooltip})})},"popover-".concat(j))})}t.a=o.a.memo(p)},780:function(e,t,n){},781:function(e,t,n){},782:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(391),l=n(8),s=n(55),c=(n(783),n(1));function r(e){let{panelResizing:t,resizeElemRef:n,resizeMode:a,onTableResizeModeChange:o,className:r}=e;return Object(c.jsx)(l.a,{children:Object(c.jsx)("div",{ref:n,className:"".concat(r||""," ResizePanel").concat(a!==s.b.Hide||t?a!==s.b.Resizable?"__hidden":"":"__fullHeight"," ").concat(t?"resizing":""),children:a===s.b.Hide?Object(c.jsx)(i.a,{resizeMode:a,onTableResizeModeChange:o}):null})})}t.a=o.a.memo(r)},783:function(e,t,n){},784:function(e,t,n){},785:function(e,t,n){},786:function(e,t,n){},787:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(65),l=n(706),s=n(704),c=n(700),r=n(703),d=n(697),u=n(698),h=n(3),g=n(8),p=n(260),m=(n(788),n(1));function v(e){let{onChangeTooltip:t,selectedFields:n=[],tooltipAppearance:a=p.a.Auto,isTooltipDisplayed:v=!0,selectOptions:j}=e,[b,x]=o.a.useState("");function f(e){t({selectedFields:e.map((e=>"string"===typeof e?e:e.value))})}const O=o.a.useCallback((()=>{t({display:!v})}),[t,v]),C=o.a.useCallback((e=>{t({appearance:e.value})}),[t]),_=o.a.useMemo((()=>{let e=[];return j.forEach((t=>{-1!==n.indexOf(t.value)&&e.push(t)})),e.sort(((e,t)=>n.indexOf(e.value)-n.indexOf(t.value)))}),[j,n]),y=o.a.useMemo((()=>Object.values(p.a).map((e=>({label:i.a.capitalize(e),value:e})))),[]),S=o.a.useMemo((()=>{if(""!==b.trim()){return j.filter((e=>-1!==e.label.indexOf(b))).slice().sort(((e,t)=>e.label.indexOf(b)-t.label.indexOf(b)))}return j}),[j,b]);return Object(m.jsx)(g.a,{children:Object(m.jsxs)("div",{className:"TooltipContentPopover",children:[Object(m.jsxs)("div",{className:"TooltipContentPopover__section",children:[Object(m.jsx)(h.n,{component:"h4",tint:50,className:"TooltipContentPopover__subtitle",children:"Select Fields To Display In The Tooltip"}),Object(m.jsx)(r.a,{id:"select-params",size:"small",openOnFocus:!0,multiple:!0,disableCloseOnSelect:!0,options:S,value:_,onChange:function(e,t){("Backspace"!==(null===e||void 0===e?void 0:e.code)||0===b.length)&&f(t)},groupBy:e=>e.group,getOptionLabel:e=>e.label,getOptionSelected:(e,t)=>e.value===t.value,renderInput:e=>Object(m.jsx)(l.a,{...e,inputProps:{...e.inputProps,value:b,onChange:e=>{x(e.target.value)}},className:"TextField__OutLined__Small",variant:"outlined",placeholder:"Select Fields"}),renderOption:(e,t)=>{let{selected:n}=t;return Object(m.jsxs)("div",{className:"TooltipContentPopover__option",children:[Object(m.jsx)(s.a,{color:"primary",size:"small",icon:Object(m.jsx)(d.a,{}),checkedIcon:Object(m.jsx)(u.a,{}),style:{marginRight:4},checked:n}),Object(m.jsx)(h.n,{className:"GroupingPopover__option__label",size:14,children:e.label})]})},renderTags:(e,t)=>Object(m.jsx)("div",{className:"TooltipContentPopover__SelectedTagsContainer",children:e.map(((e,n)=>Object(m.jsx)(h.b,{...t({index:n}),label:e.label,size:"small",className:"Select__Chip"},n)))})})]}),Object(m.jsx)(c.a,{className:"TooltipContentPopover__Divider"}),Object(m.jsxs)("div",{className:"TooltipContentPopover__section",children:[Object(m.jsx)(h.n,{component:"h4",tint:50,className:"TooltipContentPopover__subtitle",children:"Tooltip Visibility On Hover"}),Object(m.jsx)(h.o,{title:"Select Visibility",id:"display",value:v?"Show":"Hide",leftLabel:"Hide",rightLabel:"Show",leftValue:"Hide",rightValue:"Show",onChange:O})]}),Object(m.jsx)(c.a,{className:"TooltipContentPopover__Divider"}),Object(m.jsxs)("div",{className:"TooltipContentPopover__section",children:[Object(m.jsx)(h.n,{component:"h4",tint:50,className:"TooltipContentPopover__subtitle",children:"Tooltip Appearance"}),Object(m.jsx)(h.j,{selectOptions:y,selected:a,handleSelect:C})]})]})})}t.a=o.a.memo(v)},788:function(e,t,n){},810:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(91),l=n(705),s=n(751),c=n(719),r=n(79),d=n(3),u=n(8),h=(n(769),n(1));function g(e){return 1==window.live_updates_enabled?Object(h.jsx)(u.a,{children:Object(h.jsxs)("div",{className:"LiveUpdateSettings",children:[Object(h.jsx)(d.n,{className:"LiveUpdateSettings__Text",size:14,children:"Live Update:"}),Object(h.jsx)(d.m,{checked:Boolean(e.enabled),onChange:()=>{e.onLiveUpdateConfigChange({enabled:!e.enabled})},size:"small",color:"primary"})]})}):(e.onLiveUpdateConfigChange({enabled:!1}),null)}var p=o.a.memo(g),m=n(725),v=n(163),j=n(746),b=n(13),x=n.n(b),f=n(617),O=n(353),C=n(709),_=n(69),y=n.n(_),S=n(1036),R=n(704),N=n(475),A=n(691),E=n(616),P=n(775),w=n.n(P),T=n(776),k=n.n(T),M=n(80),D=n(72),I=n(357);n(774);var z=function(e){let{experimentsData:t,selectedExperiments:n,isExperimentsLoading:a,getExperimentsData:i,setSelectedExperiments:l,onSelectExperimentsChange:s,onToggleAllExperiments:c}=e;o.a.useEffect((()=>{t||i()}),[]);const[r,g]=o.a.useState(""),[p,m]=o.a.useState(!1),[v,j]=o.a.useState(!1),[b,f]=o.a.useState([]),[C,_]=o.a.useState("");function P(e){return n.some((t=>t.id===e.id))}function T(e){try{const n=new RegExp(e,"i");j(!1);const a=null===t||void 0===t?void 0:t.filter((e=>n.test(e.name)));f(a||[])}catch(n){j(!0)}}function z(e){j(!1);const n=null===t||void 0===t?void 0:t.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())));f(n||[])}function B(){const e=new Set(n.map((e=>e.id)));return b.length>0&&b.every((t=>e.has(t.id)))}return o.a.useEffect((()=>{I.a.fetchCurrentNamespacePath().then((e=>{_(e)}))}),[]),o.a.useEffect((()=>{f(t||[])}),[t]),Object(h.jsx)(u.a,{children:Object(h.jsxs)("div",{className:"ExperimentSelectionPopover",children:[Object(h.jsx)("div",{className:"ExperimentSelectionPopover__headerContainer",children:Object(h.jsx)("div",{className:"ExperimentSelectionPopover__headerContainer__titleContainer",children:Object(h.jsx)(d.n,{size:14,tint:100,weight:700,children:"Experiments"})})}),Object(h.jsx)("div",{className:"ExperimentSelectionPopover__contentContainer",children:Object(h.jsx)("div",{className:"ExperimentSelectionPopover__contentContainer__experimentsListContainer",children:Object(h.jsxs)("div",{className:"ExperimentSelectionPopover__contentContainer__experimentsListContainer__experimentList ScrollBar__hidden",children:[Object(h.jsxs)("div",{className:v?"ExperimentSelectionPopover__searchContainer error":"ExperimentSelectionPopover__searchContainer",children:[Object(h.jsx)(O.a,{title:B()?"Deselect all visible":"Select all visible",children:Object(h.jsx)(R.a,{color:"primary",icon:Object(h.jsx)(w.a,{}),checkedIcon:Object(h.jsx)(k.a,{}),checked:B(),onChange:()=>{!function(e){if(e)c(b),l(n.filter((e=>!b.some((t=>t.id===e.id)))));else{const e=null===b||void 0===b?void 0:b.filter((e=>!n.some((t=>t.id===e.id))));c(e),l([...n,...e])}}(B())},size:"small"})}),Object(h.jsx)(N.a,{placeholder:"Search",value:r,onChange:function(e){g(e.target.value),p?T(e.target.value):z(e.target.value)},inputProps:{"aria-label":"search"},className:"ExperimentSelectionPopover__searchContainer__inputBase",autoFocus:!0}),Object(h.jsx)(O.a,{title:"Use Regular Expression",children:Object(h.jsx)(S.a,{value:"check",selected:p,onChange:()=>{m(!p),p?z(r):T(r)},className:"RegexToggle",children:".*"})})]}),a?Object(h.jsx)("div",{className:"ExperimentSelectionPopover__loaderContainer",children:Object(h.jsx)(d.l,{size:34})}):null===b||void 0===b?void 0:b.map((e=>{return Object(h.jsxs)(A.a,{onClick:()=>function(e){s(e),n.some((t=>t.id===e.id))?l(n.filter((t=>t.name!==e.name))):l([...n,e])}(e),className:x()("experimentBox",{selected:P(e)}),children:[Object(h.jsx)("div",{className:"experimentBox__leftContainer",children:Object(h.jsx)(R.a,{color:"primary",icon:Object(h.jsx)(w.a,{}),checkedIcon:Object(h.jsx)(k.a,{}),checked:P(e),size:"small",className:"experimentBox__checkbox"})}),Object(h.jsxs)("div",{className:"experimentBox__rightContainer",children:[Object(h.jsx)(d.n,{size:16,tint:P(e)?100:80,weight:500,className:"experimentBox__experimentName",children:(t=null===e||void 0===e?void 0:e.name,t?t.length>56?"".concat(t.slice(0,27),"...").concat(t.slice(-26)):t:"default")}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[Object(h.jsxs)("div",{className:"experimentBox__date",children:[Object(h.jsx)(d.f,{name:"calendar",color:P(e)?"#414B6D":"#606986",fontSize:12}),Object(h.jsx)(d.n,{size:14,tint:P(e)?80:70,weight:500,children:"".concat(y()(1e3*e.creation_time).format(M.e))})]}),Object(h.jsx)(E.a,{href:Object(D.d)()+C+"/mlflow/#/experiments/"+e.id,target:"_blank",onClick:e=>e.stopPropagation(),style:{marginLeft:"1rem"},children:Object(h.jsxs)("div",{style:{fontSize:"0.8rem"},children:[Object(h.jsx)(d.f,{name:"live-demo",style:{marginRight:"0.3rem"}}),"Open in Classic UI"]})})]})]})]},e.id);var t}))]})})})]})})};n(777);var B=function(e){let{isExperimentLoading:t,isExperimentsLoading:n,experimentsData:a,selectedExperiments:i,getExperimentsData:l,onSelectExperimentsChange:s,onToggleAllExperiments:c}=e;const[g,p]=o.a.useState(i);return o.a.useEffect((()=>{p(i)}),[i]),Object(h.jsx)(u.a,{children:Object(h.jsx)("div",{className:"ExperimentBar__headerContainer",children:Object(h.jsx)("div",{className:"container ExperimentBar__headerContainer__appBarBox",children:Object(h.jsx)("div",{className:"ExperimentBar__headerContainer__appBarBox__navigationContainer",children:Object(h.jsx)(r.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},anchor:e=>{let{onAnchorClick:n,opened:a}=e;return Object(h.jsx)("div",{className:"ExperimentBar__headerContainer__appBarTitleBox",onClick:n,children:t?Object(h.jsx)("div",{className:"flex",children:Object(h.jsx)(f.a,{className:"ExperimentBar__headerContainer__appBarTitleBox__Skeleton",variant:"rect",height:24,width:160})}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"ExperimentBar__headerContainer__appBarTitleBox__appBarTitleBoxWrapper",children:[Object(h.jsx)(d.c,{disabled:t,color:a?"primary":"default",size:"xSmall",className:x()("ExperimentBar__headerContainer__appBarTitleBox__buttonSelectToggler",{opened:a}),withOnlyIcon:!0,children:Object(h.jsx)(d.f,{name:a?"arrow-up":"arrow-down"})}),0===g.length?Object(h.jsx)(d.n,{className:"ExperimentBar__headerContainer__appBarTitleBox__text",children:"Select Experiments"}):null,Object(h.jsx)("div",{className:"ExperimentBar__headerContainer__appBarTitleBox__chipContainer",children:g.map((e=>{return Object(h.jsx)(O.a,{title:e.name,children:Object(h.jsx)(C.a,{className:"ExperimentBar__headerContainer__appBarTitleBox__chipContainer__chip",variant:"outlined",size:"small",label:(t=e.name,t?t.length>18?"".concat(t.slice(0,8),"...").concat(t.slice(-8)):t:"default"),onDelete:()=>s(e)})},e.id);var t}))})]})})})},component:Object(h.jsx)(z,{isExperimentsLoading:n,experimentsData:a,selectedExperiments:g,setSelectedExperiments:p,getExperimentsData:l,onSelectExperimentsChange:s,onToggleAllExperiments:c})})})})})})},L=n(762),V=n(164);n(778);function H(e){var t,n;let{title:a,explorerName:g="METRICS",liveUpdateConfig:b,disabled:x,onBookmarkCreate:f,onBookmarkUpdate:O,onResetConfigData:C,onLiveUpdateConfigChange:_,onSelectExperimentsChange:y,onToggleAllExperiments:S}=e;const[R,N]=o.a.useState(""),[A,E]=o.a.useState(Object(V.a)()),P=Object(i.j)(),{current:w}=o.a.useRef(j.a),T=w.experimentsState((e=>e));o.a.useEffect((()=>(w.fetchExperiments(),()=>{w.destroy()})),[]);const{experimentState:k,experimentsState:M,selectedExperiments:D,getExperimentsData:I}=Object(L.a)(null===(t=T.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id);o.a.useEffect((()=>{D.length!==A.length&&E(D)}),[D,A]);const{data:z,loading:H}=k,{data:F,loading:G}=M;function q(e){N(e)}function U(){N("")}return Object(h.jsx)(u.a,{children:Object(h.jsxs)(c.a,{title:a,disabled:x,children:[Object(h.jsx)(B,{experimentsData:F,isExperimentLoading:H,isExperimentsLoading:G,selectedExperiments:A,getExperimentsData:I,onSelectExperimentsChange:function(e){y(e),E(Object(V.a)())},onToggleAllExperiments:S}),Object(h.jsx)(p,{...b,onLiveUpdateConfigChange:_}),P.params.appId?Object(h.jsx)(u.a,{children:Object(h.jsx)(r.a,{title:"Bookmark",anchor:e=>{let{onAnchorClick:t}=e;return Object(h.jsxs)(d.c,{color:"secondary",size:"small",onClick:t,children:[Object(h.jsx)(d.n,{size:14,className:"MetricsBar__item__bookmark__Text",children:"Bookmark"}),Object(h.jsx)(d.f,{name:"bookmarks",className:"MetricsBar__item__bookmark__Icon"})]})},component:Object(h.jsxs)("div",{className:"MetricsBar__popover",children:[Object(h.jsx)(l.a,{onClick:()=>q("create"),children:"Create Bookmark"}),Object(h.jsx)(l.a,{onClick:()=>q("update"),children:"Update Bookmark"})]})})}):Object(h.jsxs)(d.c,{color:"secondary",className:"MetricsBar__item__bookmark",size:"small",onClick:()=>q("create"),children:[Object(h.jsx)(d.n,{size:14,className:"MetricsBar__item__bookmark__Text",children:"Bookmark"}),Object(h.jsx)(d.f,{fontSize:14,name:"bookmarks",className:"MetricsBar__item__bookmark__Icon"})]}),Object(h.jsx)("div",{className:"MetricsBar__menu",children:Object(h.jsx)(u.a,{children:Object(h.jsx)(r.a,{title:"Menu",anchor:e=>{let{onAnchorClick:t}=e;return Object(h.jsx)(d.c,{withOnlyIcon:!0,color:"secondary",size:"small",onClick:t,children:Object(h.jsx)(d.f,{fontSize:16,name:"menu",className:"MetricsBar__item__bookmark__Icon"})})},component:Object(h.jsxs)("div",{className:"MetricsBar__popover",children:[Object(h.jsx)(l.a,{onClick:C,children:"Reset Controls to System Defaults"}),Object(h.jsx)("a",{href:v.a.EXPLORERS[g].MAIN,target:"_blank",rel:"noreferrer",children:Object(h.jsx)(l.a,{children:"Explorer Documentation"})})]})})})}),Object(h.jsx)(u.a,{children:Object(h.jsx)(s.a,{onBookmarkCreate:f,onClose:U,open:"create"===R})}),Object(h.jsx)(m.a,{open:"update"===R,onCancel:U,onSubmit:function(){O(P.params.appId),U()},text:"Are you sure you want to update bookmark?",icon:Object(h.jsx)(d.f,{name:"check"}),title:"Update bookmark",statusType:"success",confirmBtnText:"Update"})]})})}t.a=o.a.memo(H)},811:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(852),l=n(8),s=n(753),c=n(65),r=n(280),d=n(731),u=n(12),h=(n(823),n(1));const g=o.a.forwardRef((function(e,t){const{index:n,id:a="".concat(n),nameKey:i="",curveInterpolation:s,syncHoverState:g,data:p,isVisibleColorIndicator:m,chartTitle:v,onAxisBrushExtentChange:j,brushExtents:b,resizeMode:x,onMount:f,readOnly:O=!1,margin:C={top:64,right:60,bottom:30,left:60},scaleStates:_}=e,y=o.a.useRef({margin:C,height:0,width:0}),S=o.a.useRef({height:0,width:0}),R=o.a.useRef(null),N=o.a.useRef(null),A=o.a.useRef(null),E=o.a.useRef(null),P=o.a.useRef(null),w=o.a.useRef(null),T=o.a.useRef(null),k=o.a.useRef(null),M=o.a.useRef(null),D=o.a.useRef({}),I=o.a.useRef({}),z=o.a.useRef({}),B=o.a.useRef({}),L=o.a.useRef(),V=[p,s,n,m,O,x,a];function H(){Object(u.k)({visAreaRef:N}),Object(u.l)({index:n,id:a,nameKey:i,visBoxRef:y,plotBoxRef:S,parentRef:R,visAreaRef:N,svgNodeRef:A,bgRectNodeRef:E,plotNodeRef:P,axesNodeRef:w,linesNodeRef:T,attributesNodeRef:k,chartTitle:v}),m&&Object(u.t)({index:n,plotBoxRef:S,plotNodeRef:P}),Object(u.r)({axesNodeRef:w,visBoxRef:y,attributesRef:D,axesRef:I,dimensions:p.dimensions,plotBoxRef:S,scaleStates:_}),(null===D||void 0===D?void 0:D.current.xScale)&&D.current.yScale&&(Object(u.v)({index:n,nameKey:i,linesNodeRef:T,attributesRef:D,attributesNodeRef:k,curveInterpolation:s,isVisibleColorIndicator:m,linesRef:z,dimensions:p.dimensions,data:p.data}),z.current.data=p.data,!O&&T.current&&T.current.selectChildren().size()>d.c&&T.current.classed("optimizeRendering",!0),O||Object(u.u)({dimensions:p.dimensions,index:n,id:a,nameKey:i,visAreaRef:N,linesRef:z,attributesRef:D,visBoxRef:y,bgRectNodeRef:E,attributesNodeRef:k,linesNodeRef:T,highlightedNodeRef:M,isVisibleColorIndicator:m,axesNodeRef:w,syncHoverState:g,svgNodeRef:A}),Object(u.s)({plotBoxRef:S,plotNodeRef:P,brushRef:B,linesRef:z,visBoxRef:y,attributesRef:D,brushExtents:b,onAxisBrushExtentChange:j,dimensions:p.dimensions,data:p.data,index:n}))}const F=o.a.useCallback((e=>{(null===e||void 0===e?void 0:e.length)&&(L.current=window.requestAnimationFrame(H))}),V),G=o.a.useCallback((()=>{L.current&&window.cancelAnimationFrame(L.current)}),[]);return Object(r.c)(F,R,G),o.a.useEffect((()=>(L.current=window.requestAnimationFrame(H),()=>{L.current&&window.cancelAnimationFrame(L.current)})),V),o.a.useEffect((()=>{"function"===typeof f&&f()}),[]),o.a.useImperativeHandle(t,(()=>({clearHoverAttributes:()=>{var e,t;null===(e=(t=D.current).clearHoverAttributes)||void 0===e||e.call(t)},setFocusedState:e=>{var t;const n={...D.current.focusedState};var a,o,i,l,s,r;(D.current.focusedState={...e,visId:null!==(t=e.visId)&&void 0!==t?t:"".concat(e.chartIndex)},c.a.isEmpty(b)||c.a.isNil(null===e||void 0===e?void 0:e.yValue)||(null===e||void 0===e?void 0:e.active)===(null===n||void 0===n?void 0:n.active)&&(!(null===e||void 0===e?void 0:e.active)||!(null===n||void 0===n?void 0:n.active)||n.yValue===e.yValue&&n.xValue===e.xValue))||(null===B||void 0===B||null===(a=B.current)||void 0===a||null===(o=a.updateLinesAndHoverAttributes)||void 0===o||o.call(a,{mouse:[B.current.xScale(null===e||void 0===e?void 0:e.xValue),(null!==(i=null===(l=(s=B.current.yScale)[null!==(r=null===e||void 0===e?void 0:e.xValue)&&void 0!==r?r:0])||void 0===l?void 0:l.call(s,null===e||void 0===e?void 0:e.yValue))&&void 0!==i?i:0)+y.current.margin.top],focusedState:e}))},setActiveLineAndCircle:function(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===(t=(n=D.current).setActiveLineAndCircle)||void 0===t||t.call(n,e,a,o)}}))),Object(h.jsx)(l.a,{children:Object(h.jsx)("div",{ref:R,className:"HighPlot__container",children:Object(h.jsx)("div",{ref:N})})})}));var p=o.a.memo(g);n(824);const m=o.a.forwardRef((function(e,t){const{index:n,id:a="".concat(n),nameKey:i="",data:{dimensions:s,data:c},syncHoverState:d,chartTitle:g,trendlineOptions:p,readOnly:m=!1,resizeMode:v,onMount:j,margin:b={top:30,right:20,bottom:30,left:60}}=e,x=o.a.useRef({margin:b,height:0,width:0}),f=o.a.useRef({height:0,width:0}),O=o.a.useRef(null),C=o.a.useRef(null),_=o.a.useRef(null),y=o.a.useRef(null),S=o.a.useRef(null),R=o.a.useRef(null),N=o.a.useRef(null),A=o.a.useRef(null),E=o.a.useRef(null),P=o.a.useRef({}),w=o.a.useRef({}),T=o.a.useRef({}),k=o.a.useRef({}),M=o.a.useRef(),[D,I]=Object.values(s),z=[],B=[c,s,p,m,v];function L(){Object(u.k)({visAreaRef:C}),function(){Object(u.l)({index:n,id:a,nameKey:i,visBoxRef:x,plotBoxRef:f,parentRef:O,visAreaRef:C,svgNodeRef:_,bgRectNodeRef:y,plotNodeRef:S,axesNodeRef:R,linesNodeRef:N,attributesNodeRef:A,chartTitle:g});const{width:e,height:t,margin:o}=x.current,l={xAxis:I.scaleType,yAxis:D.scaleType},s=Object(u.z)({domainData:I.domainData,rangeData:[0,e-o.left-o.right],scaleType:l.xAxis}),r=Object(u.z)({domainData:D.domainData,rangeData:[t-o.top-o.bottom,0],scaleType:l.yAxis});z.unshift({condition:"-"===D.domainData[0]||"-"===I.domainData[0],text:"Unable to draw points with the current data. Please adjust the data."}),T.current.xScale=s,T.current.yScale=r,Object(u.m)({svgNodeRef:_,axesNodeRef:R,axesRef:P,plotBoxRef:f,xScale:s,yScale:r,visBoxRef:x,axesScaleType:l,humanizerConfigRef:k,drawBgTickLines:{y:!0,x:!0}}),Object(u.w)({index:n,data:c,nameKey:i,xScale:s,yScale:r,pointsRef:w,pointsNodeRef:N}),m||Object(u.o)({index:n,id:a,nameKey:i,data:c,axesScaleType:l,syncHoverState:d,visAreaRef:C,attributesRef:T,plotBoxRef:f,visBoxRef:x,svgNodeRef:_,bgRectNodeRef:y,attributesNodeRef:A,linesNodeRef:N,highlightedNodeRef:E,drawAxisLines:{x:!1,y:!1},drawAxisLabels:{x:!1,y:!1}}),p.isApplied&&Object(u.x)({index:n,nameKey:i,data:c,type:p.type,bandwidth:p.bandwidth,xScale:s,yScale:r,targetRef:N}),Object(u.y)({renderArr:z,visAreaRef:C,attributesRef:T,readOnly:m,syncHoverState:d})}()}const V=o.a.useCallback((e=>{(null===e||void 0===e?void 0:e.length)&&(M.current=window.requestAnimationFrame(L))}),B),H=o.a.useCallback((()=>{M.current&&window.cancelAnimationFrame(M.current)}),[]);return Object(r.c)(V,O,H),o.a.useEffect((()=>(M.current=window.requestAnimationFrame(L),()=>{M.current&&window.cancelAnimationFrame(M.current)})),B),o.a.useEffect((()=>{"function"===typeof j&&j()}),[]),o.a.useImperativeHandle(t,(()=>({setActiveLineAndCircle:function(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null===(t=(n=T.current).setActiveLineAndCircle)||void 0===t||t.call(n,e,a,o)},updateHoverAttributes:(e,t)=>{var n,a;null===(n=(a=T.current).updateHoverAttributes)||void 0===n||n.call(a,e,t)},clearHoverAttributes:()=>{var e,t;null===(e=(t=T.current).clearHoverAttributes)||void 0===e||e.call(t)},setFocusedState:e=>{var t;e&&(T.current.focusedState={...e,visId:null!==(t=e.visId)&&void 0!==t?t:"".concat(e.chartIndex)})}}))),Object(h.jsx)(l.a,{children:Object(h.jsx)("div",{ref:O,className:"ScatterPlot",children:Object(h.jsx)("div",{ref:C})})})}));m.displayName="ScatterPlot";var v=o.a.memo(m);const j={LineChart:s.a,HighPlot:p,ScatterPlot:v};n(825);function b(e){let{data:t,chartType:n,chartRefs:a=[],nameKey:o,chartProps:s,readOnly:c=!1,syncHoverState:r,resizeMode:u,chartPanelOffsetHeight:g,onMount:p}=e;return Object(h.jsx)(l.a,{children:t.map(((e,l)=>{const m=j[n],v=function(e,t){return e>9?d.b.S:d.a[e][t]}(t.length,l);return Object(h.jsx)(i.a,{item:!0,className:"ChartGrid",xs:v,children:Object(h.jsx)(m,{ref:a[l],nameKey:o,index:l,...s[l],readOnly:c,onMount:p,data:e,syncHoverState:r,resizeMode:u})},"".concat(l,"-").concat(u,"-").concat(g))}))})}b.displayName="ChartGrid";var x=o.a.memo(b);t.a=x},812:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(8),l=n(3),s=n(35),c=n(13),r=n.n(c),d=n(353),u=n(79),h=n(706),g=n(704),p=n(697),m=n(698),v=n(703),j=(n(784),n(1));var b=function(e){let{groupName:t,advancedComponent:n,groupingData:a,groupingSelectOptions:s,onSelect:c,onGroupingModeChange:r,inputLabel:d}=e;const[u,b]=o.a.useState("");function x(e){c({groupName:t,list:e.map((e=>"string"===typeof e?e:e.value))})}const f=o.a.useMemo((()=>{let e=[];return s.forEach((n=>{-1!==(null===a||void 0===a?void 0:a[t].indexOf(n.value))&&e.push(n)})),a?e.sort(((e,n)=>a[t].indexOf(e.value)-a[t].indexOf(n.value))):e}),[t,a,s]),O=o.a.useMemo((()=>{if(""!==u.trim()){return s.filter((e=>-1!==e.label.indexOf(u))).slice().sort(((e,t)=>e.label.indexOf(u)-t.label.indexOf(u)))}return s}),[s,u]);return Object(j.jsx)(i.a,{children:Object(j.jsx)("div",{className:"GroupingPopover",children:Object(j.jsxs)("div",{className:"GroupingPopover__container",children:[Object(j.jsxs)("div",{className:"GroupingPopover__container__select",children:[Object(j.jsx)(l.n,{size:12,tint:50,component:"h3",className:"GroupingPopover__subtitle",children:null!==d&&void 0!==d?d:"Select fields for grouping by ".concat(t)}),Object(j.jsx)(v.a,{multiple:!0,openOnFocus:!0,size:"small",disableCloseOnSelect:!0,options:O,value:f,onChange:function(e,t){("Backspace"!==(null===e||void 0===e?void 0:e.code)||0===u.length)&&x(t)},groupBy:e=>e.group,getOptionLabel:e=>e.label,getOptionSelected:(e,t)=>e.value===t.value,renderInput:e=>Object(j.jsx)(h.a,{...e,inputProps:{...e.inputProps,value:u,onChange:e=>{var t;b(null===(t=e.target)||void 0===t?void 0:t.value)}},className:"TextField__OutLined__Small",variant:"outlined",placeholder:"Select fields"}),renderTags:(e,t)=>Object(j.jsx)("div",{className:"GroupingPopover__container__select__selectedFieldsContainer",children:e.map(((e,n)=>Object(j.jsx)(l.b,{...t({index:n}),label:e.label,selectBadge:!0},n)))}),renderOption:(e,t)=>{let{selected:n}=t;return Object(j.jsxs)("div",{className:"GroupingPopover__option",children:[Object(j.jsx)(g.a,{color:"primary",size:"small",icon:Object(j.jsx)(p.a,{}),checkedIcon:Object(j.jsx)(m.a,{}),style:{marginRight:4},checked:n}),Object(j.jsx)(l.n,{className:"GroupingPopover__option__label",size:14,children:e.label})]})}})]}),n&&Object(j.jsx)(i.a,{children:Object(j.jsx)("div",{className:"GroupingPopover__advanced__component",children:n})})]})})})};n(785);const x={stroke:"line-style",chart:"chart-group",row:"image-group",color:"coloring"};var f=function(e){let{title:t,groupName:n,groupingData:a,inputLabel:o,advancedComponent:c,onSelect:h,onGroupingModeChange:g,groupingSelectOptions:p,isDisabled:m}=e;return Object(j.jsx)(i.a,{children:Object(j.jsx)(u.a,{title:t,anchor:e=>{var t,o;let{onAnchorClick:i,opened:c}=e;return Object(j.jsx)(d.a,{title:"Group by ".concat(n),children:Object(j.jsx)("div",{onClick:e=>{m||i(e)},className:r()("GroupingItem",{isDisabled:m}),children:Object(j.jsx)("div",{className:"GroupingItem__icon__box ".concat(c?"active":""," ").concat((null===p||void 0===p?void 0:p.length)&&((null===a||void 0===a||null===(t=a[n])||void 0===t?void 0:t.length)||n!==s.a.ROW&&(null===a||void 0===a||null===(o=a.conditions)||void 0===o?void 0:o[n].length))?"outlined":""),children:Object(j.jsx)(l.f,{name:x[n]})})})})},component:Object(j.jsx)(b,{groupName:n,inputLabel:o,groupingData:a,groupingSelectOptions:p,advancedComponent:c,onSelect:h,onGroupingModeChange:g})})})};n(786);function O(e){let{groupingData:t,groupingSelectOptions:n,onGroupingSelectChange:a,onGroupingModeChange:o,onGroupingPaletteChange:c,onGroupingReset:r,onGroupingPersistenceChange:d,onGroupingApplyChange:u,onShuffleChange:h,onGroupingConditionsChange:g,groupingPopovers:p=s.b,isDisabled:m=!1}=e;return Object(j.jsx)(i.a,{children:Object(j.jsxs)("div",{className:"Grouping",children:[Object(j.jsx)("div",{className:"Grouping__title",children:Object(j.jsx)(l.n,{size:12,weight:600,children:"Group by"})}),Object(j.jsx)("div",{className:"Grouping__content",children:p.map((e=>{let{title:i,inputLabel:l,groupName:p,AdvancedComponent:v}=e;return Object(j.jsx)(f,{title:i,inputLabel:l,groupName:p,groupingData:t,groupingSelectOptions:n,onSelect:a,onGroupingModeChange:o,isDisabled:m,advancedComponent:v&&Object(j.jsx)(v,{groupingData:t,onPersistenceChange:d,persistence:null===t||void 0===t?void 0:t.persistence[p],onShuffleChange:h,...p===s.a.COLOR&&{onGroupingPaletteChange:c,paletteIndex:null===t||void 0===t?void 0:t.paletteIndex},groupingSelectOptions:n,onSelect:a,onGroupingConditionsChange:g}),onReset:()=>r(p),onVisibilityChange:()=>u(p)},p)}))})]})})}t.a=o.a.memo(O)},818:function(e,t,n){"use strict";var a=n(0),o=n(65),i=n(13),l=n.n(i),s=n(8),c=n(12),r=(n(826),n(1));function d(e){const{data:t={},mode:n=c.f.PINNED,readOnly:i=!1}=e,d=a.useRef({}),u=a.useRef(null);return a.useEffect((()=>{u.current&&!o.a.isEqual(d.current,t)&&(d.current=t,Object(c.p)({data:t,containerNode:u.current,readOnly:i}))}),[t,i]),Object(r.jsx)(s.a,{children:Object(r.jsx)("div",{className:l()("ChartLegends",{[n]:!0}),children:Object(r.jsx)("div",{ref:u,className:"ChartLegends__container"})})})}d.displayName="ChartLegends";var u=a.memo(d);t.a=u},822:function(e,t,n){},823:function(e,t,n){},824:function(e,t,n){},825:function(e,t,n){},826:function(e,t,n){},827:function(e,t,n){},838:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(65),l=n(8),s=n(908),c=n(13),r=n.n(c),d=n(32),u=(n(822),n(1));function h(e){const{id:t="",sizes:n,children:o,resizing:i,direction:c="horizontal",gutterSize:h=4,className:g="",onDragStart:p,onDragEnd:m,useLocalStorage:j=!1,...b}=e,[x,f]=a.useState(!1),O=a.useCallback((e=>{f(!0),"function"===typeof p&&p(e)}),[p]),C=a.useCallback((e=>{f(!1),"function"===typeof m&&m(e),j&&Object(d.c)("".concat(t,"-panesSizes"),JSON.stringify(e))}),[m,t,j]),_=a.useCallback(((e,t,n)=>{if(e){const e=Object(d.a)("".concat(t,"-panesSizes"));if(e)return JSON.parse(e)}return n}),[]);return a.useEffect((()=>{"boolean"===typeof i&&f(i)}),[i]),Object(u.jsx)(l.a,{children:Object(u.jsx)(v.Provider,{value:{resizing:x},children:Object(u.jsx)(s.a,{...b,sizes:_(j,t,n),direction:c,gutterSize:h,className:r()("SplitPane",{[c]:!0,[g]:!!g}),onDragStart:O,onDragEnd:C,children:o})})})}h.displayName="SplitPane";var g=h;const p=a.forwardRef((function(e,t){const{children:n,className:o="",resizingFallback:i=null,hide:l=!1}=e,{resizing:s}=a.useContext(v),c=a.useMemo((()=>"function"===typeof n?n(s):n),[n,s]);return Object(u.jsx)("div",{ref:t,className:r()("SplitPaneItem",{[o]:!!o,hide:l}),children:l?null:s&&i?i:c})}));p.displayName="SplitPaneItem";var m=p;var v=a.createContext({resizing:!1}),j=g,b=n(55),x=n(12),f=n(763),O=n(779).a,C=n(811),_=n(818);n(827);const y=o.a.forwardRef((function(e,t){var n,a,s,c,r,d,h;const[g]=o.a.useState(new Array(e.data.length).fill("*").map((()=>o.a.createRef()))),[p,v]=o.a.useState(null),[y,S]=o.a.useState(!1),R=o.a.useRef(null),N=o.a.useRef(null),A=o.a.useCallback((()=>{var e;if(N.current&&R.current&&null!==(null===(e=N.current)||void 0===e?void 0:e.pointRect)){const{pointRect:e}=N.current;v({...e})}else v(null)}),[v]),E=o.a.useCallback((t=>{const{activePoint:n,focusedState:a,dataSelector:o}=t;N.current=n,null!==n?(g.forEach(((t,i)=>{var l,s,c,r,d,u;a&&(null===(d=t.current)||void 0===d||null===(u=d.setFocusedState)||void 0===u||u.call(d,a));if(i!==n.chartIndex)switch(e.chartType){case x.b.LineChart:null===(l=t.current)||void 0===l||null===(s=l.updateHoverAttributes)||void 0===s||s.call(l,n.xValue,o);break;case x.b.HighPlot:null===(c=t.current)||void 0===c||null===(r=c.clearHoverAttributes)||void 0===r||r.call(c)}})),e.onActivePointChange&&e.onActivePointChange(n,null===a||void 0===a?void 0:a.active),null!==n.pointRect?A():v(null)):(g.forEach((e=>{var t,n;null===(t=e.current)||void 0===t||null===(n=t.clearHoverAttributes)||void 0===n||n.call(t)})),v(null))}),[g,A,e.chartType,e.onActivePointChange]),P=o.a.useMemo((()=>{var t;return!!(null===(t=e.legends)||void 0===t?void 0:t.display)&&!i.a.isEmpty(e.legendsData)}),[null===(n=e.legends)||void 0===n?void 0:n.display,e.legendsData]),w=o.a.useCallback((()=>{S(!0)}),[]),T=o.a.useCallback((()=>{S(!1)}),[]),k=o.a.useCallback((()=>{e.focusedState&&g.forEach((t=>{var n,a;null===(n=t.current)||void 0===n||null===(a=n.setFocusedState)||void 0===a||a.call(n,e.focusedState)}))}),[e.focusedState,g]);return o.a.useImperativeHandle(t,(()=>({setActiveLineAndCircle:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g.forEach((a=>{var o,i;null===(o=a.current)||void 0===o||null===(i=o.setActiveLineAndCircle)||void 0===i||i.call(o,e,t,n)}))}}))),o.a.useEffect((()=>{!e.panelResizing&&e.focusedState&&g.forEach((t=>{var n,a;null===(n=t.current)||void 0===n||null===(a=n.setFocusedState)||void 0===a||a.call(n,e.focusedState)}))}),[g,e.focusedState,e.panelResizing,e.resizeMode,y]),Object(u.jsx)(l.a,{children:Object(u.jsx)("div",{className:"ChartPanel__container",children:e.panelResizing?Object(u.jsx)(f.a,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.a,{children:Object(u.jsx)("div",{className:"ChartPanel",children:Object(u.jsxs)(j,{id:e.chartType,direction:"horizontal",minSize:[600,0],expandToMin:!0,sizes:P?[85,15]:[100,0],snapOffset:80,gutterSize:P?4:0,useLocalStorage:P,onDragEnd:T,onDragStart:w,children:[Object(u.jsxs)(m,{ref:R,className:"ChartPanel__grid",resizingFallback:Object(u.jsx)(f.a,{}),children:[Object(u.jsx)(C.a,{data:e.data,chartProps:e.chartProps,chartRefs:g,chartType:e.chartType,syncHoverState:E,resizeMode:e.resizeMode,onMount:k,chartPanelOffsetHeight:e.chartPanelOffsetHeight}),Object(u.jsx)(l.a,{children:Object(u.jsx)(O,{containerNode:R.current,activePointRect:p,onRunsTagsChange:e.onRunsTagsChange,open:e.resizeMode!==b.b.MaxHeight&&e.data.length>0&&!(null===(a=e.zoom)||void 0===a?void 0:a.active)&&!!(null===(s=e.tooltip)||void 0===s?void 0:s.display),forceOpen:!!(null===(c=e.focusedState)||void 0===c?void 0:c.active),chartType:e.chartType,tooltipContent:(null===e||void 0===e||null===(r=e.tooltip)||void 0===r?void 0:r.content)||{},tooltipAppearance:null===e||void 0===e||null===(d=e.tooltip)||void 0===d?void 0:d.appearance,focusedState:e.focusedState,alignmentConfig:e.alignmentConfigs[0],selectOptions:e.selectOptions,onChangeTooltip:e.onChangeTooltip},"popover-"+e.chartType)})]}),Object(u.jsx)(m,{hide:!P,children:Object(u.jsx)(_.a,{data:e.legendsData,mode:null===(h=e.legends)||void 0===h?void 0:h.mode})})]})})}),Object(u.jsx)(l.a,{children:Object(u.jsx)("div",{className:"ChartPanel__controls ScrollBar__hidden",children:e.controls})})]})})})}));t.a=y},853:function(e,t,n){},854:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(265),l=n(1036),s=n(611),c=n(353),r=n(704),d=n(475),u=n(1552),h=n(703),g=n(1550),p=n(775),m=n.n(p),v=n(776),j=n.n(v),b=n(3),x=n(1);const f=o.a.forwardRef(((e,t)=>{let{index:n,children:a,setSize:i}=e;const l=o.a.useRef();return o.a.useEffect((()=>{i(n,l.current.getBoundingClientRect().height)}),[i,n]),Object(x.jsx)("div",{ref:l,children:a[n]})})),O=o.a.forwardRef((function(e,t){const{children:n,role:a,...l}=e,s=Array.isArray(n)?n.length:0,c=o.a.useRef(),r=o.a.useRef({}),d=o.a.useCallback(((e,t)=>{r.current={...r.current,[e]:t},c.current.resetAfterIndex(e)}),[]);return Object(x.jsx)("div",{...l,children:Object(x.jsx)(i.d,{height:380,width:"100%",itemCount:s,itemSize:e=>r.current[e]||50,ref:c,children:e=>{let{index:t,style:a}=e;return Object(x.jsx)("div",{style:a,children:Object(x.jsx)(f,{index:t,setSize:d,children:n})})}})})}));t.a=e=>{let{id:t,open:n,anchorEl:a,options:o,selectedData:i,onSelect:p,searchValue:v,handleSearchInputChange:f,handleClose:C,regexError:_,setRegexError:y,isRegexSearch:S,setIsRegexSearch:R,className:N,classes:A}=e;const E=e=>{"ArrowLeft"===e.key&&e.stopPropagation()};return Object(x.jsx)(s.a,{id:t,open:n,anchorEl:a,placement:"bottom-start",className:N,children:Object(x.jsx)(h.a,{open:!0,onClose:C,multiple:!0,size:"small",disablePortal:!0,disableCloseOnSelect:!0,options:o,value:null===i||void 0===i?void 0:i.options,onChange:p,classes:{popper:A.popper},groupBy:e=>e.group,getOptionLabel:e=>e.label,renderTags:()=>null,disableClearable:!0,ListboxProps:{style:{maxHeight:400}},disableListWrap:!0,ListboxComponent:O,renderInput:e=>Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(c.a,{title:"Select all visible",children:Object(x.jsx)(r.a,{color:"primary",icon:Object(x.jsx)(m.a,{}),checkedIcon:Object(x.jsx)(j.a,{}),checked:(null===i||void 0===i?void 0:i.options.length)===o.length,onChange:e=>{e.target.checked?p(e,o):p(e,[])},size:"small"})}),Object(x.jsx)(d.a,{ref:e.InputProps.ref,inputProps:{...e.inputProps,value:v,onChange:f,onKeyDown:E},spellCheck:!1,placeholder:"Search",autoFocus:!0,style:{flex:1},className:"Popper__SelectForm__select"}),Object(x.jsx)(u.a,{open:!!_,autoHideDuration:6e3,onClose:()=>y(null),children:Object(x.jsx)(g.a,{elevation:6,variant:"filled",severity:"error",onClose:()=>y(null),children:_})}),Object(x.jsx)(c.a,{title:"Use Regular Expression",children:Object(x.jsx)(l.a,{value:"check",selected:S,onChange:()=>{R(!S)},className:"RegexToggle",children:".*"})})]}),renderOption:e=>{var t;let n=!!(null===i||void 0===i||null===(t=i.options.find((t=>t.key===e.key)))||void 0===t?void 0:t.key);return Object(x.jsxs)("div",{className:"Popper__SelectForm__option",children:[Object(x.jsx)(r.a,{color:"primary",icon:Object(x.jsx)(m.a,{}),checkedIcon:Object(x.jsx)(j.a,{}),checked:n,size:"small"}),Object(x.jsx)(b.n,{className:"Popper__SelectForm__option__label",size:14,children:e.label})]})}})})}},906:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(69),l=n.n(i),s=n(3),c=n(8),r=n(15),d=n(80),u=n(11),h=n(45),g=n(399),p=(n(853),n(1));function m(e){let{openModal:t,onToggleExportPreview:n,withDynamicDimensions:a=!1,explorerPage:i="metrics",children:m,appendElement:v=null}=e;const j=o.a.useRef(null),b=o.a.useRef(null),x=o.a.useRef(null),[f,O]=o.a.useState(!1),[C,_]=o.a.useState(!1),[y,S]=o.a.useState(g.c),[R,N]=o.a.useState(g.a.SVG),[A,E]=o.a.useState("".concat(i,"-").concat(l()().format(d.b))),[P,w]=o.a.useState(!1),[T,k]=o.a.useState(!1),M=o.a.useCallback((e=>{const t=e.querySelector(".Attributes");var n;t&&(null===(n=t.remove)||void 0===n||n.call(t));return e}),[]),D=o.a.useCallback(((e,t,n)=>{const a=t.querySelectorAll("svg.Visualization"),o=Math.round(t.scrollWidth/a[0].clientWidth);let i=0;null===a||void 0===a||a.forEach(((t,a)=>{0!==a&&a%o===0&&i++;const l=M(t.cloneNode(!0)),s=a%o;l.setAttribute("x",s*t.clientWidth+"px"),i&&l.setAttribute("y",i*t.clientHeight+"px");const c=l.querySelector("rect");c&&n!==g.a.PNG&&(l.style.backgroundColor="white",l.style.fill="white",c.style.fill="white"),e.appendChild(l)}))}),[M]),I=o.a.useCallback(((e,t,n,a,o)=>{const i=null===t||void 0===t?void 0:t.querySelector("svg.Legends");if(t&&i){const{scrollWidth:t,scrollHeight:l}=i,s=i.cloneNode(!0);s.setAttribute("x",n+"px"),s.setAttribute("y","0px");const c=n+t,r=l>a?l:a;return e.setAttribute("width",c+"px"),e.setAttribute("height",r+"px"),e.setAttribute("viewBox","0 0 ".concat(c," ").concat(r)),o!==g.a.PNG&&(s.style.backgroundColor="white",s.style.fill="white"),e.appendChild(s),{width:c,height:r}}return{width:n,height:a}}),[]),z=o.a.useCallback(((e,t,n)=>{let a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.setAttribute("width","".concat(e,"px")),a.setAttribute("height","".concat(t,"px")),a.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),a.setAttribute("preserveAspectRatio","xMidYMid meet"),n!==g.a.PNG&&(a.style.backgroundColor="white",a.style.fill="white"),a}),[]),B=o.a.useCallback(((e,t,n,a)=>{const o=Object(h.c)(e),i="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(o)));return{[g.a.SVG]:()=>Object(h.a)(i,t||"name"),[g.a.PNG]:()=>Object(h.e)({imgSrc:i,width:n,height:a,format:g.a.PNG,callback:e=>{const n=URL.createObjectURL(e);Object(h.a)(n,t||"name")}}),[g.a.JPEG]:()=>Object(h.e)({imgSrc:i,width:n,height:a,format:g.a.JPEG,callback:e=>{const n=URL.createObjectURL(e);Object(h.a)(n,t||"name")}})}}),[]),L=o.a.useCallback((()=>{O(!0);try{const e=j.current;if(e){const{scrollWidth:t,scrollHeight:n}=e,a=z(t,n,R);D(a,e,R);const o=x.current,{width:l,height:s}=I(a,o,t,n,R),c=B(a,A,l,s)[R];"function"===typeof c&&c(),u.b(r.a[i].chart.controls.exportChart)}}catch(e){console.error(e)}finally{O(!1)}}),[R,z,A,I,D]),V=o.a.useMemo((()=>Object.entries(g.a).map((e=>{let[t,n]=e;return{value:n,label:t}}))),[]),H=o.a.useCallback((e=>{b.current&&(e.hasOwnProperty("height")&&(b.current.style.height="".concat(e.height,"px"),b.current.style.minHeight="".concat(e.height,"px")),e.hasOwnProperty("width")&&(b.current.style.width="".concat(e.width,"px"),b.current.style.minWidth="".concat(e.width,"px")))}),[]),F=o.a.useCallback((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isValid:!0};n.isValid&&H({[e]:t}),S((n=>({...n,[e]:t})))}),[H]),G=o.a.useCallback(((e,t)=>[{errorCondition:t=>t<e,errorText:"Value should be equal or greater then ".concat(e)},{errorCondition:e=>e>t,errorText:"Value should be equal or smaller then ".concat(t)}]),[]);return Object(p.jsx)(c.a,{children:Object(p.jsxs)(s.i,{open:t,className:"ExportPreview",title:"Chart Exporting Preview",withoutTitleIcon:!0,maxWidth:!1,okButtonText:"Download",isOkButtonDisabled:f||!(P&&T),onClose:n,onOk:L,classes:{paper:"ExportPreview__modal"},children:[Object(p.jsxs)("div",{className:"ExportPreview__container",children:[Object(p.jsx)("div",{ref:b,style:g.c,children:Object(p.jsx)("div",{ref:j,className:"ExportPreview__container__grid",children:m})}),!!v&&Object(p.jsx)("div",{ref:x,className:"ExportPreview__container__appendElement",children:v})]}),Object(p.jsxs)("div",{className:"ExportPreview__controls",children:[a&&Object(p.jsxs)("div",{className:"ExportPreview__controls__dimension",children:[Object(p.jsxs)("div",{className:"ExportPreview__controls__dimension__width",children:[Object(p.jsx)(s.n,{size:14,children:"Chart Width"}),Object(p.jsx)(s.k,{"aria-label":"Width",valueLabelDisplay:"auto",containerClassName:"ExportPreview__controls__dimension__width__slider",min:g.b.min.width,max:g.b.max.width,step:2,value:y.width,onChange:(e,t)=>{F("width",t)}}),Object(p.jsx)(s.g,{value:"".concat(y.width),type:"number",inputProps:{step:2},isValidateInitially:!0,showMessageByTooltip:!0,tooltipPlacement:"bottom",onChange:(e,t,n)=>{F("width",t,n),w(n.isValid)},validationPatterns:G(g.b.min.width,g.b.max.width)},"image-width")]}),Object(p.jsxs)("div",{className:"ExportPreview__controls__dimension__height",children:[Object(p.jsx)(s.n,{size:14,children:"Single Chart Height"}),Object(p.jsx)(s.k,{"aria-label":"Height",valueLabelDisplay:"auto",containerClassName:"ExportPreview__controls__dimension__height__slider",min:g.b.min.height,max:g.b.max.height,step:2,value:y.height,onChange:(e,t)=>{F("height",t)}}),Object(p.jsx)(s.g,{value:"".concat(y.height),type:"number",inputProps:{step:2},isValidateInitially:!0,showMessageByTooltip:!0,tooltipPlacement:"bottom",onChange:(e,t,n)=>{F("height",t,n),k(n.isValid)},validationPatterns:G(g.b.min.height,g.b.max.height)},"single-chart-height")]})]}),Object(p.jsxs)("div",{className:"ExportPreview__controls__additional",children:[Object(p.jsx)(s.g,{label:"Image Name",labelAppearance:"swap",wrapperClassName:"ExportPreview__controls__additional__nameInput",placeholder:"name",value:A,onChange:(e,t)=>{E(t)}}),Object(p.jsx)(s.e,{className:"ExportPreview__controls__additional__formatDropdown",isColored:!0,label:"Format",withPortal:!0,onChange:e=>e&&N(e.value),value:R,options:V,onMenuOpen:()=>_(!0),onMenuClose:()=>_(!1),open:C})]})]})]})})}m.displayName="ExportPreview";var v=o.a.memo(m);t.a=v}}]);