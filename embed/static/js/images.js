(this.webpackJsonpui_v2=this.webpackJsonpui_v2||[]).push([[19],{1215:function(e,t,n){},1216:function(e,t,n){},1217:function(e,t,n){},1218:function(e,t,n){},1219:function(e,t,n){},1220:function(e,t,n){},1221:function(e,t,n){},1222:function(e,t,n){},1223:function(e,t,n){},1224:function(e,t,n){},1225:function(e,t,n){},1226:function(e,t,n){},644:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),a=n(91),l=n(61),s=n(13),c=n.n(s),r=n(283),d=n(725),u=n(391),p=n(790),v=n(266),m=n(358),g=n(824),h=n(950),b=n.n(h),j=n(3),f=n(8),x=n(757),O=n(887),_=n(888),y=n(288);var S=Object(y.a)({}),C=n(110),N=n(46),P=(n(1215),n(1));function E(e){var t;let{data:n,additionalProperties:i,style:a={}}=e;const{blob_uri:l}=n,[s,c]=o.a.useState(!1),[r,d]=o.a.useState(null),[u,p]=o.a.useState(!1);let[v,m]=o.a.useState(""),[g,h]=o.a.useState(null!==(t=S.getState()[l])&&void 0!==t?t:null),[y,E]=o.a.useState(!0);const w=o.a.useRef(!1);function k(){p(!1)}function I(){c(!1)}function T(){r?(w.current=!0,c(!s)):(p(!0),i.getAudiosBlobsData([l]).call().then((()=>{w.current=!0,c(!s)})))}function R(){const{index:e,format:t,context:i,step:o,caption:a,audio_name:l}=n,s=""===Object(C.a)(i)?"":"_".concat(Object(C.a)(i)),c="".concat(l).concat(s,"_").concat(a,"_").concat(o,"_").concat(e);Object(N.a)("data:audio/".concat(t,";base64,").concat(g),c)}return o.a.useEffect((()=>{let e,t;return u&&null===g&&(S.getState()[l]?h(S.getState()[l]):(t=S.subscribe(l,(e=>{h(e[l]),t.unsubscribe()})),e=window.setTimeout((()=>{S.getState()[l]&&(h(S.getState()[l]),t.unsubscribe())}),x.a))),()=>{e&&clearTimeout(e),t&&t.unsubscribe(),r&&r.pause()}}),[u]),o.a.useEffect((()=>{if(g){const e=new Audio;e.autoplay=!0,e.muted=!0,e.src="data:audio/".concat(n.format,";base64,").concat(g),m("data:audio/".concat(n.format,";base64,").concat(g)),d(e),E(!1)}}),[g]),o.a.useEffect((()=>{s?null===r||void 0===r||r.play().then((()=>{E(!1)})):null===r||void 0===r||r.pause()}),[s,r]),o.a.useEffect((()=>(r&&(r.addEventListener("ended",I),r.addEventListener("canplay",k)),()=>{r&&(r.pause(),r.removeEventListener("ended",I),r.removeEventListener("canplay",k))})),[r]),o.a.useEffect((()=>{r&&!y&&(r.muted=!1)}),[y]),Object(P.jsx)(f.a,{children:Object(P.jsxs)("div",{className:"AudioBox",style:a,children:[Object(P.jsxs)("div",{className:"AudioBox__controllers",children:[r?Object(P.jsx)(j.c,{onClick:T,color:"secondary",withOnlyIcon:!0,size:"small",children:Object(P.jsx)(j.f,{name:s?"pause":"play"})}):Object(P.jsxs)("div",{className:"AudioBox__controllers__player",children:[Object(P.jsx)(b.a,{displaySlider:!1,volume:!1,displayCloseButton:!1,onPlayed:T,width:"24px",src:v}),u?Object(P.jsx)(j.l,{className:"Icon__container",size:12,color:"#414b6d",thickness:2}):Object(P.jsx)(j.f,{name:s?"pause":"play"})]}),Object(P.jsx)(O.a,{audio:r,isPlaying:s,src:v,disabled:!w.current}),Object(P.jsx)(_.a,{audio:r}),Object(P.jsx)(j.c,{withOnlyIcon:!0,size:"small",onClick:function(){r?R():(p(!0),i.getAudiosBlobsData([l]).call().then(R))},children:u?Object(P.jsx)(j.l,{className:"Icon__container",size:12,color:"#414b6d",thickness:2}):Object(P.jsx)(j.f,{name:"download"})})]}),Object(P.jsx)(j.n,{title:(null===n||void 0===n?void 0:n.caption)||"",className:"AudioBox__caption",size:8,weight:400,children:(null===n||void 0===n?void 0:n.caption)||""})]})})}E.displayName="AudioBox";var w=o.a.memo(E);function k(e){let t=0,n=0;return e.forEach((e=>{t<e.height&&(t=e.height,n=e.width)})),{maxHeight:t,maxWidth:n}}var I=n(622),T=n(699),R=n(776),D=n(12);n(1216);function A(e){let{imageRendering:t,imageData:n,tooltipContent:i,handleClose:o,selectOptions:a,onRunsTagsChange:l}=e;const s=S.getState()[null===n||void 0===n?void 0:n.blob_uri];return Object(P.jsx)(f.a,{children:Object(P.jsxs)("div",{className:"ImageFullViewPopover",children:[Object(P.jsx)("div",{className:"ImageFullViewPopover__imageContainer ImageFullViewPopover__imageContainer--".concat(t),children:Object(P.jsx)("div",{className:"ImageFullViewPopover__imageContainer__imageBox",children:Object(P.jsx)("img",{src:"data:image/".concat(n.format,";base64, ").concat(s),style:{maxWidth:n.width,maxHeight:n.height},alt:n.caption})})}),Object(P.jsxs)("div",{className:"ImageFullViewPopover__detailContainer",children:[Object(P.jsx)("div",{className:"ImageFullViewPopover__detailContainer__closeButtonContainer",children:Object(P.jsx)(j.c,{withOnlyIcon:!0,size:"small",onClick:o,color:"inherit",children:Object(P.jsx)(j.f,{name:"close"})})}),Object(P.jsx)("div",{className:"ImageFullViewPopover__detailContainer__content",children:Object(P.jsx)(f.a,{children:Object(P.jsx)(R.a,{chartType:D.b.ImageSet,tooltipContent:i,focusedState:{active:!0,key:null},selectOptions:a,onRunsTagsChange:l})})})]})]})})}A.displayName="ImageFullViewPopover";var M=o.a.memo(A),B=n(363),z=n(15),F=n(11);var H=e=>{var t;let{index:n,style:i,data:a,addUriToList:l,mediaItemHeight:s,focusedState:r,tooltip:d,additionalProperties:u,selectOptions:p,onRunsTagsChange:v}=e;const{format:m,blob_uri:g}=a,[h,b]=o.a.useState(!1),[O,_]=o.a.useState(null!==(t=S.getState()[g])&&void 0!==t?t:null);o.a.useEffect((()=>{let e,t;if(!O){const n=a.run.props.experiment.artifact_location?"".concat(a.run.props.experiment.artifact_location,"/").concat(a.run.hash,"/artifacts/").concat(g):"artifacts/".concat(a.run.props.experiment.id,"/").concat(a.run.hash,"/artifacts/").concat(g);S.getState()[n]?_(S.getState()[n]):(t=S.subscribe(n,(e=>{_(e[n]),t.unsubscribe()})),e=window.setTimeout((()=>{S.getState()[n]?(_(S.getState()[n]),t.unsubscribe()):l(n)}),x.a))}return()=>{e&&clearTimeout(e),t&&t.unsubscribe()}}),[l,O,g,a.run.hash,a.run.props.experiment.id,a.run.props.experiment.artifact_location]);const y={width:i.width-6,height:u.alignmentType!==B.b.Height?i.width/(a.width/a.height)-6:s-40,containerWidth:i.width-4,containerHeight:u.alignmentType!==B.b.Height?i.width/(a.width/a.height)-4:s-40};return Object(P.jsx)(f.a,{children:Object(P.jsxs)("div",{className:"ImageBox",style:i,children:[Object(P.jsx)("div",{className:c()("ImageBox__image",{["ImageBox__image--".concat(u.imageRendering)]:!!u.imageRendering,focus:r.key===a.key&&(null===r||void 0===r?void 0:r.active),active:r.key===a.key&&!(null===r||void 0===r?void 0:r.active)}),"data-key":"".concat(a.key),"data-seqkey":"".concat(a.seqKey),"data-mediasetitem":"mediaSetItem",children:Object(P.jsxs)("div",{className:"ImageBox__imageWrapper",children:[Object(P.jsxs)("div",{className:"ImageBox__imageWrapper-item ".concat(u.alignmentType===B.b.Height?"ImageBox__imageWrapper-item-heightAlign":""),children:[O?Object(P.jsx)("img",{src:"data:image/".concat(m,";base64, ").concat(O),alt:a.caption}):Object(P.jsx)("div",{style:{height:y.containerHeight,width:y.containerWidth},className:"skeletonContainer",children:Object(P.jsx)(I.a,{variant:"rect",height:y.height,width:y.width})}),Object(P.jsx)(j.n,{style:{maxWidth:i.width},size:10,weight:400,children:a.caption})]}),Object(P.jsx)(j.c,{withOnlyIcon:!0,size:"small",className:c()("ImageBox__imageWrapper__zoomIconWrapper",{isHidden:r.key!==a.key}),onClick:function(e){e.stopPropagation(),b(!0),F.b(z.a.images.imagesPanel.openFullSizeMode)},color:"inherit",children:Object(P.jsx)(j.f,{name:"zoom-in",fontSize:14})})]})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(T.a,{onClose:()=>b(!1),"aria-labelledby":"customized-dialog-title",className:"MediaPanel__Container__imageFullViewPopup",open:h,children:Object(P.jsx)(M,{imageRendering:null===u||void 0===u?void 0:u.imageRendering,tooltipContent:(null===d||void 0===d?void 0:d.content)||{context:a.context,step:a.step,index:a.index,caption:a.caption,images_name:a.name},selectOptions:p,imageData:a,handleClose:()=>b(!1),onRunsTagsChange:v})})})]})},n)};const L={[g.a.IMAGE]:H,[g.a.AUDIO]:w};var V=function(e){let{data:t,wrapperOffsetWidth:n,addUriToList:i,mediaItemHeight:a,focusedState:l,additionalProperties:s,tooltip:c,mediaType:r,wrapperOffsetHeight:d,selectOptions:u,onRunsTagsChange:p}=e;const m=o.a.useCallback((e=>r===g.a.AUDIO?x.f[r]().width:x.f[r]({data:t,index:e,additionalProperties:s,wrapperOffsetWidth:n,wrapperOffsetHeight:d}).width),[s,t,r,d,n]),h=o.a.useMemo((()=>{const{maxWidth:e,maxHeight:i}=k(t),{alignmentType:o,mediaItemSize:l}=s;return r===g.a.IMAGE?x.g[r]({alignmentType:o,maxHeight:i,maxWidth:e,wrapperOffsetWidth:n,mediaItemSize:l,mediaItemHeight:a}):x.g[r](a)}),[s,t,a,r,n]);return Object(P.jsx)(f.a,{children:Object(P.jsx)(v.d,{height:h,itemCount:t.length,itemSize:m,layout:"horizontal",width:n,style:{overflowY:"hidden"},itemData:{data:t,addUriToList:i,mediaItemHeight:h,focusedState:l,additionalProperties:s,tooltip:c,mediaType:r,selectOptions:u,onRunsTagsChange:p},children:G})})};const G=o.a.memo((function(e){const{index:t,style:n,data:i}=e,o=L[i.mediaType];return Object(P.jsx)(f.a,{children:Object(P.jsx)(o,{index:t,style:n,data:i.data[t],addUriToList:i.addUriToList,mediaItemHeight:i.mediaItemHeight,focusedState:i.focusedState,additionalProperties:i.additionalProperties,tooltip:i.tooltip,selectOptions:i.selectOptions,onRunsTagsChange:i.onRunsTagsChange},t)})}),v.e);var W=V,q=n(79),U=n(709),K=n(480);n(1217);function Q(e){let{index:t,pathValue:n,depth:i,onDepthChange:a}=e;const l=o.a.useMemo((()=>n.map(((e,t)=>({depth:t,label:e})))),[n]);return Object(P.jsx)(f.a,{children:Object(P.jsx)(q.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},className:"DepthDropdown",anchor:e=>{let{onAnchorClick:t,opened:n}=e;return Object(P.jsx)(j.c,{onClick:t,className:"DepthDropdown__button",color:n?"primary":"default",size:"small",withOnlyIcon:!0,style:{height:x.j},children:Object(P.jsx)(j.f,{name:n?"arrow-up":"arrow-down"})})},component:Object(P.jsx)(U.a,{open:!0,size:"small",openOnFocus:!0,disablePortal:!0,disableCloseOnSelect:!0,className:"DepthDropdown__autocomplete",options:l,getOptionLabel:e=>e.label,getOptionSelected:e=>e.depth===i,onChange:(e,n)=>{null===a||void 0===a||a(n.depth,t)},disableClearable:!0,ListboxProps:{style:{maxHeight:200,maxWidth:241}},classes:{popper:"DepthDropdown__autocomplete__popper"},renderInput:e=>Object(P.jsx)(K.a,{ref:e.InputProps.ref,inputProps:e.inputProps,spellCheck:!1,placeholder:"Search",autoFocus:!0,className:"DepthDropdown__autocomplete__select"}),renderOption:e=>Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(j.n,{className:c()("DepthDropdown__autocomplete__select__optionLabel",{selected:i===e.depth}),weight:500,size:12,children:e.label}),i===e.depth&&Object(P.jsx)(j.f,{fontSize:14,color:"primary",name:"check",className:"DepthDropdown__autocomplete__select__optionIcon"})]})})})})}Q.displayName="DepthDropdown";var X=o.a.memo(Q),J=n(766),Y=n(28);n(1218);const $=e=>{let{data:t,onListScroll:n,addUriToList:i,index:a=0,mediaSetKey:s,wrapperOffsetHeight:c,wrapperOffsetWidth:r,orderedMap:d,focusedState:u,additionalProperties:p,tableHeight:m,tooltip:h,mediaType:b,sortFieldsDict:j,sortFields:O,selectOptions:_,onRunsTagsChange:y}=e;const[S,C]=o.a.useState([]);let N=[],E={};function w(e,t){for(let n=0;n<e.length;n++)t[n]||(t[n]=[]),t[n].push(e[n])}function I(e,t){const[n,i]=N[N.length-1],[o,a]=t[t.length-1].split(" = ");if(t.length===n.length)n[n.length-1][o].push(a),w(e,i);else{let n=[];w(e,n),t[t.length-1]={[o]:[a]},N.push([t,n])}}function T(e){const t=[],n=[];return null===O||void 0===O||O.forEach((e=>{t.push(e.value),n.push(e.order)})),l.a.orderBy(e,t,n)}!function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],i=arguments.length>2?arguments[2]:void 0;if(Array.isArray(t)){const e=T(t);p.stacking&&N.length?I(e,n):N.push([n,e])}else{var o;l.a.orderBy([...(null===i||void 0===i?void 0:i.ordering)||[]].reduce(((e,t)=>(e.push({[i.key]:t}),e)),[]),[(null===i||void 0===i?void 0:i.key)||""],[(null===j||void 0===j||null===(o=j[null===i||void 0===i?void 0:i.orderKey])||void 0===o?void 0:o.order)||"asc"]).map((e=>e[null===i||void 0===i?void 0:i.key])).forEach((o=>{const a="".concat(i.key," = ").concat(Object(Y.a)(o));E.hasOwnProperty(n.join(""))||(N.push([n,[]]),E[n.join("")]=1),e(t[a],n.concat([a]),i[a])}))}}(t,[""],d);const R=o.a.useCallback(((e,t)=>{if(e!==S[t]){let n=[...S];n[t]=e,C(n)}}),[S,C]),D=o.a.useMemo((()=>{var e,n;return b===g.a.AUDIO?null===(e=x.f[b]())||void 0===e?void 0:e.height:null===(n=x.f[b]({data:t,additionalProperties:p,wrapperOffsetWidth:r,wrapperOffsetHeight:c}))||void 0===n?void 0:n.height}),[p,t,b,c,r]);return o.a.useEffect((()=>{p.stacking&&N.length&&C(Array(N.length).fill(0))}),[p.stacking,t,N.length]),Object(P.jsx)(f.a,{children:Object(P.jsx)(v.d,{height:c||0,itemCount:N.length,itemSize:function(e){let[t,n]=N[e];const{maxHeight:i,maxWidth:o}=k(n.flat()),{mediaItemSize:a,alignmentType:l,stacking:s}=p,c=t[t.length-1],d=s&&"object"===typeof c,{pathValue:u}=ne({isStackedPath:d,lastPath:c});if(1===t.length)return 0;if(n.length>0){if(b===g.a.IMAGE)return x.h[b]({maxHeight:i,maxWidth:o,mediaItemHeight:D,alignmentType:l,wrapperOffsetWidth:r,mediaItemSize:a,stacking:d&&u.length>1});if(b===g.a.AUDIO)return x.h[b]()}return x.j+x.k},width:"100%",onScroll:n,itemData:{data:N,addUriToList:i,wrapperOffsetWidth:r,wrapperOffsetHeight:c,index:a,mediaSetKey:s,mediaItemHeight:D,focusedState:u,additionalProperties:p,tooltip:h,mediaType:b,depthMap:S,onDepthChange:R,selectOptions:_,onRunsTagsChange:y},children:te},N.length+m+s)})};function Z(e,t){return e.mediaSetKey===t.mediaSetKey&&e.focusedState===t.focusedState&&e.sortFieldsDict===t.sortFieldsDict}var ee=o.a.memo($,Z);const te=o.a.memo((function(e){let{index:t,style:n,data:i}=e;const[o,a]=i.data[t],l=o[o.length-1],s=i.depthMap[t]||0,r=i.additionalProperties.stacking&&"object"===typeof l,{pathKey:d,pathValue:u}=ne({isStackedPath:r,lastPath:l}),{currentValue:p,currentItems:v}=function(e){let{isStackedPath:t,pathValue:n,depth:i,items:o}=e,a="",l=[];if(t){var s;a=null===(s=n[i])||void 0===s?void 0:s.trim();for(let e of o)e[i]&&l.push(e[i])}else a=null===n||void 0===n?void 0:n.trim(),l=o;return{currentValue:a,currentItems:l}}({isStackedPath:r,pathValue:u,depth:s,items:a}),g=function(e){try{JSON.parse(e)}catch(t){return!1}return JSON.parse(e)}(p),h="object"===typeof g,b=v.length>0&&r&&u.length>1;return Object(P.jsx)(f.a,{children:Object(P.jsxs)("div",{className:"MediaSet",style:{paddingLeft:"calc(0.625rem * ".concat(o.length-2,")"),...n},children:[o.slice(2).map(((e,t)=>Object(P.jsx)(f.a,{children:Object(P.jsx)("div",{className:"MediaSet__connectorLine",style:{left:"calc(0.625rem * ".concat(t,")")}})},e))),Object(P.jsxs)("div",{className:"MediaSet__container ".concat(o.length>2?"withDash":""),children:[o.length>1&&Object(P.jsx)(f.a,{children:Object(P.jsx)(q.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},anchor:e=>{let{onAnchorClick:n}=e;return Object(P.jsxs)("span",{className:"MediaSet__container__path",children:[Object(P.jsx)(m.a,{placement:"top-start",title:"".concat(d," = ").concat(p),children:Object(P.jsxs)("span",{className:"MediaSet__container__path__title",style:{height:x.j,width:b?"":"100%"},children:[Object(P.jsx)("span",{className:c()("MediaSet__container__path__title__key",{stacked:b}),children:d}),"=",Object(P.jsx)("span",{onClick:h?n:void 0,className:c()("MediaSet__container__path__title__value",{stacked:b,MediaSet__container__path__title__pointer:h}),children:p})]})}),b&&Object(P.jsx)(X,{index:t,pathValue:u,depth:s,onDepthChange:i.onDepthChange})]})},component:Object(P.jsx)(j.h,{json:g})})}),b&&Object(P.jsx)(J.a,{index:t,items:u,depth:s,onDepthChange:i.onDepthChange,style:{height:x.i}}),v.length>0&&Object(P.jsx)("div",{className:"MediaSet__container__mediaItemsList",children:Object(P.jsx)(W,{data:v,addUriToList:i.addUriToList,wrapperOffsetWidth:i.wrapperOffsetWidth,wrapperOffsetHeight:i.wrapperOffsetHeight,mediaItemHeight:i.mediaItemHeight,focusedState:i.focusedState,additionalProperties:i.additionalProperties,tooltip:i.tooltip,mediaType:i.mediaType,selectOptions:i.selectOptions,onRunsTagsChange:i.onRunsTagsChange},"".concat(t,"-").concat(s))})]})]})})}),v.e);function ne(e){let{isStackedPath:t,lastPath:n}=e,i="",o="";return t?(i=Object.keys(n)[0],o=n[i]):[i="",o=""]=null===n||void 0===n?void 0:n.split(" = "),{pathKey:i,pathValue:o}}var ie=n(285);n(1219);var oe=function(e){let{controlsCount:t=3}=e;return Object(P.jsx)(f.a,{children:Object(P.jsxs)("div",{className:"ChartLoader",children:[Object(P.jsx)("div",{className:"ChartLoader__chart",children:Object(P.jsx)("span",{children:"Loading..."})}),t?Object(P.jsx)("div",{className:"ChartLoader__controls",children:[...Array(t)].map(((e,t)=>Object(P.jsx)(I.a,{variant:"rect",style:{minHeight:35,height:35,width:35,minWidth:35},animation:"wave"},t)))}):null]})})},ae=n(787),le=n(47),se=n(386),ce=n(39),re=n(199);n(1220);function de(e){let{data:t,isLoading:n,panelResizing:i,wrapperOffsetHeight:a,wrapperOffsetWidth:s,orderedMap:c,resizeMode:r,tooltip:d,focusedState:u,additionalProperties:p,tableHeight:v,mediaType:m,controls:g,actionPanel:h,actionPanelSize:b,tooltipType:O,onActivePointChange:_,getBlobsData:y,sortFieldsDict:C,sortFields:N,illustrationConfig:E,onChangeTooltip:w=(()=>{}),selectOptions:k=[],onRunsTagsChange:I=(()=>{})}=e;const[T,R]=o.a.useState(null),[D,A]=o.a.useState(""),[M,B]=o.a.useState("");let z=o.a.useRef([]),F=o.a.useRef([]),H=o.a.useRef(0);const L=o.a.useRef(null),V=o.a.useRef(null),G=o.a.useRef(),W=o.a.useRef(0),q=o.a.useRef(0),U=o.a.useCallback((()=>{if(V.current&&L.current){const{pointRect:e}=V.current;R({bottom:e.bottom,right:e.right,top:e.top,left:e.left})}else R(null)}),[R]),K=o.a.useCallback((e=>{const{activePoint:t,focusedStateActive:n=!1}=e;V.current=t,null!==t?(_&&_(t,n),U()):(R(null),_&&_({key:null},n))}),[_,R,U]),Q=o.a.useCallback((()=>{((null===u||void 0===u?void 0:u.key)||T)&&(q.current&&window.cancelAnimationFrame(q.current),K({activePoint:null}))}),[null===u||void 0===u?void 0:u.key,T,K]),X=o.a.useCallback((e=>{e&&(e.stopPropagation(),e.target&&(q.current=window.requestAnimationFrame((()=>{const t=e.target.closest('[data-mediasetitem="mediaSetItem"]');if(t){const e=t.getAttribute("data-key"),n=t.getAttribute("data-seqkey"),i=t.getBoundingClientRect();!i||u.key===e&&null!==T||(null===u||void 0===u?void 0:u.active)||K({activePoint:{pointRect:i,key:e,seqKey:n}})}else Q()}))))}),[null===u||void 0===u?void 0:u.key,null===u||void 0===u?void 0:u.active,T,K,Q]);function J(e){return l.a.isArray(e)?e.map((e=>l.a.omit(e,"run"))):Object.keys(null!==e&&void 0!==e?e:[]).reduce(((t,n)=>(t[n]=J(e[n]),t)),{})}o.a.useEffect((()=>{const e=JSON.stringify(J(t));D!==e&&A(e)}),[t]),o.a.useEffect((()=>{const e=JSON.stringify(C);M!==e&&B(e)}),[C]);const Y=o.a.useMemo((()=>Date.now()),[D,a,s,p,M]);const $=Object(le.m)((()=>{H.current&&window.clearTimeout(H.current),H.current=window.setTimeout((()=>{if(!l.a.isEmpty(F.current)){const e=Object.assign([],F.current);F.current=[],z.current=[...new Set([...z.current,...e])],G.current=y(e),G.current.call().catch((t=>{z.current=z.current.filter((t=>!e.includes(t)))}))}}),x.b)}),x.b);return o.a.useEffect((()=>(document.addEventListener("mouseover",Q),()=>{document.removeEventListener("mouseover",Q)})),[Q]),o.a.useEffect((()=>()=>{H.current&&window.clearTimeout(H.current),G.current&&G.current.abort(),S.init()}),[]),Object(P.jsx)(f.a,{children:Object(P.jsx)(ie.a,{isLoading:n,className:"MediaPanel__loader",height:"100%",loaderComponent:Object(P.jsx)(oe,{controlsCount:4}),children:i?Object(P.jsx)("div",{className:"MediaPanel__Container__resizing",children:Object(P.jsx)(j.n,{size:14,color:"info",children:"Release to resize"})}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"MediaPanel__Container",children:[l.a.isEmpty(t)?Object(P.jsx)(se.a,{page:(null===E||void 0===E?void 0:E.page)||"runs",type:(null===E||void 0===E?void 0:E.type)||re.c.EmptyData,size:(null===E||void 0===E?void 0:E.size)||"xLarge",title:(null===E||void 0===E?void 0:E.title)||""}):Object(P.jsxs)("div",{className:"MediaPanel",style:{height:"calc(100% - ".concat(b||0,")")},children:[Object(P.jsx)("div",{ref:L,className:"MediaPanel__mediaSetContainer",onMouseOver:X,children:Object(P.jsx)(f.a,{children:Object(P.jsx)(ee,{data:t,onListScroll:function(e){let{scrollOffset:t}=e;Math.abs(t-W.current)>window.innerHeight&&G.current&&G.current.abort(),W.current=t,Q()},addUriToList:function(e){S.getState()[e]||F.current.includes(e)||(F.current.push(e),$())},mediaSetKey:Y,sortFieldsDict:C,wrapperOffsetHeight:a,wrapperOffsetWidth:s,focusedState:u,orderedMap:c,additionalProperties:p,tableHeight:v,tooltip:d,mediaType:m,sortFields:N,selectOptions:k,onRunsTagsChange:I})})}),O&&Object(P.jsx)(f.a,{children:Object(P.jsx)(ae.a,{containerNode:L.current,activePointRect:T,open:r!==ce.b.MaxHeight&&!i&&!!(null===d||void 0===d?void 0:d.display),forceOpen:!!(null===u||void 0===u?void 0:u.active),chartType:O,tooltipContent:(null===d||void 0===d?void 0:d.content)||{},tooltipAppearance:null===d||void 0===d?void 0:d.appearance,focusedState:u,selectOptions:k,onRunsTagsChange:I,onChangeTooltip:w},"popover-"+O)}),g&&Object(P.jsx)(f.a,{children:Object(P.jsx)("div",{className:"MediaPanel__controls ScrollBar__hidden",children:g})})]}),h]})})})})}var ue=o.a.memo(de),pe=n(819),ve=n(772);n(1221);function me(e){let{onApply:t,applyButtonDisabled:n,onRangeSliderChange:i,onInputChange:a,items:s}=e;return Object(P.jsx)("form",{className:"RangePanel",onSubmit:e=>{e.preventDefault(),t()},children:Object(P.jsxs)("div",{className:"RangePanelContainer",children:[null===s||void 0===s?void 0:s.map((e=>{var n,s,c,r,d,u,p,v,m;const g=l.a.range(null!==(n=null===(s=e.rangeEndpoints)||void 0===s?void 0:s[0])&&void 0!==n?n:0,(null!==(c=null===(r=e.rangeEndpoints)||void 0===r?void 0:r[1])&&void 0!==c?c:0)+2).length;return Object(P.jsxs)(o.a.Fragment,{children:[(null===(d=e.rangeEndpoints)||void 0===d?void 0:d[0])!==(null===(u=e.rangeEndpoints)||void 0===u?void 0:u[1])?Object(P.jsx)(ve.a,{sliderType:null===e||void 0===e?void 0:e.sliderType,sliderTitle:e.sliderTitle,countInputTitle:e.inputTitle,countTitleTooltip:e.inputTitleTooltip,sliderTitleTooltip:e.sliderTitleTooltip,min:null===(p=e.rangeEndpoints)||void 0===p?void 0:p[0],max:(null===(v=e.rangeEndpoints)||void 0===v?void 0:v[1])+1,selectedRangeValue:e.selectedRangeValue,selectedCountValue:e.inputValue,onSearch:t,onRangeChange:t=>i(e.sliderName,t),onCountChange:(t,n)=>{a(e.inputName,t,n)},inputValidationPatterns:null!==(m=null===e||void 0===e?void 0:e.inputValidationPatterns)&&void 0!==m?m:[{errorCondition:e=>+e<=0,errorText:"Value should be greater than ".concat(0)},{errorCondition:e=>+e>g,errorText:"Value should be smaller than ".concat(g+1)}]}):Object(P.jsxs)("div",{className:"InfoMassageBox",children:[Object(P.jsx)(j.f,{name:"circle-info",color:"#1473E6"}),Object(P.jsxs)(j.n,{size:11,tint:80,weight:500,children:["You have only",Object(P.jsxs)(j.n,{size:11,tint:80,weight:600,className:"InfoMessageBoldText",children:["1 ",(null===e||void 0===e?void 0:e.infoPropertyName)||"step"]}),"logged."]})]}),Object(P.jsx)("div",{className:"VerticalDivider"})]},e.sliderName)})),Object(P.jsx)("div",{className:"ApplyButtonContainer",children:Object(P.jsx)(j.c,{size:"small",color:"primary",variant:"contained",type:"submit",className:"ApplyButton",disabled:n,children:"Apply"})})]})})}me.displayName="RangePanel";var ge=o.a.memo(me),he=n(733),be=n(100),je=n(10),fe=n(35),xe=n(71),Oe=n(716),_e=n(616),ye=n(710),Se=n(706),Ce=n(703),Ne=n(704),Pe=n(737),Ee=n(70),we=n.n(Ee),ke=n(278),Ie=n(168),Te=n(26),Re=n(36),De=n(80),Ae=n(263),Me=n(244),Be=n(188),ze=n(217),Fe=n(213),He=n(214),Le=n(48),Ve=n(107),Ge=n(136);function We(){var e,t,n,i,o,a,s,c,r,d,u,p,v,g,h,b,j,x,O,_,y,S,C,N,E,w,k;let I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],T=arguments.length>1?arguments[1]:void 0,R=arguments.length>2?arguments[2]:void 0,D=arguments.length>3?arguments[3]:void 0,A=arguments.length>4?arguments[4]:void 0,M=arguments.length>5?arguments[5]:void 0,B=arguments.length>6?arguments[6]:void 0,z=arguments.length>7?arguments[7]:void 0,F=arguments.length>8?arguments[8]:void 0,H=[{key:"experiment",content:Object(P.jsx)("span",{children:"Name"}),topHeader:"Experiment",pin:(null===D||void 0===D||null===(e=D.left)||void 0===e?void 0:e.includes("experiment"))?"left":(null===D||void 0===D||null===(t=D.middle)||void 0===t?void 0:t.includes("experiment"))?null:(null===D||void 0===D||null===(n=D.right)||void 0===n?void 0:n.includes("experiment"))?"right":null,columnOptions:Object(Ge.a)(z,F,Le.b.IMAGES,"run.props.experiment.name")},{key:"experiment_description",content:Object(P.jsx)("span",{children:"Description"}),topHeader:"Experiment",pin:(null===D||void 0===D||null===(i=D.left)||void 0===i?void 0:i.includes("experiment_description"))?"left":(null===D||void 0===D||null===(o=D.middle)||void 0===o?void 0:o.includes("experiment_description"))?null:(null===D||void 0===D||null===(a=D.right)||void 0===a?void 0:a.includes("experiment_description"))?"right":null},{key:"hash",content:Object(P.jsx)("span",{children:"Hash"}),topHeader:"Run",pin:(null===D||void 0===D||null===(s=D.left)||void 0===s?void 0:s.includes("hash"))?"left":(null===D||void 0===D||null===(c=D.middle)||void 0===c?void 0:c.includes("hash"))?null:(null===D||void 0===D||null===(r=D.right)||void 0===r?void 0:r.includes("hash"))?"right":null,columnOptions:Object(Ge.a)(z,F,Le.b.IMAGES,"run.hash")},{key:"run",content:Object(P.jsx)("span",{children:"Name"}),topHeader:"Run",pin:(null===D||void 0===D||null===(d=D.left)||void 0===d?void 0:d.includes("run"))?"left":(null===D||void 0===D||null===(u=D.middle)||void 0===u?void 0:u.includes("run"))?null:(null===D||void 0===D||null===(p=D.right)||void 0===p?void 0:p.includes("run"))?"right":"left",columnOptions:Object(Ge.a)(z,F,Le.b.IMAGES,"run.props.name")},{key:"description",content:Object(P.jsx)("span",{children:"Description"}),topHeader:"Run",pin:(null===D||void 0===D||null===(v=D.left)||void 0===v?void 0:v.includes("description"))?"left":(null===D||void 0===D||null===(g=D.middle)||void 0===g?void 0:g.includes("description"))?null:(null===D||void 0===D||null===(h=D.right)||void 0===h?void 0:h.includes("description"))?"right":null},{key:"date",content:Object(P.jsx)("span",{children:"Date"}),topHeader:"Run",pin:(null===D||void 0===D||null===(b=D.left)||void 0===b?void 0:b.includes("date"))?"left":(null===D||void 0===D||null===(j=D.middle)||void 0===j?void 0:j.includes("date"))?null:(null===D||void 0===D||null===(x=D.right)||void 0===x?void 0:x.includes("date"))?"right":null,columnOptions:Object(Ge.a)(z,F,Le.b.IMAGES,"run.props.creation_time")},{key:"duration",content:Object(P.jsx)("span",{children:"Duration"}),topHeader:"Run",pin:(null===D||void 0===D||null===(O=D.left)||void 0===O?void 0:O.includes("date"))?"left":(null===D||void 0===D||null===(_=D.middle)||void 0===_?void 0:_.includes("date"))?null:(null===D||void 0===D||null===(y=D.right)||void 0===y?void 0:y.includes("date"))?"right":null},{key:"tags",content:Object(P.jsx)("span",{children:"Tags"}),topHeader:"Run",pin:(null===D||void 0===D||null===(S=D.left)||void 0===S?void 0:S.includes("tags"))?"left":(null===D||void 0===D||null===(C=D.right)||void 0===C?void 0:C.includes("tags"))?"right":null},{key:"name",content:Object(P.jsx)("span",{children:"Name"}),topHeader:"Images",pin:(null===D||void 0===D||null===(N=D.left)||void 0===N?void 0:N.includes("name"))?"left":(null===D||void 0===D||null===(E=D.right)||void 0===E?void 0:E.includes("name"))?"right":null,columnOptions:Object(Ge.a)(z,F,Le.b.IMAGES,"name")},{key:"context",content:Object(P.jsx)("span",{children:"Context"}),topHeader:"Images",pin:(null===D||void 0===D||null===(w=D.left)||void 0===w?void 0:w.includes("context"))?"left":(null===D||void 0===D||null===(k=D.right)||void 0===k?void 0:k.includes("context"))?"right":null,columnOptions:Object(Ge.a)(z,F,Le.b.IMAGES,"context")},{key:"actions",content:"",topHeader:"",pin:"right"}].concat(I.map((e=>{var t,n,i,o;const a="run.params.".concat(e),s=null!==(t=null===M||void 0===M?void 0:M.findIndex((e=>e.value===a)))&&void 0!==t?t:-1;return{key:e,content:Object(P.jsx)(f.a,{children:Object(P.jsxs)("span",{children:[e,B&&Object(P.jsx)(Me.a,{onSort:()=>{var e;return B({sortFields:M,index:s,field:-1===s?T.find((e=>e.value===a)):null===M||void 0===M?void 0:M[s],actionType:"desc"===(null===M||void 0===M||null===(e=M[s])||void 0===e?void 0:e.order)?Ve.a.DELETE:Ve.a.ORDER_TABLE_TRIGGER})},sort:l.a.isNil(null===M||void 0===M?void 0:M[s])?null:null===M||void 0===M||null===(n=M[s])||void 0===n?void 0:n.order})]})}),topHeader:"Run Params",pin:(null===D||void 0===D||null===(i=D.left)||void 0===i?void 0:i.includes(e))?"left":(null===D||void 0===D||null===(o=D.right)||void 0===o?void 0:o.includes(e))?"right":null}})));H=H.map((e=>({...e,isHidden:!je.i.images.nonHidableColumns.has(e.key)&&A.includes(e.key)})));const L=null===D||void 0===D?void 0:D.left.concat(D.middle).concat(D.right);var V,G;(H.sort(((e,t)=>"#"===e.key?-1:"actions"===e.key?1:"actions"===t.key?-1:L.includes(e.key)||L.includes(t.key)?L.includes(e.key)?L.includes(t.key)?L.indexOf(e.key)-L.indexOf(t.key):-1:1:0)),R)&&(H=[{key:"#",content:"",topHeader:"Group",pin:"left"},{key:"groups",content:Object(P.jsx)(f.a,{children:Object(P.jsx)("div",{className:"Table__groupsColumn__cell",children:Object.keys(R).map((e=>{let t=e.replace("run.params.","");return t=t.replace("run.props.experiment.name","run.props.experiment"),t=t.replace("run.props","run"),Object(P.jsx)(m.a,{title:t||"",children:Object(P.jsx)("div",{children:t})},e)}))})}),pin:(null===D||void 0===D||null===(V=D.left)||void 0===V?void 0:V.includes("groups"))?"left":(null===D||void 0===D||null===(G=D.right)||void 0===G?void 0:G.includes("groups"))?"right":null,topHeader:"Group Config"},...H]);return H}const qe=e=>Object(P.jsx)(Fe.a,{...e,inlineAttachedTagsList:!0});function Ue(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(i){const t={};for(let n=0;n<o.length;n++){const i=o[n];"context"===i?t[i]={content:e.context.length>1?Object(P.jsx)(Be.a,{data:e.context}):Object(P.jsx)(j.b,{monospace:!0,size:"xSmall",color:Te.c[0][0],label:e.context[0]||"Empty Context"})}:["step","epoch"].includes(i)?t[i]=null===e[i]?"-":Array.isArray(e[i])?"":e[i]:"time"===i?t[i]=null===e.time?"-":Array.isArray(e.time)?"":we()(e.time).format(De.f):"groups"===i?t.groups={content:Object(P.jsx)(f.a,{children:Object(P.jsx)("div",{className:"Table__groupsColumn__cell",children:Object.keys(e[i]).map(((t,n)=>{const o=e[i][t];return l.a.isObject(o)?Object(P.jsx)(f.a,{children:Object(P.jsx)(q.a,{title:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},anchor:e=>{let{onAnchorClick:t}=e;return Object(P.jsx)(m.a,{title:Object(C.a)(o)||"",children:Object(P.jsx)("span",{onClick:t,children:Object(C.a)(o)})})},component:Object(P.jsx)(j.h,{json:o})},Object(C.a)(o))},n):Object(P.jsx)(m.a,{title:Object(Y.a)(o)||"",children:Object(P.jsx)("div",{children:Object(Y.a)(o)})},n)}))})})}:Array.isArray(e[i])&&(t[i]={content:Object(P.jsx)(Be.a,{data:e[i]})})}return l.a.merge({},e,t)}{const n={experiment:{content:Object(P.jsx)(He.a,{experimentName:e.experiment,experimentId:e.experimentId})},run:{content:Object(P.jsx)(ze.a,{run:e.run,runHash:e.hash,active:e.active})},metric:e.metric,context:{content:e.context.length>1?Object(P.jsx)(Be.a,{data:e.context}):Object(P.jsx)(j.b,{monospace:!0,size:"xSmall",color:Te.c[0][0],label:e.context[0]||"Empty Context"})},value:e.value,step:e.step,epoch:e.epoch,tags:{content:Object(P.jsx)(qe,{runHash:e.hash,tags:e.tags,onRunsTagsChange:t,headerRenderer:()=>Object(P.jsx)(P.Fragment,{}),addTagButtonSize:"xxSmall"})},time:null===e.time?"-":we()(e.time).format(De.f),actions:{content:Object(P.jsx)(P.Fragment,{})}};return l.a.merge({},e,n)}}var Ke=n(31);const Qe={GET_IMAGES:"runs/search/images",GET_IMAGES_BY_URIS:"runs/images/get-batch"};var Xe={endpoints:Qe,getImagesExploreData:function(e){return Ke.a.getStream(Qe.GET_IMAGES,e,{method:"POST"})},getImagesByURIs:function(e){return Ke.a.getStream(Qe.GET_IMAGES_BY_URIS,e,{method:"POST"})}},Je=n(222),Ye=n(406),$e=n(172),Ze=n(83),et=n(444),tt=n(280),nt=n(16),it=n(111),ot=n(443),at=n(287),lt=n(140),st=n(32),ct=n(346),rt=n(141),dt=n(769);function ut(e){let{data:t,groupingSelectOptions:n,model:i,defaultGroupFields:o}=e;if(!l.a.isEmpty(t)){const e=null===i||void 0===i?void 0:i.getState(),a=null===e||void 0===e?void 0:e.config,s=null===a||void 0===a?void 0:a.grouping,c={},r=[...(null===s||void 0===s?void 0:s.row)||[]],d=o||r,u={};return t.forEach((e=>{const t=null===d||void 0===d?void 0:d.reduce(((t,i,o)=>{const a=l.a.get(e.data[0],i);return l.a.set(u,t.concat(["ordering"]),new Set([...l.a.get(u,t.concat(["ordering"]))||[],a])),l.a.set(u,t.concat(["key"]),Object(rt.a)(n,i)),l.a.set(u,t.concat(["orderKey"]),i),t.push("".concat(Object(rt.a)(n,i)," = ").concat(Object(Y.a)(a))),t}),[]);l.a.set(c,t,l.a.sortBy(e.data,[...d,...n.map((e=>e.value)).filter((e=>!d.includes(e))),"caption"]))})),{mediaSetData:l.a.isEmpty(c)?t[0].data:c,orderedMap:u}}return{}}var pt=n(298),vt=n(265),mt=n(203),gt=n(45),ht=n(56),bt=n(212),jt=n(394),ft=n(165),xt=n(196),Ot=n(128),_t=n(245),yt=n(248),St=n(376),Ct=n(296),Nt=n(344),Pt=n(92),Et=n(281),wt=n(378),kt=n(200),It=n(279),Tt=n(164),Rt=n(348);const Dt=Object(y.a)({requestStatus:xe.a.NotRequested,requestProgress:{matched:0,checked:0,trackedRuns:0},searchButtonDisabled:!1,applyButtonDisabled:!0,selectFormData:{options:void 0,suggestions:[],error:null,advancedError:null},config:At()});function At(){return{grouping:{row:[],reverseMode:{row:!1},isApplied:{row:!0}},select:{options:[],query:"",advancedMode:!1,advancedQuery:""},images:{indexDensity:"5",recordDensity:"50",tooltip:{appearance:Re.a.images.tooltip.appearance,display:Re.a.images.tooltip.display,selectedFields:Re.a.images.tooltip.selectedFields},additionalProperties:{alignmentType:Re.a.images.alignmentType,mediaItemSize:Re.a.images.mediaItemSize,imageRendering:Re.a.images.imageRendering,stacking:Re.a.images.stacking},focusedState:{active:!1,key:null},sortFields:[],sortFieldsDict:{},inputsValidations:{}},table:{resizeMode:ce.b.Resizable,rowHeight:je.e.md,sortFields:[],hiddenMetrics:[],hiddenColumns:[],hideSystemMetrics:void 0,columnsWidths:{tags:300},columnsOrder:{left:[],middle:[],right:[]},height:"0.5"}}}let Mt,Bt,zt;function Ft(){var e,t,n,i,o;let a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const s={},c=new URLSearchParams(window.location.search),r=null!==(e=Object(at.a)("grouping"))&&void 0!==e?e:{};s.grouping=r;const d=Object(pt.a)(["images"],Object(at.a)("select")),u=null!==d&&void 0!==d?d:{};s.select=u;const p=null!==(t=Object(at.a)("images"))&&void 0!==t?t:{};if(s.images=p,a){const e=Object(st.a)("imagesTable")||Object(st.a)("imagesExploreTable"),t=e?JSON.parse(Object(St.a)({value:null!==e&&void 0!==e?e:"",localStorageKey:Object(st.a)("imagesTable")?"imagesTable":"imagesExploreTable"})):At().table;s.table=t}const v=l.a.mergeWith({},Dt.getState().config,s,((e,t)=>{if(l.a.isArray(e))return t}));(c.get("grouping")&&!(null===(n=c.get("grouping"))||void 0===n?void 0:n.startsWith(nt.a))||c.get("chart")&&!(null===(i=c.get("chart"))||void 0===i?void 0:i.startsWith(nt.a))||c.get("select")&&!(null===(o=c.get("select"))||void 0===o?void 0:o.startsWith(nt.a)))&&Kt(v),Dt.setState({config:v})}function Ht(e,t,n){var i,o,a,s,c;zt&&zt.abort();const r=null===(i=Dt.getState())||void 0===i?void 0:i.config;var d;n&&((null===r||void 0===r||null===(d=r.select)||void 0===d?void 0:d.advancedMode)?r.select.advancedQuery=n:r.select.query=n);const u=null===r||void 0===r||null===(o=r.images)||void 0===o?void 0:o.recordSlice,p=null===r||void 0===r||null===(a=r.images)||void 0===a?void 0:a.indexSlice,v=null===r||void 0===r||null===(s=r.images)||void 0===s?void 0:s.recordDensity,m=null===r||void 0===r||null===(c=r.images)||void 0===c?void 0:c.indexDensity;let g=en(r.select),h={q:"()"!==g?g:""};return u&&(h={...h,record_range:l.a.isEmpty(u)||l.a.isNil(null===u||void 0===u?void 0:u[0])||l.a.isNil(u[1])?"":"".concat(u[0],":").concat(u[1]+1),index_range:l.a.isEmpty(p)||l.a.isNil(null===u||void 0===u?void 0:u[0])||l.a.isNil(u[1])?"":"".concat(null===p||void 0===p?void 0:p[0],":").concat((null===p||void 0===p?void 0:p[1])||0),record_density:!l.a.isNil(v)&&+v>0?v:"",index_density:!l.a.isNil(m)&&+m>0?m:""}),zt=Xe.getImagesExploreData(h),Object(Ot.a)(Dt),{call:async()=>{if("()"!==g){var n;Dt.setState({requestStatus:xe.a.Pending,queryIsEmpty:!1,applyButtonDisabled:!1,selectedRows:t?{}:null===(n=Dt.getState())||void 0===n?void 0:n.selectedRows}),S.init();try{const t=await zt.call((e=>{Object(ht.a)({detail:e,model:Dt}),Dt.setState({...Dt.getState(),data:[],selectFormData:{...Dt.getState().selectFormData,error:null,advancedError:null},params:[],imagesData:{},tableData:[],tableColumns:[],rawData:[]})})),n=await Object(_t.a)(t,(e=>Object(Ot.a)(Dt,e)));r&&function(e,t){var n,i,o,a,s,c;const r=Dt.getState(),d=null===r||void 0===r||null===(n=r.config)||void 0===n?void 0:n.table.sortFields,{data:u,params:p,runProps:v,highLevelParams:m,contexts:g,selectedRows:h}=Gt(e),b=[...new Set(p.concat(m))].sort(),j=[...Object(bt.a)({params:b,contexts:g,runProps:v,sequenceName:"images"})],{mediaSetData:f,orderedMap:x}=ut({data:u,groupingSelectOptions:j,model:Dt}),O=null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.ranges,_=Qt(u,p,!1,t,j),y=t,S=[l.a.inRange(null===O||void 0===O?void 0:O.record_range_used[0],(null===O||void 0===O?void 0:O.record_range_total[0])-1,(null===O||void 0===O?void 0:O.record_range_total[1])+1)?null===O||void 0===O?void 0:O.record_range_used[0]:null===O||void 0===O?void 0:O.record_range_total[0],l.a.inRange((null===O||void 0===O?void 0:O.record_range_used[1])-1,(null===O||void 0===O?void 0:O.record_range_total[0])-1,(null===O||void 0===O?void 0:O.record_range_total[1])+1)?(null===O||void 0===O?void 0:O.record_range_used[1])-1:(null===O||void 0===O?void 0:O.record_range_total[1])-1],C=[l.a.inRange(null===O||void 0===O?void 0:O.index_range_used[0],(null===O||void 0===O?void 0:O.index_range_total[0])-1,(null===O||void 0===O?void 0:O.index_range_total[1])+1)?null===O||void 0===O?void 0:O.index_range_used[0]:null===O||void 0===O?void 0:O.index_range_total[0],l.a.inRange((null===O||void 0===O?void 0:O.index_range_used[1])-1,(null===O||void 0===O?void 0:O.index_range_total[0])-1,(null===O||void 0===O?void 0:O.index_range_total[1])+1)?null===O||void 0===O?void 0:O.index_range_used[1]:null===O||void 0===O?void 0:O.index_range_total[1]],N=(null===O||void 0===O?void 0:O.record_range_total[1])-1-(null===O||void 0===O?void 0:O.record_range_total[0]),P=(null===O||void 0===O?void 0:O.index_range_total[1])-1-(null===O||void 0===O?void 0:O.index_range_total[0]),E=!y.images.recordDensity||+y.images.recordDensity<(null===O||void 0===O?void 0:O.record_range_total[0])||+y.images.recordDensity>N?"".concat(0===N?1:N):y.images.recordDensity,w=!y.images.indexDensity||+y.images.indexDensity<(null===O||void 0===O?void 0:O.index_range_total[0])||+y.images.indexDensity>P?"".concat(0===P?1:P):y.images.indexDensity;y.images={...y.images,stepRange:l.a.isEmpty(e)?y.images.stepRange:[null===O||void 0===O?void 0:O.record_range_total[0],(null===O||void 0===O?void 0:O.record_range_total[1])-1],indexRange:l.a.isEmpty(e)?y.images.indexRange:[null===O||void 0===O?void 0:O.index_range_total[0],(null===O||void 0===O?void 0:O.index_range_total[1])-1],recordSlice:S,indexSlice:C,recordDensity:E,indexDensity:w,tooltip:y.images.tooltip||{display:!0,selectedFields:[]},focusedState:y.images.focusedState||{active:!1,key:null},additionalProperties:y.images.additionalProperties};const k=We(p,j,null===(o=u[0])||void 0===o?void 0:o.config,t.table.columnsOrder,t.table.hiddenColumns,d,$t,y.grouping,Ut);null===r||void 0===r||null===(a=r.refs)||void 0===a||null===(s=a.tableRef.current)||void 0===s||s.updateData({newData:_.rows,newColumns:k}),Dt.setState({requestStatus:xe.a.Ok,rawData:e,config:y,params:p,selectFormData:{...null===r||void 0===r?void 0:r.selectFormData,[(null===(c=t.select)||void 0===c?void 0:c.advancedMode)?"advancedError":"error"]:null},data:u,selectedRows:h,imagesData:f,orderedMap:x,tableData:_.rows,tableColumns:k,sameValueColumns:_.sameValueColumns,groupingSelectOptions:j})}(n,r),e&&Kt(r),Object(wt.a)(Le.b.IMAGES,g)}catch(o){"AbortError"===o.name||console.log("Unhandled error: ",o)}}else{var i;Dt.setState({selectedRows:t?{}:null===(i=Dt.getState())||void 0===i?void 0:i.selectedRows,queryIsEmpty:!0,imagesData:{},tableData:[],images:{tooltip:{display:!0,selectedFields:[]},focusedState:{active:!1,key:null}},config:{...r,grouping:{...At().grouping},table:{...null===r||void 0===r?void 0:r.table,resizeMode:ce.b.Resizable}}})}},abort:zt.abort}}function Lt(){const e=Object(Tt.a)();$e.a.getProjectParams(["images"],e.map((e=>e.id))).call().then((e=>{const t=Object(jt.a)(e.images);Dt.setState({selectFormData:{options:Vt(e),suggestions:Object(Ae.b)(Le.b.IMAGES,e),advancedSuggestions:{...Object(Ae.b)(Le.b.IMAGES,e),images:{name:"",context:l.a.isEmpty(t)?"":{...t}}}}}),Object(Rt.a)(Dt)}))}function Vt(e){let t=[],n=0;if(null===e||void 0===e?void 0:e.images)for(let i in e.images){t.push({label:i,group:i,color:Te.c[0][n%Te.c[0].length],key:Object(Pt.a)(i,{}),value:{option_name:i,context:null}}),n++;for(let o of e.images[i])if(!l.a.isEmpty(o)){let e=Object(C.a)(o);t.push({label:"".concat(i," ").concat(e),group:i,color:Te.c[0][n%Te.c[0].length],key:Object(Pt.a)(i,o),value:{option_name:i,context:o}}),n++}}return t.sort(Object(vt.a)({orderBy:"label"}))}function Gt(e){var t,n,i,o,a,s,c;const r=null===(t=Dt.getState())||void 0===t?void 0:t.config;let d=null===(n=Dt.getState())||void 0===n?void 0:n.selectedRows,u=[],p=[],v=[],m=[],g=[];null===e||void 0===e||e.forEach((e=>{p=p.concat(Object(it.a)(e.params,e.params)),v=v.concat(Object(it.a)(e.props,e.props)),m=m.concat(Object(it.a)(e.params,e.params,"",!1,!0)),e.traces.forEach((t=>{g=g.concat(Object(it.a)(t.context,t.context)),t.values.forEach(((n,i)=>{n.forEach((n=>{const o=Object(nt.c)({name:t.name,runHash:e.hash,traceContext:t.context,index:n.index,step:t.iters[i],caption:n.caption}),a=Object(nt.c)({name:t.name,runHash:e.hash,traceContext:t.context});u.push({...n,name:t.name,step:t.iters[i],context:t.context,run:l.a.omit(e,"traces"),key:o,seqKey:a})}))}))}))}));let h=null!==(i=null===r||void 0===r||null===(o=r.table)||void 0===o?void 0:o.sortFields)&&void 0!==i?i:[];0===(null===(a=h)||void 0===a?void 0:a.length)&&(h=[{value:"run.props.creation_time",order:"desc",label:"",group:""}]);const b=qt(l.a.orderBy(u,null===(s=h)||void 0===s?void 0:s.map((e=>function(t){return Object(N.d)(t,e.value,"")})),null===(c=h)||void 0===c?void 0:c.map((e=>e.order)))),j=l.a.uniq(v).sort(),f=l.a.uniq(p).sort(),x=l.a.uniq(m).sort(),O=l.a.uniq(g).sort(),_=(null===e||void 0===e?void 0:e.reduce(((e,t)=>(e[t.hash]={runHash:t.hash,...t.props},e)),{}))||{};return d&&!l.a.isEmpty(d)&&(d=Object.keys(d).reduce(((e,t)=>{const n=t.slice(0,t.indexOf("/"));return e[t]={selectKey:t,..._[n]},e}),{})),{data:b,runProps:j,params:f,highLevelParams:x,contexts:O,selectedRows:d}}function Wt(){var e,t,n,i,o;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt.getState().config,l=arguments.length>1?arguments[1]:void 0;const{data:s,params:c,runProps:r,highLevelParams:d,contexts:u,selectedRows:p}=Gt(null===(e=Dt.getState())||void 0===e?void 0:e.rawData),v=[...new Set(c.concat(d))].sort(),m=[...Object(bt.a)({params:v,runProps:r,contexts:u,sequenceName:"images"})],{mediaSetData:g,orderedMap:h}=ut({data:s,groupingSelectOptions:m,model:Dt}),b=Qt(s,c,!1,a,m),j=We(c,m,null===(t=s[0])||void 0===t?void 0:t.config,a.table.columnsOrder,a.table.hiddenColumns,a.table.sortFields,$t,a.grouping,Ut);null===(n=Dt.getState())||void 0===n||null===(i=n.refs)||void 0===i||null===(o=i.tableRef.current)||void 0===o||o.updateData({newData:b.rows,newColumns:j,hiddenColumns:a.table.hiddenColumns}),l&&Kt(a),Dt.setState({config:a,data:s,imagesData:g,orderedMap:h,tableData:b.rows,tableColumns:j,sameValueColumns:b.sameValueColumns,groupingSelectOptions:m,selectedRows:p})}function qt(e){const t=function(e){var t;const{isApplied:n}=e;return(null===(t=Dt.getState())||void 0===t?void 0:t.groupingSelectOptions)&&n.row?e.row:[]}(Dt.getState().config.grouping);if(0===t.length)return[{config:null,chartIndex:0,data:e}];const n={};for(let i=0;i<e.length;i++){const o={};t.forEach((t=>{o[t]=Object(N.d)(e[i],t)}));const a=Object(nt.c)(o);n.hasOwnProperty(a)?n[a].data.push(e[i]):n[a]={key:a,config:o,data:[e[i]]}}return Object.values(n)}function Ut(e){var t;let{groupName:n,list:i}=e;const o=null===(t=Dt.getState())||void 0===t?void 0:t.config;var a,s;(null===o||void 0===o?void 0:o.grouping)&&(o.grouping={...o.grouping,[n]:i},Wt(o,!0),(null===(a=o.images)||void 0===a||null===(s=a.additionalProperties)||void 0===s?void 0:s.stacking)&&l.a.isEmpty(o.grouping.row)&&on());F.b("".concat(z.a.images.groupings[n].select))}function Kt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt.getState().config;const{grouping:t,select:n,images:i}=e,o=Object(ot.a)({grouping:Object(nt.c)(t),select:Object(nt.c)(n),images:Object(nt.c)(i)});if(o==="".concat(window.location.pathname).concat(window.location.search))return;const a=window.location.pathname.split("/")[2];a||Object(st.c)("imagesUrl",o),window.history.pushState(null,"",o)}function Qt(e,t,n,i,o,a){var s;if(!e)return{rows:[],sameValueColumns:[]};const c=null!==(null===(s=e[0])||void 0===s?void 0:s.config)?{}:[];let r=0;const d=[],u={};qt(Object.values(l.a.groupBy(Object.values(e).map((e=>e.data)).flat(),"seqKey")).map((e=>e[0]))).forEach((e=>{const s=e.key,d={};if(null!==e.config){const t={};for(let i in e.config)t[Object(rt.a)(o,i)]=e.config[i];const n={meta:{dasharray:null,itemsCount:e.data.length,config:t},key:s,groupRowsKeys:e.data.map((e=>e.seqKey)),experiment:"",run:"",date:"",description:"",metric:"",context:[],children:[],groups:t};c[s]={data:n,items:[]}}Object.values(l.a.groupBy(e.data,"seqKey")).map((e=>e[0])).forEach((o=>{var u,p,v,m,g,h,b,j,f,x,O,_,y,S,C;const P={rowMeta:{color:null!==(u=e.color)&&void 0!==u?u:o.color},key:o.seqKey,selectKey:"".concat(o.run.hash,"/").concat(o.seqKey),hash:o.run.hash,isHidden:null===i||void 0===i||null===(p=i.table)||void 0===p||null===(v=p.hiddenMetrics)||void 0===v?void 0:v.includes(o.key),index:r,color:null!==(m=e.color)&&void 0!==m?m:o.color,dasharray:null!==(g=e.dasharray)&&void 0!==g?g:o.dasharray,experiment:null!==(h=null===(b=o.run.props.experiment)||void 0===b?void 0:b.name)&&void 0!==h?h:"default",experimentId:null!==(j=null===(f=o.run.props.experiment)||void 0===f?void 0:f.id)&&void 0!==j?j:"",experiment_description:null!==(x=null===(O=o.run.props.experiment)||void 0===O?void 0:O.description)&&void 0!==x?x:"-",run:null!==(_=null===(y=o.run.props)||void 0===y?void 0:y.name)&&void 0!==_?_:"-",description:null!==(S=null===(C=o.run.props)||void 0===C?void 0:C.description)&&void 0!==S?S:"-",date:we()(1e3*o.run.props.creation_time).format(De.f),tags:o.run.props.tags.map((e=>({archived:!1,color:e.color,id:e.id,comment:e.description,name:e.name,run_count:0}))),duration:Object(ft.a)(1e3*o.run.props.creation_time,o.run.props.end_time?1e3*o.run.props.end_time:Date.now()),name:o.name,context:Object.entries(o.context).map((e=>e.join(":"))),parentId:s};r++,["experiment","run","hash","duration","date","metric","context","step","epoch","time","name"].forEach((e=>{d.hasOwnProperty(e)?-1===l.a.findIndex(d[e],(t=>l.a.isEqual(P[e],t)))&&d[e].push(P[e]):d[e]=[P[e]]})),a||t.forEach((e=>{const t=Object(N.d)(o.run.params,e,"-");P[e]=Object(Y.a)(t),d.hasOwnProperty(e)?-1===l.a.findIndex(d[e],(e=>l.a.isEqual(t,e)))&&d[e].push(t):d[e]=[t]})),null!==e.config?c[s].items.push(n?P:Ue(P,Xt,{toggleVisibility:e=>{e.stopPropagation(),Zt(P.key)}})):c.push(n?P:Ue(P,Xt,{toggleVisibility:e=>{e.stopPropagation(),Zt(P.key)}}))}));for(let n in d)u[n]=new Set([...u[n]||[],...d[n]||[]]),null!==e.config&&(c[s].data[n]=1===d[n].length?t.includes(n)?Object(Y.a)(d[n][0]):d[n][0]:d[n]);null===e.config||n||(c[s].data=Ue(c[s].data,Xt,{},!0,["value","name","groups"].concat(Object.keys(d))))}));for(let l in u)1===u[l].size&&d.push(l);return{rows:c,sameValueColumns:d}}function Xt(e,t){Object(Et.a)({runHash:e,tags:t,model:Dt,updateModelData:Wt})}function Jt(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.table){const t={...n.table,sortFields:e},i={...n,table:t};Dt.setState({config:i}),Object(st.c)("imagesTable",Object(nt.c)(t)),Wt(i,!0)}F.b("".concat(z.a.images.table.changeSorting," ").concat(l.a.isEmpty(e)?"Reset":"Apply"))}function Yt(e,t){var n;const i=null===(n=Dt.getState())||void 0===n?void 0:n.config;if(null===i||void 0===i?void 0:i.table){const n={...i.images,sortFields:e,sortFieldsDict:t},o={...i,images:n};Dt.setState({config:o}),Wt(o,!0)}F.b("".concat(z.a.images.imagesPanel.controls.changeSorting," ").concat(l.a.isEmpty(e)?"Reset":"Apply"," images sorting by a key"))}function $t(e){var t;let{sortFields:n,order:i,index:o,actionType:a,field:l}=e;const s=null===(t=Dt.getState())||void 0===t?void 0:t.config;Jt(Object(Ve.b)({sortFields:n||(null===s||void 0===s?void 0:s.table.sortFields)||[],order:i,index:o,actionType:a,field:l}))}function Zt(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.table){var i,o;let t=(null===n||void 0===n||null===(i=n.table)||void 0===i?void 0:i.hiddenMetrics)||[];t=(null===(o=t)||void 0===o?void 0:o.includes(e))?t.filter((t=>t!==e)):[...t,e];const a={...n.table,hiddenMetrics:t},l={...n,table:a};Dt.setState({config:l}),Object(st.c)("imagesTable",Object(nt.c)(a)),Wt(l)}}function en(e,t){let n="()";if(void 0===e)return n;if(e.advancedMode)n=e.advancedQuery||"";else{var i,o;const a=(null===(i=e.query)||void 0===i?void 0:i.trim())&&!(null===t||void 0===t?void 0:t.message)?"(".concat(e.query.trim(),")"):"",l=(null===(o=e.options)||void 0===o?void 0:o.length)?"(".concat(e.options.map((e=>{var t,n,i;return'(images.name == "'.concat(null===(t=e.value)||void 0===t?void 0:t.option_name,'"').concat(null===(null===(n=e.value)||void 0===n?void 0:n.context)?"":" and "+Object.keys(null===(i=e.value)||void 0===i?void 0:i.context).map((t=>{var n;return"images.context.".concat(t," == ").concat(Object(Y.a)((null===(n=e.value)||void 0===n?void 0:n.context)[t]))})).join(" and "),")")})).join(" or "),")"):"";n=a&&l?"".concat(a," and ").concat(l):"".concat(a).concat(l)}return n.trim()||"()"}function tn(e){Object(xt.a)({hiddenColumns:e,model:Dt,appName:Le.b.IMAGES,updateModelData:Wt})}const nn=l.a.throttle((e=>{var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.images){const t={...n.images,additionalProperties:{...n.images.additionalProperties,mediaItemSize:e}},i={...n,images:t};Kt(i),Dt.setState({config:i})}F.b("".concat(z.a.images.imagesPanel.controls.changeImageProperties," / size"))}),x.e);function on(){var e;const t=null===(e=Dt.getState())||void 0===e?void 0:e.config;if(null===t||void 0===t?void 0:t.images){const e={...t.images,additionalProperties:{...t.images.additionalProperties,stacking:!t.images.additionalProperties.stacking}},n={...t,images:e};Kt(n),Dt.setState({config:n}),F.b("".concat(z.a.images.imagesPanel.controls.groupStacking," to ").concat(t.images.additionalProperties.stacking?"Disabled":"Enabled"))}}var an={...Dt,initialize:function(e){Dt.init(),Dt.setState({refs:{tableRef:{current:null}},groupingSelectOptions:[]}),e||Ft(),Lt()},getImagesData:Ht,abortRequest:function(){zt&&zt.abort(),Object(Ot.a)(Dt),Dt.setState({requestStatus:xe.a.Ok}),Object(gt.a)({notification:{id:Date.now(),severity:"info",messages:["Request has been cancelled"]},model:Dt})},setComponentRefs:function(e){const t=Dt.getState();(null===t||void 0===t?void 0:t.refs)&&(t.refs=Object.assign(t.refs,e),Dt.setState({refs:t.refs}))},onGroupingSelectChange:Ut,onGroupingModeChange:function(e){var t;let{value:n}=e;const i=null===(t=Dt.getState())||void 0===t?void 0:t.config;var o,a;(null===i||void 0===i?void 0:i.grouping)&&(i.grouping={...i.grouping,reverseMode:{...i.grouping.reverseMode,row:n}},Wt(i,!0),(null===(o=i.images)||void 0===o||null===(a=o.additionalProperties)||void 0===a?void 0:a.stacking)&&l.a.isEmpty(i.grouping.row)&&on()),n&&F.b(z.a.images.groupings.row.modeChange)},onGroupingReset:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.grouping){var i,o;const{reverseMode:t,isApplied:a}=n.grouping;n.grouping={...n.grouping,reverseMode:{...t,[e]:!1},[e]:[],isApplied:{...a,[e]:!0}},Wt(n,!0),(null===(i=n.images)||void 0===i||null===(o=i.additionalProperties)||void 0===o?void 0:o.stacking)&&l.a.isEmpty(n.grouping.row)&&on()}},onGroupingApplyChange:function(){var e;const t=null===(e=Dt.getState())||void 0===e?void 0:e.config;(null===t||void 0===t?void 0:t.grouping)&&(t.grouping={...t.grouping,isApplied:{...t.grouping.isApplied,row:!t.grouping.isApplied.row}},Wt(t,!0))},onNotificationDelete:function(e){Object(mt.a)({id:e,model:Dt})},onNotificationAdd:gt.a,onResetConfigData:function(){var e;const t=null===(e=Dt.getState())||void 0===e?void 0:e.config;t&&(t.grouping={...At().grouping},Wt(t,!0))},updateURL:Kt,updateModelData:Wt,onBookmarkUpdate:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;n&&Je.a.updateApp(e,{state:n,type:"images"}).call((e=>{Object(ht.a)({detail:e,model:Dt})})).then((e=>{e.id&&Object(gt.a)({notification:{id:Date.now(),severity:"success",messages:[Ie.b.UPDATE]},model:Dt})}))},onBookmarkCreate:async function(e){var t;let{name:n,description:i}=e;const o=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(o){const e=await Je.a.createApp({state:o,type:"images"}).call((e=>{Object(ht.a)({detail:e,model:Dt})}));if(e.id){(await Ye.a.createDashboard({app_id:e.id,name:n,description:i}).call((e=>{Object(ht.a)({detail:e,model:Dt})}))).name?Object(gt.a)({notification:{id:Date.now(),severity:"success",messages:[Ie.b.CREATE]},model:Dt}):Object(gt.a)({notification:{id:Date.now(),severity:"error",messages:[Ie.b.ERROR]},model:Dt})}}F.b(z.a.images.createBookmark)},getAppConfigData:function(e){return Object(et.a)({appId:e,appRequest:undefined,config:At(),model:Dt})},setDefaultAppConfigData:Ft,updateColumnsWidths:function(e,t,n){var i,o;const a=null===(i=Dt.getState())||void 0===i?void 0:i.config;if((null===a||void 0===a?void 0:a.table)&&(null===a||void 0===a||null===(o=a.table)||void 0===o?void 0:o.columnsWidths)){var s;let i=null===a||void 0===a||null===(s=a.table)||void 0===s?void 0:s.columnsWidths;i=n?l.a.omit(i,[e]):{...i,[e]:t};const o={...a.table,columnsWidths:i},c={...a,table:o};Dt.setState({config:c}),Object(st.c)("imagesTable",Object(nt.c)(o)),Wt(c)}},onTableSortChange:$t,onSortReset:function(){Jt([])},onExportTableData:function(e){var t;const{data:n,params:i,config:o,groupingSelectOptions:a}=Dt.getState(),l=Qt(n,i,!0,o,a),s=We(i,a,null===(t=n[0])||void 0===t?void 0:t.config,null===o||void 0===o?void 0:o.table.columnsOrder,null===o||void 0===o?void 0:o.table.hiddenColumns,null===o||void 0===o?void 0:o.table.sortFields,$t,o.grouping,Ut),c=["#","actions"],r=s.reduce(((e,t)=>e.concat(-1!==c.indexOf(t.key)||t.isHidden?[]:t.key)),[]);let d={};r.forEach((e=>{d[e]="--"}));const u=Object.keys(l.rows).map((e=>l.rows[e].items)),p=[];null===u||void 0===u||u.forEach(((e,t)=>{null===e||void 0===e||e.forEach((e=>{const t=Object(Nt.a)({columnKeys:r,row:e});p.push(t)})),(null===u||void 0===u?void 0:u.length)-1!==t&&p.push(d)}));const v=new Blob([Object(ct.a)(p)],{type:"text/csv;charset=utf-8;"});Object(ke.saveAs)(v,"images-".concat(we()().format(De.b),".csv")),F.b(z.a.images.table.exports.csv)},onRowVisibilityChange:Zt,onTableResizeEnd:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.table){const t={...n.table,height:e},i={...n,table:t};Dt.setState({config:i}),Object(st.c)("imagesTable",Object(nt.c)(t))}},onTableResizeModeChange:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.table){const t={...n.table,resizeMode:e},i={...n,table:t};Dt.setState({config:i}),Object(st.c)("imagesTable",Object(nt.c)(t))}F.b(z.a.images.table.changeResizeMode)},onSearchQueryCopy:function(){var e,t;let n=en(null===(e=Dt.getState())||void 0===e||null===(t=e.config)||void 0===t?void 0:t.select);n&&Object(Ct.a)(n,!1,(()=>gt.a),{notification:{id:Date.now(),severity:"success",messages:["Run Expression Copied"]},model:Dt})},getQueryStringFromSelect:en,onSelectRunQueryChange:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.select){const t={...n,select:{...n.select,query:e},images:{...n.images}};Dt.setState({config:t})}},onSelectAdvancedQueryChange:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.select){const t={...n,select:{...n.select,advancedQuery:e},images:{...n.images}};Dt.setState({config:t})}},onImagesExploreSelectChange:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.select){const t={...n,select:{...n.select,options:e},images:{...n.images}};Dt.setState({config:t})}},toggleSelectAdvancedMode:function(){var e,t;const n=Dt.getState();if(null===(e=n.config)||void 0===e?void 0:e.select){var i;let e=n.config.select.advancedQuery||en(null===(i=n.config)||void 0===i?void 0:i.select,n.selectFormData.error);"()"===e&&(e="");const t={...n.config,select:{...n.config.select,advancedQuery:e,advancedMode:!n.config.select.advancedMode}};Kt(t),Dt.setState({config:t})}F.b("".concat(z.a.images.useAdvancedSearch," ").concat((null===(t=n.config)||void 0===t?void 0:t.select.advancedMode)?"off":"on"))},onColumnsOrderChange:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.table){const t={...n.table,columnsOrder:e},i={...n,table:t};Dt.setState({config:i}),Object(st.c)("imagesTable",Object(nt.c)(t)),Wt(i)}F.b(z.a.images.table.changeColumnsOrder)},onColumnsVisibilityChange:tn,onTableDiffShow:function(){var e;const t=null===(e=Dt.getState())||void 0===e?void 0:e.sameValueColumns;t&&tn(t),F.b(z.a.images.table.showDiff)},onRowHeightChange:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.table){const t={...n.table,rowHeight:e},i={...n,table:t};Dt.setState({config:i}),Object(st.c)("imagesTable",Object(nt.c)(t))}F.b("".concat(z.a.images.table.changeTableRowHeight,' to "').concat(ce.c[e].toLowerCase(),'"'))},onImageVisibilityChange:function(e){var t,n;const i=null===(t=Dt.getState())||void 0===t?void 0:t.config,o=null===(n=Dt.getState())||void 0===n?void 0:n.data;if((null===i||void 0===i?void 0:i.table)&&o){const t={...i.table,hiddenMetrics:"all"===e[0]?Object.values(o).map((e=>e.data.map((e=>e.key)))).flat():e},n={...i,table:t};Dt.setState({config:n}),Object(st.c)("imagesTable",Object(nt.c)(t)),Wt(n)}F.b("".concat(z.a.images.table.metricVisibilityChange," ").concat("all"===e[0]?"Visualize all hidden metrics from table":"Hide all metrics from table"))},onSliceRangeChange:function(e,t){var n;const i=null===(n=Dt.getState())||void 0===n?void 0:n.config;if(null===i||void 0===i?void 0:i.images){const n={...i.images,[e]:t},o={...i,images:n};Dt.setState({config:o})}},onDensityChange:function(e,t,n){var i;const o=null===(i=Dt.getState())||void 0===i?void 0:i.config;if(null===o||void 0===o?void 0:o.images){var a;const i={...o.images,[e]:+t,inputsValidations:{...null===(a=o.images)||void 0===a?void 0:a.inputsValidations,[e]:null===n||void 0===n?void 0:n.isValid}},l={...o,images:i};Dt.setState({config:l})}!function(){var e,t;const n=Dt.getState(),i=(null===(e=n.config)||void 0===e||null===(t=e.images)||void 0===t?void 0:t.inputsValidations)||{},o=l.a.size(Object.keys(i).filter((e=>!1===i[e])))<=0;Dt.setState({...n,applyButtonDisabled:!o})}()},getImagesBlobsData:function(e){const t=Xe.getImagesByURIs(e);return{abort:t.abort,call:()=>t.call((e=>{Object(ht.a)({detail:e,model:Dt})})).then((async e=>{let t=Object(lt.a)(e),n=Object(lt.b)(t),i=Object(lt.c)(n,1);for await(let[o,a]of i){const e=o[0];S.emit(e,{[e]:Object(dt.a)(a)})}})).catch((e=>{"AbortError"===e.name||console.log("Unhandled error: ")}))}},onChangeTooltip:function(e){var t;let{config:n,data:i,groupingSelectOptions:o=[],tooltip:a}=Dt.getState();if(null===(t=n)||void 0===t?void 0:t.images){var l,s,c,r,d,u,p,v,m;(null===(l=n.images.tooltip)||void 0===l?void 0:l.hasOwnProperty("content"))&&delete n.images.tooltip.content,n={...n,images:{...n.images,tooltip:{...n.images.tooltip,...e}}};const t=(null===(s=n.images)||void 0===s||null===(c=s.focusedState)||void 0===c?void 0:c.key)?Object(yt.a)({groupingNames:[fe.a.ROW],groupingSelectOptions:o,data:i,configData:n,activePointKey:null===(r=n.images)||void 0===r||null===(d=r.focusedState)||void 0===d?void 0:d.key,selectedFields:null===(u=n.images)||void 0===u||null===(p=u.tooltip)||void 0===p?void 0:p.selectedFields}):a.content;Dt.setState({config:n,tooltip:{...null===(v=n)||void 0===v||null===(m=v.images)||void 0===m?void 0:m.tooltip,content:t}}),Kt(n)}F.b(z.a.images.imagesPanel.controls.tooltip.changeTooltipContent)},onActivePointChange:function(e){var t,n,i,o,a,l,s,c,r;let d=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{data:u,refs:p,config:v,groupingSelectOptions:m,tooltip:g}=Dt.getState();if((null===v||void 0===v?void 0:v.table.resizeMode)!==ce.b.Hide){const t=null===p||void 0===p?void 0:p.tableRef;var h,b,j,f,x,O;if(t&&e.seqKey)if(null===(h=t.current)||void 0===h||null===(b=h.setHoveredRow)||void 0===b||b.call(h,e.seqKey),null===(j=t.current)||void 0===j||null===(f=j.setActiveRow)||void 0===f||f.call(j,d?e.seqKey:null),d)null===(x=t.current)||void 0===x||null===(O=x.scrollToRow)||void 0===O||O.call(x,e.seqKey)}let _=v;var y;(null===(t=_)||void 0===t?void 0:t.images)&&((null===(y=_.images.tooltip)||void 0===y?void 0:y.hasOwnProperty("content"))&&delete _.images.tooltip.content,_={..._,images:{..._.images,focusedState:{active:d,key:e.key}}},(v.images.focusedState.active!==d||v.images.focusedState.active&&e.key!==v.images.focusedState.key)&&Kt(_));const S=(null===(n=_.images)||void 0===n||null===(i=n.focusedState)||void 0===i?void 0:i.key)?Object(yt.a)({groupingNames:[fe.a.ROW],groupingSelectOptions:m,data:u,configData:_,activePointKey:null===(o=_.images)||void 0===o||null===(a=o.focusedState)||void 0===a?void 0:a.key,selectedFields:null===(l=_.images)||void 0===l||null===(s=l.tooltip)||void 0===s?void 0:s.selectedFields}):g.content;Dt.setState({config:_,tooltip:{...null===(c=_)||void 0===c||null===(r=c.images)||void 0===r?void 0:r.tooltip,content:S}})},onImageSizeChange:nn,onImageRenderingChange:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.images){const t={...n.images,additionalProperties:{...n.images.additionalProperties,imageRendering:e}},i={...n,images:t};Kt(i),Dt.setState({config:i})}F.b("".concat(z.a.images.imagesPanel.controls.changeImageProperties," / image rendering to ").concat(e))},onImageAlignmentChange:function(e){var t;const n=null===(t=Dt.getState())||void 0===t?void 0:t.config;if(null===n||void 0===n?void 0:n.images){const t={...n.images,additionalProperties:{...n.images.additionalProperties,alignmentType:null===e||void 0===e?void 0:e.value}},i={...n,images:t};Kt(i),Dt.setState({config:i})}F.b("".concat(z.a.images.imagesPanel.controls.changeImageProperties," / Alignment to ").concat(null===e||void 0===e?void 0:e.label))},showRangePanel:function(){return Dt.getState().requestStatus!==xe.a.Pending&&!Dt.getState().queryIsEmpty},getDataAsImageSet:function(e,t,n){if(l.a.isEmpty(e))return{};{var i,o;const a=null===(i=Dt.getState())||void 0===i?void 0:i.config,s={},c=[...(null===a||void 0===a||null===(o=a.grouping)||void 0===o?void 0:o.row)||[]],r=n||c,d={};return e.forEach((e=>{const n=null===r||void 0===r?void 0:r.reduce(((n,i,o)=>{const a=Object(N.d)(e.data[0],i);return l.a.set(d,n.concat(["ordering"]),new Set([...Object(N.d)(d,n.concat(["ordering"]))||[],a])),l.a.set(d,n.concat(["key"]),Object(rt.a)(t,i)),n.push("".concat(Object(rt.a)(t,i)," = ").concat(Object(Y.a)(a))),n}),[]);l.a.set(s,n,l.a.sortBy(e.data,[...r,...t.map((e=>e.value)).filter((e=>!r.includes(e))),"caption"]))})),{imageSetData:l.a.isEmpty(s)?e[0].data:s,orderedMap:d}}},onStackingToggle:on,onImagesSortChange:function(e){var t;let{sortFields:n,order:i,index:o,actionType:a,field:l}=e;const s=null===(t=Dt.getState())||void 0===t?void 0:t.config,c=Object(Ve.b)({sortFields:n||(null===s||void 0===s?void 0:s.images.sortFields)||[],order:i,index:o,actionType:a,field:l});Yt(c,c.reduce(((e,t)=>(e[t.value]=t,e)),{}))},onImagesSortReset:function(){Yt([],{})},deleteRuns:function(e){return Bt=Ze.a.deleteRuns(e),{call:async()=>{try{await Bt.call((e=>Object(ht.a)({detail:e,model:Dt}))).then((()=>{Ht(!1,!0).call(),Object(gt.a)({notification:{id:Date.now(),severity:"success",messages:["Runs are successfully deleted"]},model:Dt})}))}catch(e){"AbortError"===e.name&&Object(gt.a)({notification:{id:Date.now(),severity:"error",messages:[e.message]},model:Dt})}finally{F.b(z.a.images.table.deleteRunsBatch)}},abort:Bt.abort}},archiveRuns:function(e,t){return Mt=Ze.a.archiveRuns(e,t),{call:async()=>{try{await Mt.call((e=>Object(ht.a)({detail:e,model:Dt}))).then((()=>{Ht(!1,!0).call(),Object(gt.a)({notification:{id:Date.now(),severity:"success",messages:["Runs are successfully ".concat(t?"archived":"unarchived"," ")]},model:Dt})}))}catch(e){"AbortError"===e.name&&Object(gt.a)({notification:{id:Date.now(),severity:"error",messages:[e.message]},model:Dt})}finally{F.b(z.a.images.table.archiveRunsBatch)}},abort:Mt.abort}},onRowSelect:function(e){let{actionType:t,data:n}=e;return Object(tt.a)({actionType:t,data:n,model:Dt})},onRunsTagsChange:Xt,onSelectExperimentsChange:function(e){Object(kt.a)(e),Ht(!1,!0).call()},onToggleAllExperiments:function(e){Object(It.a)(e),Ht(!1,!0).call()},fetchProjectParamsAndUpdateState:Lt};n(1222);function ln(e){var t,n;let{requestIsPending:i,isDisabled:a=!1,selectedImagesData:l,searchButtonDisabled:s,selectFormData:r,onImagesExploreSelectChange:d,onSelectRunQueryChange:u,toggleSelectAdvancedMode:p,onSelectAdvancedQueryChange:v,onSearchQueryCopy:g}=e;const[h,b]=o.a.useState(null),[x,O]=o.a.useState(""),_=o.a.useRef(null),y=o.a.useRef(null),S=o.a.useRef(null);function C(e){var t,n;if(null===e||void 0===e||e.preventDefault(),i||s)return;let o=(null===l||void 0===l?void 0:l.advancedMode)?null===S||void 0===S||null===(t=S.current)||void 0===t?void 0:t.getValue():null===y||void 0===y||null===(n=y.current)||void 0===n?void 0:n.getValue();(null===l||void 0===l?void 0:l.advancedMode)?v(null!==o&&void 0!==o?o:""):u(null!==o&&void 0!==o?o:""),_.current=an.getImagesData(!0,!0,null!==o&&void 0!==o?o:""),_.current.call(),Object(F.b)(z.a.images.searchClick)}function N(e){let t=[...null===l||void 0===l?void 0:l.options].filter((t=>t.key!==e));d(t)}function E(e){O(e.target.value)}o.a.useEffect((()=>()=>{var e;null===(e=_.current)||void 0===e||e.abort()}),[]);const w=o.a.useMemo((()=>{var e,t;return null!==(e=null===r||void 0===r||null===(t=r.options)||void 0===t?void 0:t.filter((e=>-1!==e.label.indexOf(x))))&&void 0!==e?e:[]}),[x,null===r||void 0===r?void 0:r.options]),k=!!h,I=k?"select-metric":void 0;return Object(P.jsx)(f.a,{children:Object(P.jsxs)("div",{className:"SelectForm",children:[Object(P.jsxs)("div",{className:"SelectForm__container__metrics",children:[Object(P.jsx)(Oe.a,{display:"flex",children:Object(P.jsx)(Oe.a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:(null===l||void 0===l?void 0:l.advancedMode)?Object(P.jsx)("div",{className:"SelectForm__textarea",children:Object(P.jsx)(Pe.a,{advanced:!0,refObject:S,context:null===r||void 0===r?void 0:r.advancedSuggestions,value:null===l||void 0===l?void 0:l.advancedQuery,error:null===r||void 0===r?void 0:r.advancedError,onEnter:C,disabled:a})}):Object(P.jsxs)(f.a,{children:[Object(P.jsxs)(Oe.a,{display:"flex",alignItems:"center",children:[Object(P.jsxs)(j.c,{variant:"contained",color:"primary",onClick:function(e){b(e.currentTarget)},"aria-describedby":I,disabled:a,children:[Object(P.jsx)(j.f,{name:"plus",style:{marginRight:"0.5rem"}}),"Images"]}),Object(P.jsx)(_e.a,{id:I,open:k,anchorEl:h,placement:"bottom-start",className:"SelectForm__Popper",children:Object(P.jsx)(U.a,{open:!0,onClose:function(e,t){"toggleInput"!==t&&(h&&h.focus(),b(null),O(""))},multiple:!0,className:"Autocomplete__container",size:"small",disablePortal:!0,disableCloseOnSelect:!0,options:w,value:null!==(t=null===l||void 0===l?void 0:l.options)&&void 0!==t?t:"",onChange:function(e,t){if("click"===e.type){const e=t.reduce(((e,t)=>(e[t.key]=++e[t.key]||0,e)),{});d(t.filter((t=>0===e[t.key])))}},groupBy:e=>e.group,getOptionLabel:e=>e.label,renderTags:()=>null,disableClearable:!0,ListboxProps:{style:{height:400}},renderInput:e=>Object(P.jsx)(K.a,{ref:e.InputProps.ref,inputProps:{...e.inputProps,value:x,onChange:E},spellCheck:!1,placeholder:"Search",autoFocus:!0,className:"SelectForm__metric__select"}),renderOption:e=>{var t;let n=!!(null===l||void 0===l||null===(t=l.options.find((t=>t.key===e.key)))||void 0===t?void 0:t.key);return Object(P.jsxs)("div",{className:"SelectForm__option",children:[Object(P.jsx)(ye.a,{color:"primary",icon:Object(P.jsx)(Ce.a,{}),checkedIcon:Object(P.jsx)(Ne.a,{}),checked:n,size:"small"}),Object(P.jsx)("span",{className:"SelectForm__option__label",children:e.label})]})}})}),Object(P.jsx)(Se.a,{style:{margin:"0 1rem"},orientation:"vertical",flexItem:!0}),0===(null===l||void 0===l?void 0:l.options.length)&&Object(P.jsx)(j.n,{tint:50,size:14,weight:400,children:"No images are selected"}),Object(P.jsx)(Oe.a,{className:"SelectForm__tags ScrollBar__hidden",flex:1,children:null===l||void 0===l||null===(n=l.options)||void 0===n?void 0:n.map((e=>Object(P.jsx)(j.b,{size:"large",label:e.label,value:e.key,onDelete:N,disabled:a},e.label)))})]}),(null===l||void 0===l?void 0:l.options.length)>1&&Object(P.jsx)(f.a,{children:Object(P.jsx)(j.c,{onClick:()=>d([]),withOnlyIcon:!0,className:c()("SelectForm__clearAll",{disabled:a}),size:"xSmall",disabled:a,children:Object(P.jsx)(j.f,{name:"close"})})})]})})}),(null===l||void 0===l?void 0:l.advancedMode)?null:Object(P.jsx)(f.a,{children:Object(P.jsx)("div",{className:"SelectForm__TextField",children:Object(P.jsx)(Pe.a,{refObject:y,context:null===r||void 0===r?void 0:r.suggestions,value:null===l||void 0===l?void 0:l.query,error:null===r||void 0===r?void 0:r.error,onEnter:C,disabled:a})})})]}),Object(P.jsxs)("div",{className:"SelectForm__container__search",children:[Object(P.jsx)(j.c,{fullWidth:!0,color:"primary",variant:i?"outlined":"contained",startIcon:Object(P.jsx)(j.f,{name:i?"close":"search",fontSize:i?12:14}),className:"SelectForm__search__button",onClick:i?function(e){var t;e.preventDefault(),i&&(null===(t=_.current)||void 0===t||t.abort(),an.abortRequest())}:C,disabled:s,children:i?"Cancel":"Search"},"".concat(i)),Object(P.jsxs)("div",{className:"SelectForm__search__actions",children:[Object(P.jsx)(m.a,{title:"Reset query",children:Object(P.jsx)("div",{children:Object(P.jsx)(j.c,{onClick:function(){d([]),u("")},withOnlyIcon:!0,disabled:a,children:Object(P.jsx)(j.f,{name:"reset"})})})}),Object(P.jsx)(m.a,{title:(null===l||void 0===l?void 0:l.advancedMode)?"Switch to default mode":"Enable advanced search mode ",children:Object(P.jsx)("div",{children:Object(P.jsx)(j.c,{className:(null===l||void 0===l?void 0:l.advancedMode)?"active":"",withOnlyIcon:!0,onClick:function(){p()},disabled:a,children:Object(P.jsx)(j.f,{name:"edit"})})})}),Object(P.jsx)(m.a,{title:"Copy search query",children:Object(P.jsx)("div",{children:Object(P.jsx)(j.c,{onClick:g,withOnlyIcon:!0,disabled:a,children:Object(P.jsx)(j.f,{name:"copy"})})})})]})]})]})})}var sn=o.a.memo(ln),cn=n(795);n(1223);function rn(e){let{additionalProperties:t,onImageSizeChange:n,onImageRenderingChange:i,onImageAlignmentChange:a}=e;const[l,s]=o.a.useState(!1),[c,r]=o.a.useState(t.mediaItemSize);const d=o.a.useMemo((()=>t.alignmentType===B.b.Original),[t.alignmentType]);return Object(P.jsx)(f.a,{children:Object(P.jsxs)("div",{className:"ImagePropertiesPopover",children:[Object(P.jsxs)("div",{className:"ImagePropertiesPopover__section",children:[Object(P.jsx)("div",{className:"ImagePropertiesPopover__section__mediaItemSize",children:Object(P.jsx)(j.n,{tint:50,component:"h4",className:"ImagePropertiesPopover__subtitle",children:"Align Images by:"})}),Object(P.jsx)("div",{children:Object(P.jsx)(j.e,{size:"large",isColored:!0,onChange:a,value:t.alignmentType,options:x.d,onMenuOpen:()=>s(!0),onMenuClose:()=>s(!1),open:l,withPortal:!0})}),Object(P.jsxs)("div",{className:"ImagePropertiesPopover__sizeSlider ".concat(d?"ImagePropertiesPopover__sizeSlider--disabled":""," "),children:[Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsx)(j.n,{tint:50,component:"h4",className:"ImagePropertiesPopover__subtitle ImagePropertiesPopover__subtitle__windowSize",children:"Scale (Relative to window size):"}),Object(P.jsx)(j.n,{className:"ImagePropertiesPopover__sizePercent",children:"".concat(c,"%")})]}),Object(P.jsxs)("div",{className:"ImagePropertiesPopover__Slider",children:[Object(P.jsxs)(j.n,{children:[x.c.min,"%"]}),Object(P.jsx)(j.k,{valueLabelDisplay:"auto",getAriaValueText:e=>"".concat(e),value:c,disabled:d,onChange:function(e,t){n(t),r(t)},step:x.c.step,max:x.c.max,min:x.c.min}),Object(P.jsxs)(j.n,{children:[x.c.max,"%"]})]})]})]}),Object(P.jsx)(Se.a,{className:"ImagePropertiesPopover__Divider"}),Object(P.jsxs)("div",{className:"ImagePropertiesPopover__section",children:[Object(P.jsx)(j.n,{component:"h4",tint:50,className:"ImagePropertiesPopover__subtitle ImagePropertiesPopover__subtitle__imageRendering",children:"Image Rendering"}),Object(P.jsx)(j.o,{className:"ImagePropertiesPopover__ToggleButton",title:"Optimization",onChange:i,rightLabel:"Pixelated",leftLabel:"Smoother",leftValue:B.a.Smooth,rightValue:B.a.Pixelated,value:t.imageRendering})]})]})})}rn.displayName="ImagePropertiesPopover";var dn=o.a.memo(rn),un=n(448);n(1224);var pn=function(e){var t,n,i;const a=o.a.useMemo((()=>{const{alignmentType:t,mediaItemSize:n,imageRendering:i}=e.additionalProperties;return t!==Re.a.images.alignmentType||n!==Re.a.images.mediaItemSize||i!==Re.a.images.imageRendering}),[e.additionalProperties]),s=o.a.useMemo((()=>{var t,n,i;return(null===(t=e.tooltip)||void 0===t?void 0:t.appearance)!==Re.a.images.tooltip.appearance||(null===(n=e.tooltip)||void 0===n||null===(i=n.selectedFields)||void 0===i?void 0:i.length)!==Re.a.images.tooltip.selectedFields.length}),[e.tooltip]),r=o.a.useMemo((()=>e.sortFields.length!==Re.a.images.sortFields.length),[e.sortFields]);return Object(P.jsx)(f.a,{children:Object(P.jsxs)("div",{className:"Controls__container ScrollBar__hidden",children:[Object(P.jsx)("div",{children:Object(P.jsx)(q.a,{title:"Image properties",anchor:e=>{let{onAnchorClick:t,opened:n}=e;return Object(P.jsx)(m.a,{title:"Image properties",children:Object(P.jsx)("div",{onClick:t,className:"Controls__anchor ".concat(n?"active":a?"active outlined":""),children:Object(P.jsx)(j.f,{className:"Controls__icon ".concat(n||a?"active":""),name:"image-properties"})})})},component:Object(P.jsx)(dn,{additionalProperties:e.additionalProperties,onImageSizeChange:e.onImageSizeChange,onImageRenderingChange:e.onImageRenderingChange,onImageAlignmentChange:e.onImageAlignmentChange})})}),Object(P.jsx)("div",{children:Object(P.jsx)(q.a,{title:"Images sorting",anchor:e=>{let{onAnchorClick:t,opened:n}=e;return Object(P.jsx)(m.a,{title:"Images sorting",children:Object(P.jsx)("div",{onClick:t,className:"Controls__anchor ".concat(n?"active":r?"active outlined":""),children:Object(P.jsx)(j.f,{className:"Controls__icon ".concat(n||r?"active":""),name:"sort-outside"})})})},component:Object(P.jsx)(un.a,{sortOptions:e.selectOptions,sortFields:e.sortFields,onSort:e.onImagesSortChange,readOnlyFieldsLabel:"GROUP BY",onReset:e.onImagesSortReset})})}),Object(P.jsx)(m.a,{title:e.additionalProperties.stacking?"Group stacked":"Stack",children:Object(P.jsx)("div",{className:c()("Controls__anchor",{active:e.additionalProperties.stacking,outlined:e.additionalProperties.stacking,disabled:l.a.isEmpty(e.orderedMap)}),onClick:l.a.isEmpty(e.orderedMap)?l.a.noop:e.onStackingToggle,children:Object(P.jsx)(j.f,{className:c()("Controls__icon",{active:e.additionalProperties.stacking}),name:"images-stacking"})})}),Object(P.jsx)("div",{children:Object(P.jsx)(q.a,{title:"Display in tooltip",anchor:e=>{let{onAnchorClick:t,opened:n}=e;return Object(P.jsx)(m.a,{title:"Tooltip fields",children:Object(P.jsx)("div",{onClick:t,className:"Controls__anchor ".concat(n?"active":s?"active outlined":""),children:Object(P.jsx)(j.f,{className:"Controls__icon ".concat(n||s?"active":""),name:"cursor"})})})},component:Object(P.jsx)(cn.a,{selectOptions:e.selectOptions,selectedFields:null===(t=e.tooltip)||void 0===t?void 0:t.selectedFields,tooltipAppearance:null===(n=e.tooltip)||void 0===n?void 0:n.appearance,isTooltipDisplayed:null===(i=e.tooltip)||void 0===i?void 0:i.display,onChangeTooltip:e.onChangeTooltip})})})]})})},vn=n(711),mn=n(759),gn=n(730),hn=n(727),bn=n(163),jn=n(746),fn=n(771),xn=n(754);n(1225);function On(e){var t,n;let{onBookmarkCreate:i,onBookmarkUpdate:l,onResetConfigData:s,title:c,disabled:r,onSelectExperimentsChange:d,onToggleAllExperiments:u}=e;const[p,v]=o.a.useState(""),[m,g]=o.a.useState(Object(Tt.a)()),h=Object(a.j)(),{current:b}=o.a.useRef(jn.a),x=b.experimentsState((e=>e));o.a.useEffect((()=>(b.fetchExperiments(),()=>{b.destroy()})),[]);const{experimentState:O,experimentsState:_,selectedExperiments:y,getExperimentsData:S}=Object(xn.a)(null===(t=x.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id);o.a.useEffect((()=>{y.length!==m.length&&g(y)}),[y,m]);const{data:C,loading:N}=O,{data:E,loading:w}=_;function k(e){v(e)}function I(){v("")}return Object(P.jsx)(f.a,{children:Object(P.jsxs)(gn.a,{title:c,disabled:r,children:[Object(P.jsx)(fn.a,{experimentsData:E,isExperimentLoading:N,isExperimentsLoading:w,selectedExperiments:m,getExperimentsData:S,onSelectExperimentsChange:function(e){d(e),g(Object(Tt.a)())},onToggleAllExperiments:u}),h.params.appId?Object(P.jsx)(f.a,{children:Object(P.jsx)(q.a,{title:"Bookmark",anchor:e=>{let{onAnchorClick:t}=e;return Object(P.jsxs)(j.c,{color:"secondary",size:"small",onClick:t,children:[Object(P.jsx)(j.n,{size:14,className:"ImagesExploreAppBar__item__bookmark__Text",children:"Bookmark"}),Object(P.jsx)(j.f,{name:"bookmarks",className:"MetricsBar__item__bookmark__Icon"})]})},component:Object(P.jsxs)("div",{className:"ImagesExploreAppBar__popover",children:[Object(P.jsx)(vn.a,{onClick:()=>k("create"),children:"Create Bookmark"}),Object(P.jsx)(vn.a,{onClick:()=>k("update"),children:"Update Bookmark"})]})})}):Object(P.jsxs)(j.c,{color:"secondary",className:"ImagesExploreAppBar__item__bookmark",size:"small",onClick:()=>k("create"),children:[Object(P.jsx)(j.n,{size:14,className:"ImagesExploreAppBar__item__bookmark__Text",children:"Bookmark"}),Object(P.jsx)(j.f,{fontSize:14,name:"bookmarks",className:"MetricsBar__item__bookmark__Icon"})]}),Object(P.jsx)("div",{className:"ImagesExploreAppBar__menu",children:Object(P.jsx)(f.a,{children:Object(P.jsx)(q.a,{title:"Menu",anchor:e=>{let{onAnchorClick:t}=e;return Object(P.jsx)(j.c,{withOnlyIcon:!0,color:"secondary",size:"small",onClick:t,children:Object(P.jsx)(j.f,{fontSize:16,name:"menu",className:"MetricsBar__item__bookmark__Icon"})})},component:Object(P.jsxs)("div",{className:"ImagesExploreAppBar__popover",children:[Object(P.jsx)(vn.a,{onClick:s,children:"Reset Controls to System Defaults"}),Object(P.jsx)("a",{href:bn.a.EXPLORERS.IMAGES.MAIN,target:"_blank",rel:"noreferrer",children:Object(P.jsx)(vn.a,{children:"Explorer Documentation"})})]})})})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(mn.a,{onBookmarkCreate:i,onClose:I,open:"create"===p})}),Object(P.jsx)(hn.a,{open:"update"===p,onCancel:I,onSubmit:function(){l(h.params.appId),I()},text:"Are you sure you want to update bookmark?",icon:Object(P.jsx)(j.f,{name:"check"}),title:"Update bookmark",statusType:"success",confirmBtnText:"Update"})]})})}var _n=o.a.memo(On);n(1226);t.default=function(){var e,t,n,s,v,m,h,b,j,x,O,_,y,S,C,N,E,w,k,I,T,R,A,M,B,H,L,V,G,W,q,U,K,Q,X,J,Y,$,Z,ee,te,ne,ie,oe,ae,le,de,ve,me,Oe,_e,ye,Se,Ce,Ne,Pe,Ee,we;const ke=Object(a.j)(),Ie=Object(a.g)(),Te=Object(r.a)(an),Re=o.a.useRef(null),De=o.a.useRef(null),Ae=o.a.useRef(null),Me=o.a.useRef(null),[Be,ze]=Object(i.useState)(null===Re||void 0===Re||null===(e=Re.current)||void 0===e?void 0:e.offsetHeight),[Fe,He]=o.a.useState(!1),Ve=o.a.useRef(null),[Ge,We]=Object(i.useState)(null===Re||void 0===Re||null===(t=Re.current)||void 0===t?void 0:t.offsetWidth);Object(r.c)((()=>{var e,t,n,i;(null===Re||void 0===Re||null===(e=Re.current)||void 0===e?void 0:e.offsetHeight)!==Be&&ze(null===Re||void 0===Re||null===(n=Re.current)||void 0===n?void 0:n.offsetHeight);(null===Re||void 0===Re||null===(t=Re.current)||void 0===t?void 0:t.offsetWidth)!==Ge&&We(null===Re||void 0===Re||null===(i=Re.current)||void 0===i?void 0:i.offsetWidth)}),Re),o.a.useEffect((()=>{var e;We(null===Re||void 0===Re||null===(e=Re.current)||void 0===e?void 0:e.offsetWidth)}),[null===Re||void 0===Re||null===(n=Re.current)||void 0===n?void 0:n.offsetWidth]);const qe=o.a.useMemo((()=>{var e,t,n;if(l.a.isEmpty(null===Te||void 0===Te?void 0:Te.groupingSelectOptions))return{sortFieldsDict:{},sortFields:[]};const i=null===Te||void 0===Te||null===(e=Te.config)||void 0===e?void 0:e.grouping,o=[...(null===i||void 0===i?void 0:i.row)||[]];let a=(null===Te||void 0===Te?void 0:Te.groupingSelectOptions.filter((e=>o.includes(e.value)))).reduce(((e,t)=>{var n,i;const o=(null===Te||void 0===Te||null===(n=Te.config)||void 0===n||null===(i=n.images)||void 0===i?void 0:i.sortFieldsDict[t.value])||{...t,order:"asc"};return e.push({...o,readonly:!0}),e}),[]);return a=a.concat(null===Te||void 0===Te||null===(t=Te.config)||void 0===t||null===(n=t.images)||void 0===n?void 0:n.sortFields.filter((e=>!o.includes(e.value))).map((e=>({...e,readonly:!1})))),{sortFieldsDict:a.reduce(((e,t)=>(e[t.value]=t,e)),{}),sortFields:a}}),[null===Te||void 0===Te||null===(s=Te.config)||void 0===s?void 0:s.grouping,null===Te||void 0===Te||null===(v=Te.config)||void 0===v||null===(m=v.images)||void 0===m?void 0:m.sortFields,null===Te||void 0===Te?void 0:Te.groupingSelectOptions]),Ue=Object(r.b)(Ae,Re,De,Me,(null===Te||void 0===Te||null===(h=Te.config)||void 0===h?void 0:h.table)||{},an.onTableResizeEnd);return o.a.useEffect((()=>{let e,t;an.initialize(ke.params.appId),ke.params.appId?(e=an.getAppConfigData(ke.params.appId),e.call((e=>{Object(ht.a)({detail:e,model:an})})).then((()=>{an.setDefaultAppConfigData(!1),t=an.getImagesData(),t.call((e=>{Object(ht.a)({detail:e,model:an})}))}))):(an.setDefaultAppConfigData(),t=an.getImagesData(),t.call((e=>{Object(ht.a)({detail:e,model:an})}))),F.a(z.a.images.pageView);const n=Ie.listen((()=>{(null===Te||void 0===Te?void 0:Te.config)&&(Te.config.grouping===Object(at.a)("grouping")&&Te.config.images===Object(at.a)("images")&&Te.config.select===Object(at.a)("select")||Ie.location.pathname!=="/".concat(Le.b.IMAGES)||(an.setDefaultAppConfigData(),an.updateModelData()))}));return()=>{var i;an.destroy(),null===(i=t)||void 0===i||i.abort(),n(),e&&e.abort()}}),[]),o.a.useEffect((()=>{an.fetchProjectParamsAndUpdateState();const e=setInterval((()=>{an.fetchProjectParamsAndUpdateState()}),3e4);return()=>clearInterval(e)}),[]),Object(P.jsx)(f.a,{children:Object(P.jsxs)("div",{className:"ImagesExplore__container",ref:Ae,children:[Object(P.jsx)("section",{className:"ImagesExplore__section",children:Object(P.jsxs)("div",{className:"ImagesExplore__section__appBarContainer ImagesExplore__fullHeight",children:[Object(P.jsx)(_n,{disabled:Fe,onBookmarkCreate:an.onBookmarkCreate,onBookmarkUpdate:an.onBookmarkUpdate,onResetConfigData:an.onResetConfigData,title:be.a.IMAGES_EXPLORER,onSelectExperimentsChange:an.onSelectExperimentsChange,onToggleAllExperiments:an.onToggleAllExperiments}),Object(P.jsxs)("div",{className:"ImagesExplore__SelectForm__Grouping__container",children:[Object(P.jsx)(sn,{isDisabled:Fe,requestIsPending:(null===Te||void 0===Te?void 0:Te.requestStatus)===xe.a.Pending,selectedImagesData:null===Te||void 0===Te||null===(b=Te.config)||void 0===b?void 0:b.select,selectFormData:null===Te||void 0===Te?void 0:Te.selectFormData,onImagesExploreSelectChange:an.onImagesExploreSelectChange,onSelectRunQueryChange:an.onSelectRunQueryChange,onSelectAdvancedQueryChange:an.onSelectAdvancedQueryChange,toggleSelectAdvancedMode:an.toggleSelectAdvancedMode,onSearchQueryCopy:an.onSearchQueryCopy,searchButtonDisabled:null===Te||void 0===Te?void 0:Te.searchButtonDisabled}),Object(P.jsx)(pe.a,{groupingPopovers:fe.b.filter((e=>e.groupName===fe.a.ROW)),isDisabled:Fe,groupingData:null===Te||void 0===Te||null===(j=Te.config)||void 0===j?void 0:j.grouping,groupingSelectOptions:null===Te||void 0===Te?void 0:Te.groupingSelectOptions,onGroupingSelectChange:an.onGroupingSelectChange,onGroupingModeChange:an.onGroupingModeChange,onGroupingPaletteChange:()=>{},onGroupingReset:()=>{},onGroupingApplyChange:an.onGroupingApplyChange,onGroupingPersistenceChange:()=>{},onShuffleChange:()=>{}})]}),Object(P.jsxs)("div",{className:"ImagesExplore__visualization",children:[Object(P.jsx)(he.a,{progress:null===Te||void 0===Te?void 0:Te.requestProgress,pendingStatus:(null===Te||void 0===Te?void 0:Te.requestStatus)===xe.a.Pending,processing:!1,setIsProgressBarVisible:He}),l.a.isEmpty(null===Te||void 0===Te?void 0:Te.tableData)&&l.a.isEmpty(null===Te||void 0===Te?void 0:Te.imagesData)?Object(P.jsx)(se.a,{size:"xLarge",page:"image",type:(null===Te||void 0===Te||null===(x=Te.selectFormData.options)||void 0===x?void 0:x.length)?re.e[null===Te||void 0===Te?void 0:Te.requestStatus]:re.c.EmptyData}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{ref:Re,className:c()("ImagesExplore__imagesWrapper__container",{fullHeight:(null===Te||void 0===Te||null===(O=Te.config)||void 0===O?void 0:O.table.resizeMode)===ce.b.Hide,hide:(null===Te||void 0===Te||null===(_=Te.config)||void 0===_?void 0:_.table.resizeMode)===ce.b.MaxHeight}),children:(null===Te||void 0===Te||null===(y=Te.config)||void 0===y?void 0:y.table.resizeMode)===ce.b.MaxHeight?null:Object(P.jsx)(ue,{mediaType:g.a.IMAGE,getBlobsData:an.getImagesBlobsData,data:null===Te||void 0===Te?void 0:Te.imagesData,orderedMap:null===Te||void 0===Te?void 0:Te.orderedMap,isLoading:(null===Te||void 0===Te?void 0:Te.requestStatus)===xe.a.Pending,selectOptions:null===Te||void 0===Te?void 0:Te.groupingSelectOptions,panelResizing:Ue,resizeMode:null===Te||void 0===Te||null===(S=Te.config)||void 0===S?void 0:S.table.resizeMode,tableHeight:null===Te||void 0===Te||null===(C=Te.config)||void 0===C||null===(N=C.table)||void 0===N?void 0:N.height,wrapperOffsetHeight:Be-48||0,wrapperOffsetWidth:Ge||0,focusedState:null===Te||void 0===Te||null===(E=Te.config)||void 0===E||null===(w=E.images)||void 0===w?void 0:w.focusedState,tooltip:null===Te||void 0===Te?void 0:Te.tooltip,sortFieldsDict:qe.sortFieldsDict,sortFields:qe.sortFields,onRunsTagsChange:an.onRunsTagsChange,additionalProperties:null===Te||void 0===Te||null===(k=Te.config)||void 0===k||null===(I=k.images)||void 0===I?void 0:I.additionalProperties,illustrationConfig:{page:"image",type:(null===Te||void 0===Te||null===(T=Te.selectFormData)||void 0===T||null===(R=T.options)||void 0===R?void 0:R.length)?re.e[Te.requestStatus]:re.c.EmptyData},onActivePointChange:an.onActivePointChange,onChangeTooltip:null===an||void 0===an?void 0:an.onChangeTooltip,controls:Object(P.jsx)(pn,{selectOptions:null===Te||void 0===Te?void 0:Te.groupingSelectOptions,tooltip:null===Te||void 0===Te?void 0:Te.tooltip,orderedMap:null===Te||void 0===Te?void 0:Te.orderedMap,additionalProperties:null===Te||void 0===Te||null===(A=Te.config)||void 0===A||null===(M=A.images)||void 0===M?void 0:M.additionalProperties,sortFields:qe.sortFields,onChangeTooltip:null===an||void 0===an?void 0:an.onChangeTooltip,onImageSizeChange:an.onImageSizeChange,onImagesSortReset:an.onImagesSortReset,onImageRenderingChange:an.onImageRenderingChange,onImageAlignmentChange:an.onImageAlignmentChange,onStackingToggle:an.onStackingToggle,onImagesSortChange:an.onImagesSortChange}),tooltipType:D.b.ImageSet,actionPanelSize:44,actionPanel:(null===Te||void 0===Te||null===(B=Te.config)||void 0===B||null===(H=B.images)||void 0===H?void 0:H.stepRange)&&(null===Te||void 0===Te||null===(L=Te.config)||void 0===L||null===(V=L.images)||void 0===V?void 0:V.indexRange)&&an.showRangePanel()&&!l.a.isEmpty(null===Te||void 0===Te?void 0:Te.imagesData)&&Object(P.jsx)(ge,{onApply:function(){F.b(z.a.images.imagesPanel.clickApplyButton),Ve.current=an.getImagesData(!0),Ve.current.call()},applyButtonDisabled:null===Te||void 0===Te?void 0:Te.applyButtonDisabled,onInputChange:an.onDensityChange,onRangeSliderChange:an.onSliceRangeChange,items:[{inputName:"recordDensity",inputTitle:"Steps count",inputTitleTooltip:"Number of steps to display",inputValue:null===Te||void 0===Te||null===(G=Te.config)||void 0===G||null===(W=G.images)||void 0===W?void 0:W.recordDensity,rangeEndpoints:null===Te||void 0===Te||null===(q=Te.config)||void 0===q||null===(U=q.images)||void 0===U?void 0:U.stepRange,selectedRangeValue:null===Te||void 0===Te||null===(K=Te.config)||void 0===K||null===(Q=K.images)||void 0===Q?void 0:Q.recordSlice,sliderName:"recordSlice",sliderTitle:"Steps",sliderTitleTooltip:"Training step. Increments every time track() is called",sliderType:"range",infoPropertyName:"step"},{inputName:"indexDensity",inputTitle:"Indices count",inputTitleTooltip:"Number of images per step",inputValidationPatterns:void 0,inputValue:null===Te||void 0===Te||null===(X=Te.config)||void 0===X||null===(J=X.images)||void 0===J?void 0:J.indexDensity,rangeEndpoints:null===Te||void 0===Te||null===(Y=Te.config)||void 0===Y||null===($=Y.images)||void 0===$?void 0:$.indexRange,selectedRangeValue:null===Te||void 0===Te||null===(Z=Te.config)||void 0===Z||null===(ee=Z.images)||void 0===ee?void 0:ee.indexSlice,sliderName:"indexSlice",sliderTitle:"Indices",sliderTitleTooltip:"Index in the list of images passed to track() call",sliderType:"range",infoPropertyName:"index"}]})})}),Object(P.jsx)(p.a,{className:"ImagesExplore__ResizePanel",panelResizing:Ue,resizeElemRef:Me,resizeMode:null===Te||void 0===Te||null===(te=Te.config)||void 0===te?void 0:te.table.resizeMode,onTableResizeModeChange:an.onTableResizeModeChange}),Object(P.jsx)("div",{ref:De,className:c()("ImagesExplore__table__container",{fullHeight:(null===Te||void 0===Te||null===(ne=Te.config)||void 0===ne?void 0:ne.table.resizeMode)===ce.b.MaxHeight,hide:(null===Te||void 0===Te||null===(ie=Te.config)||void 0===ie?void 0:ie.table.resizeMode)===ce.b.Hide}),children:(null===Te||void 0===Te||null===(oe=Te.config)||void 0===oe?void 0:oe.table.resizeMode)===ce.b.Hide?null:Object(P.jsx)(f.a,{children:Object(P.jsx)(u.a,{custom:!0,ref:null===Te||void 0===Te||null===(ae=Te.refs)||void 0===ae?void 0:ae.tableRef,data:null===Te||void 0===Te?void 0:Te.tableData,columns:null===Te||void 0===Te?void 0:Te.tableColumns,topHeader:!0,groups:!Array.isArray(null===Te||void 0===Te?void 0:Te.tableData),rowHeight:null===Te||void 0===Te||null===(le=Te.config)||void 0===le?void 0:le.table.rowHeight,rowHeightMode:(null===Te||void 0===Te||null===(de=Te.config)||void 0===de?void 0:de.table.rowHeight)===je.e.sm?"small":(null===Te||void 0===Te||null===(ve=Te.config)||void 0===ve?void 0:ve.table.rowHeight)===je.e.md?"medium":"large",focusedState:null===Te||void 0===Te||null===(me=Te.config)||void 0===me||null===(Oe=me.images)||void 0===Oe?void 0:Oe.focusedState,selectedRows:null===Te||void 0===Te?void 0:Te.selectedRows,sortOptions:null===Te||void 0===Te?void 0:Te.groupingSelectOptions,sortFields:null===Te||void 0===Te||null===(_e=Te.config)||void 0===_e?void 0:_e.table.sortFields,hiddenRows:null===Te||void 0===Te||null===(ye=Te.config)||void 0===ye?void 0:ye.table.hiddenMetrics,hiddenColumns:null===Te||void 0===Te||null===(Se=Te.config)||void 0===Se?void 0:Se.table.hiddenColumns,resizeMode:null===Te||void 0===Te||null===(Ce=Te.config)||void 0===Ce?void 0:Ce.table.resizeMode,columnsWidths:null===Te||void 0===Te||null===(Ne=Te.config)||void 0===Ne?void 0:Ne.table.columnsWidths,appName:Le.b.IMAGES,hiddenChartRows:0===(null===Te||void 0===Te||null===(Pe=Te.imagesData)||void 0===Pe?void 0:Pe.length),columnsOrder:null===Te||void 0===Te||null===(Ee=Te.config)||void 0===Ee?void 0:Ee.table.columnsOrder,sameValueColumns:null===Te||void 0===Te?void 0:Te.sameValueColumns,onSort:an.onTableSortChange,onSortReset:an.onSortReset,onExport:an.onExportTableData,onManageColumns:an.onColumnsOrderChange,onColumnsVisibilityChange:an.onColumnsVisibilityChange,onTableDiffShow:an.onTableDiffShow,onRowHeightChange:an.onRowHeightChange,onTableResizeModeChange:an.onTableResizeModeChange,updateColumnsWidths:an.updateColumnsWidths,onRowSelect:an.onRowSelect,archiveRuns:an.archiveRuns,deleteRuns:an.deleteRuns,multiSelect:!0})})})]})]})]})}),(null===Te||void 0===Te||null===(we=Te.notifyData)||void 0===we?void 0:we.length)>0&&Object(P.jsx)(d.a,{handleClose:an.onNotificationDelete,data:null===Te||void 0===Te?void 0:Te.notifyData})]})})}},721:function(e,t,n){"use strict";var i=n(728),o=n.n(i),a=n(72),l=n(384);const s={data:null,loading:!0,error:null};t.a=function(e){const t=o()((()=>s));return{fetchData:async function(n){t.setState({loading:!0});try{const i=await e(n);t.setState({data:i,loading:!1})}catch(i){(null===i||void 0===i?void 0:i.error_code)===l.a.RESOURCE_DOES_NOT_EXIST&&(window.location.href=Object(a.f)()),t.setState({error:i,loading:!1})}},state:t,destroy:function(){t.destroy(),t.setState(s,!0)}}}},722:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i,o=n(0);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){let{title:n,titleId:l,...s}=e;return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44",ref:t,"aria-labelledby":l},s),n?o.createElement("title",{id:l},n):null,i||(i=o.createElement("path",{fill:"#30954c",d:"M22,3A19,19,0,1,0,41,22,19,19,0,0,0,22,3Zm8.53259,14.69269-9.8518,11.61108a1.50007,1.50007,0,0,1-2.2876,0l-4.9259-5.8056a1.5,1.5,0,1,1,2.28753-1.94086L19.537,26.01489l8.70813-10.26312a1.5,1.5,0,1,1,2.28747,1.94092Z"})))}const s=o.forwardRef(l);n.p},723:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i,o=n(0);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){let{title:n,titleId:l,...s}=e;return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 44",ref:t,"aria-labelledby":l},s),n?o.createElement("title",{id:l},n):null,i||(i=o.createElement("path",{fill:"#cc231a",d:"M22,3A19,19,0,1,0,41,22,19,19,0,0,0,22,3Zm7.91309,24.794.1455.15332a1.50037,1.50037,0,0,1,.38477.48535,1.46959,1.46959,0,0,1,.1543.59863A1.49927,1.49927,0,0,1,29.6416,30.499a1.39236,1.39236,0,0,1-.61133.09864,1.48626,1.48626,0,0,1-.59961-.1543,1.551,1.551,0,0,1-.50976-.41309L22,24.11328l-5.94531,5.93555a1.49689,1.49689,0,0,1-.48584.38476,1.47552,1.47552,0,0,1-.59912.15528,1.33873,1.33873,0,0,1-.61084-.09864,1.505,1.505,0,0,1-.51953-.33886,1.474,1.474,0,0,1-.3379-.51856,1.49377,1.49377,0,0,1,.05616-1.21,1.55724,1.55724,0,0,1,.41211-.50976L19.605,22.27832l.28369-.28223-5.94678-5.94238a1.49988,1.49988,0,0,1,.41651-2.55225,1.441,1.441,0,0,1,.61133-.10009,1.4941,1.4941,0,0,1,.59912.15625,1.55409,1.55409,0,0,1,.51074.41211L22,19.88623l5.94434-5.94434a1.5084,1.5084,0,0,1,1.08593-.54052,1.43985,1.43985,0,0,1,.61133.10009,1.50239,1.50239,0,0,1,.80176,2.06641,1.57937,1.57937,0,0,1-.41309.51074l-5.91894,5.917Z"})))}const s=o.forwardRef(l);n.p},725:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(0);var i=n(61),o=n(1560),a=n(1562),l=n(716),s=n(722),c=n(723),r=n(8),d=(n(738),n(1));function u(e){let{data:t=[],handleClose:n}=e;return Object(d.jsx)(r.a,{children:i.a.isEmpty(t)?null:Object(d.jsx)("div",{children:Object(d.jsx)(a.a,{open:!0,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(d.jsx)("div",{className:"NotificationContainer",children:t.map((e=>{let{id:t,severity:i,messages:a}=e;return Object(d.jsx)(l.a,{mt:.5,children:Object(d.jsx)(o.a,{onClose:()=>n(+t),variant:"outlined",severity:i,iconMapping:{success:Object(d.jsx)(s.a,{}),error:Object(d.jsx)(c.a,{})},style:{height:"auto"},children:Object(d.jsxs)("div",{className:"NotificationContainer__contentBox",children:[Object(d.jsx)("p",{className:"NotificationContainer__contentBox__severity",children:i}),a.map(((e,t)=>e?Object(d.jsx)("p",{className:"NotificationContainer__contentBox__message",children:e},t):null))]})})},t)}))})})})})}},727:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(699),l=n(3),s=n(175),c=(n(732),n(1));function r(e){return Object(c.jsx)(s.a,{children:Object(c.jsxs)(a.a,{open:e.open,onClose:e.onCancel,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",PaperProps:{elevation:10},className:"ConfirmModal ConfirmModal__".concat(e.statusType),children:[Object(c.jsxs)("div",{className:"ConfirmModal__Body",children:[Object(c.jsx)(l.c,{size:"small",className:"ConfirmModal__Close__Icon",color:"secondary",withOnlyIcon:!0,onClick:e.onCancel,children:Object(c.jsx)(l.f,{name:"close"})}),Object(c.jsxs)("div",{className:"ConfirmModal__Title__Container",children:[Object(c.jsx)("div",{className:"ConfirmModal__Icon",children:e.icon}),e.title&&Object(c.jsx)(l.n,{size:16,tint:100,component:"h4",weight:600,children:e.title})]}),Object(c.jsxs)("div",{children:[e.description&&Object(c.jsx)(l.n,{className:"ConfirmModal__description",weight:400,component:"p",id:"dialog-description",children:e.description}),Object(c.jsxs)("div",{children:[e.text&&Object(c.jsx)(l.n,{className:"ConfirmModal__text",weight:400,component:"p",size:14,id:"dialog-description",children:e.text||""}),e.children&&e.children]})]})]}),Object(c.jsxs)("div",{className:"ConfirmModal__Footer",children:[Object(c.jsx)(l.c,{onClick:e.onCancel,className:"ConfirmModal__CancelButton",children:e.cancelBtnText}),Object(c.jsx)(l.c,{onClick:e.onSubmit,color:"primary",variant:"contained",className:"ConfirmModal__ConfirmButton",autoFocus:!0,children:e.confirmBtnText})]})]})})}r.defaultProps={confirmBtnText:"Confirm",cancelBtnText:"Cancel",statusType:"info"},r.displayName="ConfirmModal",t.a=o.a.memo(r)},729:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n(72),o=n(198);const a=new(n(384).b)("".concat(Object(i.c)()).concat(o.a.EXPERIMENTS.BASE));async function l(){return(await a.makeAPIGetRequest(o.a.EXPERIMENTS.GET)).body}async function s(e){return(await a.makeAPIGetRequest("".concat(o.a.EXPERIMENTS.GET).concat(e))).body}async function c(e,t){return(await a.makeAPIPutRequest("".concat(o.a.EXPERIMENTS.GET).concat(t),{body:e})).body}async function r(e){return a.makeAPIDeleteRequest("".concat(o.a.EXPERIMENTS.GET).concat(e))}async function d(e){return(await a.makeAPIGetRequest("".concat(e,"/").concat(o.a.EXPERIMENTS.GET_ACTIVITY))).body}function u(){const e=new AbortController,t=e.signal;return{call:async function(e){let{experimentId:n,queryParams:i}=e;return(await a.makeAPIGetRequest("".concat(o.a.EXPERIMENTS.GET).concat(n,"/runs"),{query_params:i,signal:t})).body.runs},cancel:function(){e.abort()}}}},730:function(e,t,n){"use strict";n(0);var i=n(13),o=n.n(i),a=n(3),l=n(8),s=(n(731),n(1));t.a=function(e){var t,n;return Object(s.jsx)(l.a,{children:Object(s.jsxs)("div",{className:o()("AppBar",{[null!==(t=null===e||void 0===e?void 0:e.className)&&void 0!==t?t:""]:e.className}),children:[Object(s.jsx)(a.n,{component:"h3",weight:600,size:14,tint:100,className:"AppBar__title",children:e.title}),e.children&&Object(s.jsx)("div",{className:o()("AppBar__content",{"AppBar__content--disabled":e.disabled,[null!==(n=null===e||void 0===e?void 0:e.className)&&void 0!==n?n:""]:e.className}),children:e.children})]})})}},731:function(e,t,n){},732:function(e,t,n){},733:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(13),l=n.n(a),s=n(3),c=(n(734),n(1));function r(e){let{progress:t={},processing:n=!1,pendingStatus:i=!1,setIsProgressBarVisible:a}=e;const{checked:r=0,trackedRuns:d=0,matched:u=0,percent:p=0}=t,[v,m]=o.a.useState(!1),g=o.a.useRef(0);o.a.useEffect((()=>{if(n||i)m(!0),null===a||void 0===a||a(!0);else{const e=2e3;g.current&&window.clearTimeout(g.current),g.current=window.setTimeout((()=>{m(!1)}),e)}return()=>{g.current&&window.clearTimeout(g.current),null===a||void 0===a||a(!1)}}),[n,i,a]);const h=o.a.useMemo((()=>i?p+"%":"unset"),[i,p]),b=o.a.useMemo((()=>!(n||i)),[i,n]),j=o.a.useMemo((()=>i?"Searching over runs...":"Processing..."),[i]);return v?Object(c.jsx)("div",{className:l()("ProgressBar",{fadeOutProgress:b}),children:Object(c.jsxs)("div",{className:"ProgressBar__container",children:[Object(c.jsx)(s.n,{className:"ProgressBar__container__title",size:16,weight:500,component:"p",children:j}),Object(c.jsx)("div",{className:"ProgressBar__container__bar",children:Object(c.jsx)("span",{style:{width:h}})}),0!==d&&Object(c.jsxs)("div",{className:"ProgressBar__container__info",children:[Object(c.jsxs)(s.n,{size:14,weight:500,children:[r," of ",d," checked"]}),Object(c.jsxs)(s.n,{className:"ProgressBar__container__info__matched",size:14,weight:600,color:"success",children:[u," matched run(s)"]})]})]})}):null}t.a=o.a.memo(r)},734:function(e,t,n){},735:function(e,t,n){},737:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(13),l=n.n(a),s=n(61),c=n(388),r=n(3),d=n(263),u=n(163),p=n(111),v=n(389);function m(e,t){return null===e||void 0===e?void 0:e.languages.registerCompletionItemProvider("python",function(e,t){return{triggerCharacters:["."],provideCompletionItems(n,i){const o=n.getValueInRange({startLineNumber:i.lineNumber,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column}).replace("\t","").split(" ");let a=s.a.last(o);if(g.forEach((e=>{a.includes(e)&&(a=s.a.last(a.split(e)))})),!Object.keys(t).some((e=>a.startsWith(e))))return null;const l=Object(p.a)(t,t).map((e=>{const t=e.replace(/\.metrics\.([^."]+)(\.[^.]+)?$/,'.metrics["$1"]$2'),n=-1!==t.indexOf(".__example_type__")||"."===t[e.length-1]?t.indexOf(".__example_type__"):t.length;return t.slice(0,n)})),c="."===a.charAt(a.length-1);let r=!1;const d=[];for(let e of l)if(""===e.split(a)[0]||c&&""===e.split(a.slice(0,a.length-2))[0]){r=!0;break}let u=t,m=a;c&&r&&(u=Object(v.a)(t,m.substring(0,m.length-1)));const j=n.getWordUntilPosition(i),f={startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:j.startColumn,endColumn:j.endColumn},x=/\.metrics.$/;for(const s in u)if(u.hasOwnProperty(s)&&!s.startsWith("__")){const n=!p.b.test(s)||x.test(m)?'["'.concat(s,'"]'):s;let i=h(Object(v.a)(t,m+n));const o={label:n,kind:b(e,i.hasExampleType?i.type:u[s],c),insertText:n,detail:i.type,range:f};o.kind!==e.languages.CompletionItemKind.Function&&o.kind!==e.languages.CompletionItemKind.Method||(o.insertText+="("),d.push(o)}return{suggestions:r?d:[]}}}}(e,t))}const g=["(","="];function h(e){const t=null===e||void 0===e?void 0:e.hasOwnProperty("__example_type__");let n="";if(t){switch(e.__example_type__.slice(7,e.__example_type__.length-1)){case"'str'":n="str";break;case"'int'":n="int";break;case"'bool'":n="bool";break;case"'list'":n="list";break;case"'float'":n="float";break;case"'bytes'":n="bytes";break;default:n="unknown"}}else switch(typeof e){case"object":n="dict";break;case"string":n="str";break;case"boolean":n="bool";break;case"number":n="int"}return{type:n,hasExampleType:t}}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch((typeof t).toLowerCase()){case"object":return e.languages.CompletionItemKind.Class;case"function":return n?e.languages.CompletionItemKind.Method:e.languages.CompletionItemKind.Function;default:return n?e.languages.CompletionItemKind.Property:e.languages.CompletionItemKind.Variable}}n(735);var j=n(1);function f(e){let{context:t,advanced:n,className:i,editorProps:a={},value:p="",refObject:v,error:g,disabled:h=!1,forceRemoveError:b=!1,onEnter:f,onChange:x}=e;const[O,_]=o.a.useState(!1),[y,S]=o.a.useState(0),[C,N]=o.a.useState(!1),[P,E]=o.a.useState(!1),[w,k]=o.a.useState(p),[I,T]=o.a.useState(""),R=Object(c.c)(),D=o.a.useRef();o.a.useEffect((()=>{V(),P&&(R.editor.defineTheme(A.theme.name,A.theme.config),R.editor.setTheme(A.theme.name),R.languages.setLanguageConfiguration("python",{onEnterRules:[{beforeText:new RegExp(/(\s*\(\s*)$/),action:{indentAction:R.languages.IndentAction.None,appendText:""}}]}));const e=s.a.debounce((()=>{S(window.innerWidth)}),500);window.addEventListener("resize",e),B();const n=m(R,t);return()=>{null===n||void 0===n||n.dispose(),window.removeEventListener("resize",e)}}),[R,t,P]),o.a.useEffect((()=>{setTimeout((()=>{V(),z()}),100)}),[y]),o.a.useEffect((()=>{z(),b&&!g&&(T(""),F())}),[g,R,b]),o.a.useEffect((()=>{var e;C&&(null===(e=D.current)||void 0===e||e.focus())}),[C,P]),o.a.useEffect((()=>{p!==w&&k(p)}),[p]),o.a.useEffect((()=>{setTimeout((()=>{V()}),100)}),[y]);const A=o.a.useMemo((()=>Object(d.a)(n)),[n]),M=o.a.useCallback((()=>{N(!0)}),[]),B=o.a.useCallback((()=>{N(!1)}),[]);function z(){var e;R&&g&&(T(null===g||void 0===g?void 0:g.message),R.editor.setModelMarkers(R.editor.getModels()[0],"marker",[{startLineNumber:null===g||void 0===g?void 0:g.detail.line,startColumn:null===g||void 0===g?void 0:g.detail.offset,endLineNumber:null===g||void 0===g?void 0:g.detail.line,endColumn:(null===g||void 0===g||null===(e=g.detail)||void 0===e?void 0:e.end_offset)||(null===g||void 0===g?void 0:g.detail.offset),message:null===g||void 0===g?void 0:g.message,severity:R.MarkerSeverity.Error}]))}function F(){(null===R||void 0===R?void 0:R.editor)&&R.editor.setModelMarkers(R.editor.getModels()[0],"marker",[])}function H(e){if(e.selection){const{startColumn:t,endColumn:n}=e.selection;_(t!==n)}}const L=o.a.useCallback(((e,t)=>{if(h)D.current.setValue(w);else if(F(),T(""),"string"===typeof e){let n=e.replace(/[\n\r]/g,"");if(t.changes[0].text.startsWith("[")&&"."===n[t.changes[0].rangeOffset-1]&&(n=n.slice(0,t.changes[0].rangeOffset-1)+n.slice(t.changes[0].rangeOffset,n.length)),x&&x(n,t),/^\r?\n$/.test(t.changes[0].text))return n=O?w.replace(/[\n\r]/g,""):n,D.current.setValue(n),f&&f(),void k(n);k(n)}}),[O,x,f,h]);function V(){P&&(R.editor.defineTheme(A.theme.name,A.theme.config),R.editor.setTheme(A.theme.name))}return Object(j.jsxs)("section",{className:l()("AutocompleteInput ".concat(i||""),{AutocompleteInput__disabled:h}),children:[Object(j.jsxs)("div",{onClick:M,className:l()("AutocompleteInput__container",{AutocompleteInput__container__focused:C,AutocompleteInput__container__advanced:n,AutocompleteInput__container__error:I}),children:[Object(j.jsx)(c.a,{language:"python",height:A.height,value:w,onChange:L,onMount:function(e){E(!0),D.current=e,v&&(v.current=D.current),D.current.onDidFocusEditorWidget(M),D.current.onDidBlurEditorWidget(B),D.current.onDidChangeCursorSelection(H)},loading:Object(j.jsx)("span",{}),options:A.options,...a},"".concat(y)),P&&(C||w?null:Object(j.jsxs)("div",{className:"AutocompleteInput__container__placeholder",children:["Filter runs, e.g. run.learning_rate ",">"," 0.0001 and run.batch_size == 32"]}))]}),I&&Object(j.jsxs)("div",{className:"AutocompleteInput__errorBar",children:[Object(j.jsx)("div",{children:Object(j.jsxs)(r.n,{color:"error",className:"AutocompleteInput__errorBar__message",component:"p",size:16,children:[Object(j.jsx)(r.n,{size:16,color:"error",weight:700,children:"Error:"}),I]})}),Object(j.jsxs)("div",{className:"AutocompleteInput__errorBar__hint",children:[Object(j.jsx)(r.f,{name:"info-circle-outline",box:!0}),Object(j.jsxs)(r.n,{children:["Aim Query Language is pythonic and fairly easy to get used to. If you are having issues, please refer to the"," ",Object(j.jsx)("a",{href:u.a.AIM_QL,target:"_blank",rel:"noreferrer",children:"docs"})," ","for detailed usage guide and more examples."]})]})]})]})}f.displayName="AutocompleteInput";var x=o.a.memo(f);t.a=x},738:function(e,t,n){},746:function(e,t,n){"use strict";var i=n(729),o=n(721);t.a=function(){const{fetchData:e,state:t,destroy:n}=Object(o.a)(i.e);return{fetchExperiments:e,experimentsState:t,destroy:n}}()},748:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return r}));var i=n(725),o=n(728),a=n.n(o);var l=function(){const e=a()((()=>({data:[]}))),t=t=>{const n=e.getState().data;e.setState({data:n.filter((e=>e.id!==t))})};return{notificationState:e,onNotificationDelete:t,onNotificationAdd:n=>{var i;const o=null!==(i=e.getState().data)&&void 0!==i?i:[];e.setState({data:[...o,n]}),setTimeout((()=>{t(n.id)}),3e3)}}}(),s=n(0),c=n.n(s);var r=function(){const{current:e}=c.a.useRef(l),t=e.notificationState((e=>e));return{notificationState:(null===t||void 0===t?void 0:t.data)||[],onNotificationDelete:e.onNotificationDelete,onNotificationAdd:e.onNotificationAdd}};t.a=i.a},750:function(e,t,n){"use strict";var i=n(261);t.a=function(e,t,n,o,a){if(!n||!t)return{top:e.top,left:e.left};let l,s;const c=10;if(o){const o=e.right-e.left,d=e.right-o/2;if(l=d-t.width/2-c<n.left?e.right-(e.right-n.left)+c:d+t.width/2>n.right?e.left-t.width+(n.right-e.left):d-t.width/2,a===i.a.Top)s=n.top-(t.height-30);else{var r;const e=null!==(r=document.body.getBoundingClientRect().bottom)&&void 0!==r?r:0,i=n.bottom-30;s=e<n.bottom+t.height-40?e-t.height-c:i}}else l=e.left<n.left?(e.right<n.left?n.left:e.right)+c:e.right+20+t.width>=n.right?e.left-t.width-c:e.right+c,s=e.top<n.top?n.top+c:e.top+t.height>n.bottom?n.bottom-t.height-c:e.top+c;return{left:l,top:s}}},754:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(164),l=n(200),s=n(61),c=n(748),r=n(729),d=n(721),u=n(11);var p=function(){const{fetchData:e,state:t,destroy:n}=Object(d.a)(r.c),{fetchData:i,state:o,destroy:a}=Object(d.a)(r.e);return{fetchExperimentData:e,experimentState:t,destroyExperiment:n,fetchExperimentsData:i,experimentsState:o,destroyExperiments:a,updateExperiment:function(e,n){const i=t.getState().data;Object(r.f)({name:e,description:n,archived:null===i||void 0===i?void 0:i.archived},(null===i||void 0===i?void 0:i.id)||"").then((()=>{t.setState((t=>({data:{...t.data,name:e,description:n}}))),c.b.onNotificationAdd({id:Date.now(),messages:["Changes successfully saved"],severity:"success"}),u.b("[Experiment] Edit Experiment name and description")})).catch((e=>{c.b.onNotificationAdd({id:Date.now(),messages:[e.message||"Something went wrong"],severity:"error"})}))},deleteExperiment:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a.noop;const n=t.getState().data;null!==n&&void 0!==n&&Object(r.b)(n.id).then((()=>{u.b("[Experiment] Delete Experiment"),e()})).catch((e=>{c.b.onNotificationAdd({id:Date.now(),messages:[e.message||"Something went wrong"],severity:"error"})}))}}}();t.a=function(e){const{current:t}=o.a.useRef(p),n=t.experimentState((e=>e)),i=t.experimentsState((e=>e));if(o.a.useEffect((()=>()=>{t.destroyExperiment(),t.destroyExperiments()}),[]),o.a.useEffect((()=>{e?t.fetchExperimentData(e):t.fetchExperimentsData()}),[e]),!i.loading){Object(a.a)().forEach((e=>{var t;(null===(t=i.data)||void 0===t?void 0:t.find((t=>t.id===e.id)))||Object(l.a)(e)}))}return{experimentState:n,experimentsState:i,selectedExperiments:Object(a.a)(),getExperimentsData:t.fetchExperimentsData,updateExperiment:t.updateExperiment,deleteExperiment:t.deleteExperiment}}},757:function(e,t,n){"use strict";n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return h}));var i=n(824),o=n(363);const a=40,l=17,s=6,c=20,r=200,d=300,u=200,p={step:1,min:15,max:70};const v=[{label:"Original Size",value:o.b.Original},{label:"Width",value:o.b.Width},{label:"Height",value:o.b.Height}],m={[i.a.AUDIO]:function(){return{width:276,height:40}},[i.a.IMAGE]:function(e){let t,n,{data:i,index:a=0,additionalProperties:l,wrapperOffsetWidth:s,wrapperOffsetHeight:c=0}=e;if((null===l||void 0===l?void 0:l.alignmentType)===o.b.Width)t=s*(null===l||void 0===l?void 0:l.mediaItemSize)/100+6,n=s*(null===l||void 0===l?void 0:l.mediaItemSize)/100;else if((null===l||void 0===l?void 0:l.alignmentType)===o.b.Height&&i){var r,d;n=c*(null===l||void 0===l?void 0:l.mediaItemSize)/100,t=n/(null===i||void 0===i||null===(r=i[a])||void 0===r?void 0:r.height)*(null===i||void 0===i||null===(d=i[a])||void 0===d?void 0:d.width)+6||100}else{var u,p;t=(null===i||void 0===i||null===(u=i[a])||void 0===u?void 0:u.width)+6,n=(null===i||void 0===i||null===(p=i[a])||void 0===p?void 0:p.height)||100}return{width:t,height:n}}},g={[i.a.AUDIO]:function(){return 113},[i.a.IMAGE]:function(e){let t,{maxHeight:n,maxWidth:i,mediaItemHeight:l,alignmentType:s,wrapperOffsetWidth:r,mediaItemSize:d,stacking:u}=e;if(s===o.b.Original)t=n;else if(s===o.b.Width){t=n/i*(r*d/100)}else t=l;return t+33+a+(u?c:0)}},h={[i.a.AUDIO]:function(e){return e+a},[i.a.IMAGE]:function(e){let{alignmentType:t,maxHeight:n,maxWidth:i,wrapperOffsetWidth:l,mediaItemSize:s,mediaItemHeight:c}=e;if(t===o.b.Original)return n+a;if(t===o.b.Width){return n/i*(l*s/100)+a}return c+a}}},759:function(e,t,n){"use strict";var i=n(0),o=n(699),a=n(1043),l=n(1044),s=n(712),c=n(1045),r=n(697),d=n(8),u=n(1);const p={name:"",description:""};t.a=function(e){let{open:t,onClose:n,onBookmarkCreate:v}=e;const[m,g]=Object(i.useState)(p),[h,b]=Object(i.useState)(!1),[j,f]=Object(i.useState)(!1);function x(e){const{id:t,value:n}=e.target,i={...m};i[t]=n,g(i),"name"===t&&(!j&&f(!0),b(!n))}return Object(u.jsx)(d.a,{children:Object(u.jsxs)(o.a,{open:t,onClose:function(){n(),b(!1),f(!1),g(p)},"aria-labelledby":"form-dialog-title",children:[Object(u.jsx)(a.a,{id:"form-dialog-title",children:"Add Bookmark"}),Object(u.jsxs)(l.a,{children:[Object(u.jsx)(s.a,{autoFocus:!0,id:"name",value:m.name,label:"Bookmark Name",onChange:x,type:"text",variant:"outlined",margin:"dense",fullWidth:!0,error:j&&h,helperText:j&&h?"Name is required":""}),Object(u.jsx)(s.a,{id:"description",value:m.description,onChange:x,label:"Bookmark Description",type:"text",variant:"outlined",margin:"dense",fullWidth:!0})]}),Object(u.jsxs)(c.a,{children:[Object(u.jsx)(r.a,{onClick:n,color:"primary",children:"Cancel"}),Object(u.jsx)(r.a,{onClick:function(){m.name?(v(m),b(!1),g({name:"",description:""}),n()):(b(!0),f(!0))},color:"primary",children:"Save"})]})]})})}},760:function(e,t,n){},761:function(e,t,n){},766:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(13),l=n.n(a),s=n(3),c=n(8),r=(n(767),n(1));function d(e){let{index:t=0,items:n,depth:i,onDepthChange:a,style:d={},valueLabelDisplay:u="off",label:p,className:v=""}=e;const m=o.a.useMemo((()=>n.map(((e,t)=>({value:t})))),[n]),g=o.a.useCallback(((e,t)=>{"function"===typeof a&&a(e,t)}),[a]),h=n.length-1;return 0===n.length?null:Object(r.jsx)(c.a,{children:Object(r.jsx)("div",{className:l()("DepthSlider",{[v]:!!v}),style:d,children:Object(r.jsx)(s.k,{label:p,"aria-labelledby":"track-false-slider",track:!1,valueLabelDisplay:u,getAriaValueText:e=>"".concat(n[e]),value:i,onChange:(e,n)=>g(n,t),step:null,marks:m,min:0,max:h,prevIconNode:Object(r.jsx)(s.c,{onClick:()=>i>0&&g(i-1,t),className:"prevIconBtn",disabled:i<=0,size:"small",withOnlyIcon:!0,children:Object(r.jsx)(s.f,{name:"arrow-left",fontSize:10})}),nextIconNode:Object(r.jsx)(s.c,{onClick:()=>i<h&&g(i+1,t),className:"nextIconBtn",disabled:i>=h,size:"small",withOnlyIcon:!0,children:Object(r.jsx)(s.f,{name:"arrow-right",fontSize:10})})})})})}d.displayName="DepthSlider",t.a=o.a.memo(d)},767:function(e,t,n){},768:function(e,t,n){},769:function(e,t,n){"use strict";function i(e){let t="";const n=new Uint8Array(e),i=n.byteLength;for(let o=0;o<i;o++)t+=String.fromCharCode(n[o]);return window.btoa(t)}n.d(t,"a",(function(){return i}))},771:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(13),l=n.n(a),s=n(622),c=n(358),r=n(715),d=n(3),u=n(79),p=n(8),v=n(70),m=n.n(v),g=n(1046),h=n(710),b=n(480),j=n(697),f=n(621),x=n(774),O=n.n(x),_=n(775),y=n.n(_),S=n(80),C=n(72),N=n(362),P=(n(760),n(1));var E=function(e){let{experimentsData:t,selectedExperiments:n,isExperimentsLoading:i,getExperimentsData:a,setSelectedExperiments:s,onSelectExperimentsChange:r,onToggleAllExperiments:u}=e;o.a.useEffect((()=>{t||a()}),[]);const[v,x]=o.a.useState(""),[_,E]=o.a.useState(!1),[w,k]=o.a.useState(!1),[I,T]=o.a.useState([]),[R,D]=o.a.useState("");function A(e){return n.some((t=>t.id===e.id))}function M(e){try{const n=new RegExp(e,"i");k(!1);const i=null===t||void 0===t?void 0:t.filter((e=>n.test(e.name)));T(i||[])}catch(n){k(!0)}}function B(e){k(!1);const n=null===t||void 0===t?void 0:t.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())));T(n||[])}function z(){const e=new Set(n.map((e=>e.id)));return I.length>0&&I.every((t=>e.has(t.id)))}return o.a.useEffect((()=>{N.a.fetchCurrentNamespacePath().then((e=>{D(e)}))}),[]),o.a.useEffect((()=>{T(t||[])}),[t]),Object(P.jsx)(p.a,{children:Object(P.jsxs)("div",{className:"ExperimentSelectionPopover",children:[Object(P.jsx)("div",{className:"ExperimentSelectionPopover__headerContainer",children:Object(P.jsx)("div",{className:"ExperimentSelectionPopover__headerContainer__titleContainer",children:Object(P.jsx)(d.n,{size:14,tint:100,weight:700,children:"Experiments"})})}),Object(P.jsx)("div",{className:"ExperimentSelectionPopover__contentContainer",children:Object(P.jsx)("div",{className:"ExperimentSelectionPopover__contentContainer__experimentsListContainer",children:Object(P.jsxs)("div",{className:"ExperimentSelectionPopover__contentContainer__experimentsListContainer__experimentList ScrollBar__hidden",children:[Object(P.jsxs)("div",{className:w?"ExperimentSelectionPopover__searchContainer error":"ExperimentSelectionPopover__searchContainer",children:[Object(P.jsx)(c.a,{title:z()?"Deselect all visible":"Select all visible",children:Object(P.jsx)(h.a,{color:"primary",icon:Object(P.jsx)(O.a,{}),checkedIcon:Object(P.jsx)(y.a,{}),checked:z(),onChange:()=>{!function(e){if(e)u(I),s(n.filter((e=>!I.some((t=>t.id===e.id)))));else{const e=null===I||void 0===I?void 0:I.filter((e=>!n.some((t=>t.id===e.id))));u(e),s([...n,...e])}}(z())},size:"small"})}),Object(P.jsx)(b.a,{placeholder:"Search",value:v,onChange:function(e){x(e.target.value),_?M(e.target.value):B(e.target.value)},inputProps:{"aria-label":"search"},className:"ExperimentSelectionPopover__searchContainer__inputBase",autoFocus:!0}),Object(P.jsx)(c.a,{title:"Use Regular Expression",children:Object(P.jsx)(g.a,{value:"check",selected:_,onChange:()=>{E(!_),_?B(v):M(v)},className:"RegexToggle",children:".*"})})]}),i?Object(P.jsx)("div",{className:"ExperimentSelectionPopover__loaderContainer",children:Object(P.jsx)(d.l,{size:34})}):null===I||void 0===I?void 0:I.map((e=>{return Object(P.jsxs)(j.a,{onClick:()=>function(e){r(e),n.some((t=>t.id===e.id))?s(n.filter((t=>t.name!==e.name))):s([...n,e])}(e),className:l()("experimentBox",{selected:A(e)}),children:[Object(P.jsx)("div",{className:"experimentBox__leftContainer",children:Object(P.jsx)(h.a,{color:"primary",icon:Object(P.jsx)(O.a,{}),checkedIcon:Object(P.jsx)(y.a,{}),checked:A(e),size:"small",className:"experimentBox__checkbox"})}),Object(P.jsxs)("div",{className:"experimentBox__rightContainer",children:[Object(P.jsx)(d.n,{size:16,tint:A(e)?100:80,weight:500,className:"experimentBox__experimentName",children:(t=null===e||void 0===e?void 0:e.name,t?t.length>56?"".concat(t.slice(0,27),"...").concat(t.slice(-26)):t:"default")}),Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[Object(P.jsxs)("div",{className:"experimentBox__date",children:[Object(P.jsx)(d.f,{name:"calendar",color:A(e)?"#414B6D":"#606986",fontSize:12}),Object(P.jsx)(d.n,{size:14,tint:A(e)?80:70,weight:500,children:"".concat(m()(1e3*e.creation_time).format(S.e))})]}),Object(P.jsx)(f.a,{href:Object(C.d)()+R+"/mlflow/#/experiments/"+e.id,target:"_blank",onClick:e=>e.stopPropagation(),style:{marginLeft:"1rem"},children:Object(P.jsxs)("div",{style:{fontSize:"0.8rem"},children:[Object(P.jsx)(d.f,{name:"live-demo",style:{marginRight:"0.3rem"}}),"Open in Classic UI"]})})]})]})]},e.id);var t}))]})})})]})})};n(761);var w=function(e){let{isExperimentLoading:t,isExperimentsLoading:n,experimentsData:i,selectedExperiments:a,getExperimentsData:v,onSelectExperimentsChange:m,onToggleAllExperiments:g}=e;const[h,b]=o.a.useState(a);return o.a.useEffect((()=>{b(a)}),[a]),Object(P.jsx)(p.a,{children:Object(P.jsx)("div",{className:"ExperimentBar__headerContainer",children:Object(P.jsx)("div",{className:"container ExperimentBar__headerContainer__appBarBox",children:Object(P.jsx)("div",{className:"ExperimentBar__headerContainer__appBarBox__navigationContainer",children:Object(P.jsx)(u.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},anchor:e=>{let{onAnchorClick:n,opened:i}=e;return Object(P.jsx)("div",{className:"ExperimentBar__headerContainer__appBarTitleBox",onClick:n,children:t?Object(P.jsx)("div",{className:"flex",children:Object(P.jsx)(s.a,{className:"ExperimentBar__headerContainer__appBarTitleBox__Skeleton",variant:"rect",height:24,width:160})}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"ExperimentBar__headerContainer__appBarTitleBox__appBarTitleBoxWrapper",children:[Object(P.jsx)(d.c,{disabled:t,color:i?"primary":"default",size:"xSmall",className:l()("ExperimentBar__headerContainer__appBarTitleBox__buttonSelectToggler",{opened:i}),withOnlyIcon:!0,children:Object(P.jsx)(d.f,{name:i?"arrow-up":"arrow-down"})}),0===h.length?Object(P.jsx)(d.n,{className:"ExperimentBar__headerContainer__appBarTitleBox__text",children:"Select Experiments"}):null,Object(P.jsx)("div",{className:"ExperimentBar__headerContainer__appBarTitleBox__chipContainer",children:h.map((e=>{return Object(P.jsx)(c.a,{title:e.name,children:Object(P.jsx)(r.a,{className:"ExperimentBar__headerContainer__appBarTitleBox__chipContainer__chip",variant:"outlined",size:"small",label:(t=e.name,t?t.length>18?"".concat(t.slice(0,8),"...").concat(t.slice(-8)):t:"default"),onDelete:()=>m(e)})},e.id);var t}))})]})})})},component:Object(P.jsx)(E,{isExperimentsLoading:n,experimentsData:i,selectedExperiments:h,setSelectedExperiments:b,getExperimentsData:v,onSelectExperimentsChange:m,onToggleAllExperiments:g})})})})})})};t.a=w},772:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(358),l=n(3),s=n(8),c=(n(768),n(1));function r(e){let{sliderTitle:t,countInputTitle:n,selectedRangeValue:i,selectedCountValue:o,onSearch:r,onCountChange:d,onRangeChange:u,min:p,max:v,sliderTitleTooltip:m,countTitleTooltip:g,sliderType:h="range",inputValidationPatterns:b}=e;return Object(c.jsx)(s.a,{children:Object(c.jsxs)("div",{className:"SliderWithInput",children:[Object(c.jsxs)("div",{className:"SliderWithInput__sliderWrapper",children:[Object(c.jsxs)("div",{className:"SliderWithInput__sliderWrapper__sliderTitleBox",children:[m?Object(c.jsx)(a.a,{title:m,children:Object(c.jsxs)("span",{className:"SliderWithInput__sliderWrapper__title",children:[t,":"]})}):Object(c.jsxs)("span",{className:"SliderWithInput__sliderWrapper__title",children:[t,":"]}),Object(c.jsx)(l.n,{size:10,weight:600,tint:80,className:"SliderWithInput__sliderWrapper__sliderValuesLabel",children:"".concat(i[0]," - ").concat(i[1])})]}),"single"===h?Object(c.jsx)(l.k,{value:o,onChange:(e,t)=>{d(t)},getAriaValueText:e=>"".concat(e),"aria-labelledby":"track-false-slider",track:!1,min:i[0],max:i[1],valueLabelDisplay:"auto"}):Object(c.jsx)(l.k,{value:[...i],onChange:(e,t)=>u(t),min:p,max:v,valueLabelDisplay:"auto",getAriaValueText:e=>"".concat(e),onKeyPress:e=>{13===e.which&&r()}})]}),Object(c.jsx)("div",{className:"SliderWithInput__densityWrapper",children:Object(c.jsx)(l.g,{value:"".concat(o),type:"number",labelAppearance:"top-labeled",size:"small",label:n,topLabeledIconName:"circle-question",labelHelperText:g,placeholder:n,showMessageByTooltip:!0,isValidateInitially:!0,onChange:(e,t,n)=>{d(t,n)},validationPatterns:null!==b&&void 0!==b?b:[]})})]})})}r.displayName="SliderWithInput";var d=o.a.memo(r);t.a=d},776:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(61),l=n(13),s=n.n(l),c=n(139),r=n(358),d=n(706),u=n(621),p=n(422),v=n(3),m=n(213),g=n(8),h=n(66),b=n(261),j=n(110),f=n(167),x=n(12),O=n(28),_=n(55),y=n(90),S=n(141),C=n(398),N=n(16),P=n(397),E=(n(788),n(1));const w=o.a.forwardRef((function(e,t){const{tooltipContent:n,tooltipAppearance:i=b.a.Auto,focusedState:l,chartType:w,alignmentConfig:k,selectOptions:I,onRunsTagsChange:T,onChangeTooltip:R}=e,{selectedProps:D={},groupConfig:A={},name:M="",context:B={},run:z}=n||{},F=o.a.useMemo((()=>i===b.a.Top||i===b.a.Bottom),[i]);function H(){var e,t,n,i;return(null===l||void 0===l?void 0:l.active)&&(null===z||void 0===z?void 0:z.hash)?Object(E.jsxs)(g.a,{children:[Object(E.jsxs)("div",{children:[Object(E.jsx)(d.a,{}),Object(E.jsxs)("div",{className:"PopoverContent__box",children:[Object(E.jsxs)(u.a,{to:h.a.Run_Detail.replace(":runHash",null===z||void 0===z?void 0:z.hash),component:c.b,className:"PopoverContent__runDetails",underline:"none",children:[Object(E.jsx)(v.f,{name:"link"}),Object(E.jsx)("div",{children:"Run Details"})]}),Object(E.jsxs)(u.a,{to:h.a.Experiment.replace(":experimentId",null===z||void 0===z||null===(e=z.props)||void 0===e||null===(t=e.experiment)||void 0===t?void 0:t.id),component:c.b,className:"PopoverContent__runDetails",underline:"none",children:[Object(E.jsx)(v.f,{name:"link"}),Object(E.jsx)("div",{children:"Experiment Detail"})]})]})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)(d.a,{}),Object(E.jsx)("div",{className:"PopoverContent__box",children:Object(E.jsx)(g.a,{children:Object(E.jsx)(m.a,{runHash:null===z||void 0===z?void 0:z.hash,tags:null!==(n=null===z||void 0===z||null===(i=z.props)||void 0===i?void 0:i.tags)&&void 0!==n?n:[],onRunsTagsChange:T})})})]})]}):null}return Object(E.jsx)(g.a,{children:Object(E.jsxs)(p.a,{ref:t,className:"PopoverContent__container",style:{pointerEvents:(null===l||void 0===l?void 0:l.active)?"auto":"none"},elevation:0,children:[(null===l||void 0===l?void 0:l.active)&&(null===z||void 0===z?void 0:z.hash)&&R?Object(E.jsxs)("div",{className:"PopoverContent__actionButtons",children:[Object(E.jsx)(r.a,{title:"Pin to top",children:Object(E.jsx)("div",{children:Object(E.jsx)(v.c,{onClick:()=>R({appearance:b.a.Top}),withOnlyIcon:!0,size:"xSmall",className:s()("PopoverContent__actionButtons__actionButton",{active:i===b.a.Top}),children:Object(E.jsx)(v.f,{name:"pin-to-top",fontSize:16,className:"PopoverContent__actionButtons__actionButton__icon"})})})}),Object(E.jsx)(r.a,{title:"Flexible",children:Object(E.jsx)("div",{children:Object(E.jsx)(v.c,{onClick:()=>R({appearance:b.a.Auto}),withOnlyIcon:!0,size:"xSmall",className:s()("PopoverContent__actionButtons__actionButton",{active:i===b.a.Auto}),children:Object(E.jsx)(v.f,{name:"flexible",fontSize:16,className:"PopoverContent__actionButtons__actionButton__icon"})})})}),Object(E.jsx)(r.a,{title:"Pin to bottom",children:Object(E.jsx)("div",{children:Object(E.jsx)(v.c,{onClick:()=>{R({appearance:b.a.Bottom})},withOnlyIcon:!0,size:"xSmall",className:s()("PopoverContent__actionButtons__actionButton",{active:i===b.a.Bottom}),children:Object(E.jsx)(v.f,{name:"pin-to-bottom",fontSize:16,className:"PopoverContent__actionButtons__actionButton__icon"})})})})]}):null,Object(E.jsxs)("div",{className:s()("PopoverContent",{PopoverContent__pinned:F,PopoverContent__fixed:(null===l||void 0===l?void 0:l.active)&&(null===z||void 0===z?void 0:z.hash)&&R}),children:[Object(E.jsxs)("div",{className:s()("PopoverContent__boxWrapper ScrollBar__hidden",{pinned:F}),children:[function(){switch(w){case x.b.LineChart:var e;return Object(E.jsx)(g.a,{children:Object(E.jsxs)("div",{className:"PopoverContent__box",children:[Object(E.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(E.jsx)(v.n,{children:"Y: "}),Object(E.jsxs)("span",{className:"PopoverContent__headerValue",children:[Object(E.jsx)(v.n,{weight:400,children:Object(_.a)(M)?Object(y.a)(M):M}),Object(E.jsx)(v.n,{className:"PopoverContent__contextValue",children:Object(j.a)(B)}),Object(E.jsx)(v.n,{component:"p",className:"PopoverContent__axisValue",children:Object(P.a)(Number(null===l||void 0===l?void 0:l.yValue))})]})]}),Object(E.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(E.jsx)(v.n,{children:"X: "}),Object(E.jsxs)("span",{className:"PopoverContent__headerValue",children:[Object(E.jsx)(v.n,{weight:400,children:Object(f.b)(k)}),(null===k||void 0===k?void 0:k.type)===x.a.CUSTOM_METRIC&&Object(E.jsx)(v.n,{className:"PopoverContent__contextValue",children:Object(j.a)(B)}),Object(E.jsx)(v.n,{component:"p",className:"PopoverContent__axisValue",children:Object(f.a)({xAxisTickValue:null!==(e=null===l||void 0===l?void 0:l.xValue)&&void 0!==e?e:null,type:null===k||void 0===k?void 0:k.type})})]})]})]})});case x.b.HighPlot:{var t;let e="",n="";const a="".concat(null===l||void 0===l?void 0:l.xValue);if(Object(C.a)(a)){const t=JSON.parse(Object(N.b)(a));e=t.metricName,n=t.contextName}else{var i,o;e=null===(i=a||"")||void 0===i?void 0:i.split("-")[0],n=null===(o=a||"")||void 0===o?void 0:o.split("-")[1]}return Object(E.jsx)(g.a,{children:Object(E.jsxs)("div",{className:"PopoverContent__box",children:[Object(E.jsxs)("div",{className:"PopoverContent__value",children:[Object(E.jsx)("strong",{children:Object(_.a)(e)?Object(y.a)(e):null!==(t=e)&&void 0!==t?t:"--"})," ",n||null]}),Object(E.jsxs)("div",{className:"PopoverContent__value",children:["Value: ",Object(P.a)(Number(null===l||void 0===l?void 0:l.yValue))]})]})})}case x.b.ImageSet:{const{step:e="",index:t="",caption:i="",images_name:o=""}=n;return Object(E.jsx)(g.a,{children:Object(E.jsxs)("div",{className:"PopoverContent__box PopoverContent__imageSetBox",children:[Object(E.jsx)("strong",{children:i}),Object(E.jsxs)("div",{className:"PopoverContent__value",children:[Object(E.jsx)("strong",{children:o}),Object(E.jsx)(v.n,{className:"PopoverContent__contextValue",children:Object(j.a)(B)})]}),Object(E.jsxs)("div",{className:"PopoverContent__value",children:["Step: ",Object(E.jsx)("strong",{children:e}),Object(E.jsxs)(v.n,{className:"PopoverContent__contextValue",children:["Index: ",Object(E.jsx)("strong",{children:t})]})]})]})})}case x.b.ScatterPlot:return Object(E.jsx)(g.a,{children:Object(E.jsxs)("div",{className:"PopoverContent__box",children:[Object(E.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(E.jsx)(v.n,{children:"Y: "}),Object(E.jsx)("span",{className:"PopoverContent__headerValue",children:Object(E.jsx)(v.n,{component:"p",className:"PopoverContent__axisValue",children:Object(P.a)(Number(null===l||void 0===l?void 0:l.yValue))})})]}),Object(E.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(E.jsx)(v.n,{children:"X: "}),Object(E.jsx)("span",{className:"PopoverContent__headerValue",children:Object(E.jsx)(v.n,{component:"p",className:"PopoverContent__axisValue",children:Object(P.a)(Number(null===l||void 0===l?void 0:l.xValue))})})]})]})});default:return null}}(),F&&H()]}),a.a.isEmpty(D)&&a.a.isEmpty(A)?null:Object(E.jsxs)("div",{className:s()("PopoverContent__boxContainer ScrollBar__hidden",{pinned:F}),children:[a.a.isEmpty(D)?null:Object(E.jsx)(g.a,{children:Object(E.jsxs)("div",{className:"PopoverContent__boxWrapper",children:[Object(E.jsx)(d.a,{orientation:F?"vertical":"horizontal"}),Object(E.jsxs)("div",{className:"PopoverContent__box ScrollBar__hidden",children:[Object(E.jsx)("div",{className:"PopoverContent__subtitle1",children:"Selected Fields"}),Object.keys(D).map((e=>Object(E.jsxs)("div",{className:"PopoverContent__value",children:[Object(E.jsx)(v.n,{size:12,tint:50,children:"".concat(Object(S.a)(I,e),": ")}),Object(E.jsx)(v.n,{size:12,children:Object(O.a)(D[e])})]},e)))]})]})}),a.a.isEmpty(A)?null:Object(E.jsx)(g.a,{children:Object(E.jsxs)("div",{className:"PopoverContent__boxWrapper",children:[Object(E.jsx)(d.a,{orientation:F?"vertical":"horizontal"}),Object(E.jsxs)("div",{className:"PopoverContent__box ScrollBar__hidden",children:[Object(E.jsx)("div",{className:"PopoverContent__subtitle1",children:"Group Config"}),Object.keys(A).map((e=>a.a.isEmpty(A[e])?null:Object(E.jsxs)(o.a.Fragment,{children:[Object(E.jsx)("div",{className:"PopoverContent__subtitle2",children:e}),Object.keys(A[e]).map((t=>{let n=Object(_.a)(A[e][t])?Object(y.a)(A[e][t]):A[e][t];return Object(E.jsxs)("div",{className:"PopoverContent__value",children:[Object(E.jsx)(v.n,{size:12,tint:50,children:"".concat(t,": ")}),Object(E.jsx)(v.n,{size:12,children:Object(O.a)(n)})]},t)}))]},e)))]})]})}),!F&&H()]})]})]})})}));t.a=o.a.memo(w)},787:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(13),l=n.n(a),s=n(61),c=n(619),r=n(776),d=n(8),u=n(261),p=n(750),v=(n(789),n(1));function m(e){var t;let{id:n="popover",forceOpen:i=!1,open:a=!1,className:m="",containerNode:g=document.body,selectOptions:h,tooltipAppearance:b=u.a.Auto}=e;a=i||a;const[j,f]=o.a.useState(!!e.activePointRect&&a),[x,O]=o.a.useState(),[_,y]=o.a.useState({top:1e4,left:1e4}),S=o.a.useMemo((()=>b===u.a.Top||b===u.a.Bottom),[b]),C=o.a.useCallback((e=>{if(x&&g){const t=x.getBoundingClientRect(),n=g.getBoundingClientRect();if(n.width&&n.height){const i={top:e.top-g.scrollTop,left:e.left-g.scrollLeft,right:e.right-g.scrollLeft,bottom:e.bottom-g.scrollTop},o=Object(p.a)(i,t,n,S,b);y(o)}}}),[g,x,S,b]);return o.a.useEffect((()=>{f(!!e.activePointRect&&a)}),[e.activePointRect,a]),o.a.useEffect((()=>{e.activePointRect&&j&&C(e.activePointRect)}),[e.activePointRect,j,e.tooltipContent,e.focusedState.key,e.focusedState.active,C]),o.a.useEffect((()=>{if(g){const t=s.a.debounce((()=>f(!!e.activePointRect&&a)),300),n=s.a.debounce((()=>f(!1)),200,{leading:!0,trailing:!1});return g.addEventListener("scroll",n),g.addEventListener("scroll",t),()=>{null===g||void 0===g||g.removeEventListener("scroll",n),null===g||void 0===g||g.removeEventListener("scroll",t)}}}),[e.activePointRect,a,g]),o.a.useEffect((()=>{const e=e=>{let{target:t}=e;i||(null===g||void 0===g?void 0:g.contains(t))||(null===x||void 0===x?void 0:x.contains(t))||f(!1)};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}}),[g,x,i]),Object(v.jsx)(d.a,{children:Object(v.jsx)(c.a,{id:n,open:j,disableEnforceFocus:!0,disableAutoFocus:!0,disableRestoreFocus:!0,disablePortal:!0,disableScrollLock:!0,anchorReference:"anchorPosition",anchorPosition:_,className:l()("ChartPopover",{[m]:m,pinnedPopover:S}),transitionDuration:{appear:0,enter:50,exit:100},TransitionProps:{onEnter:e=>O(e)},transformOrigin:{vertical:"top",horizontal:"left"},classes:{paper:l()("ChartPopover__content","CustomChartPopover_content",{ChartPopover__content__active:null===(t=e.focusedState)||void 0===t?void 0:t.active,ChartPopover__content__pinned:S,hide:!_})},children:Object(v.jsx)(d.a,{children:Object(v.jsx)(r.a,{chartType:e.chartType,tooltipContent:e.tooltipContent,tooltipAppearance:e.tooltipAppearance,focusedState:e.focusedState,alignmentConfig:e.alignmentConfig,selectOptions:h,onRunsTagsChange:e.onRunsTagsChange,onChangeTooltip:e.onChangeTooltip})})},"popover-".concat(b))})}t.a=o.a.memo(m)},788:function(e,t,n){},789:function(e,t,n){},790:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(396),l=n(8),s=n(39),c=(n(791),n(1));function r(e){let{panelResizing:t,resizeElemRef:n,resizeMode:i,onTableResizeModeChange:o,className:r}=e;return Object(c.jsx)(l.a,{children:Object(c.jsx)("div",{ref:n,className:"".concat(r||""," ResizePanel").concat(i!==s.b.Hide||t?i!==s.b.Resizable?"__hidden":"":"__fullHeight"," ").concat(t?"resizing":""),children:i===s.b.Hide?Object(c.jsx)(a.a,{resizeMode:i,onTableResizeModeChange:o}):null})})}t.a=o.a.memo(r)},791:function(e,t,n){},792:function(e,t,n){},793:function(e,t,n){},794:function(e,t,n){},795:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(61),l=n(712),s=n(710),c=n(706),r=n(709),d=n(703),u=n(704),p=n(3),v=n(8),m=n(261),g=(n(796),n(1));function h(e){let{onChangeTooltip:t,selectedFields:n=[],tooltipAppearance:i=m.a.Auto,isTooltipDisplayed:h=!0,selectOptions:b}=e,[j,f]=o.a.useState("");function x(e){t({selectedFields:e.map((e=>"string"===typeof e?e:e.value))})}const O=o.a.useCallback((()=>{t({display:!h})}),[t,h]),_=o.a.useCallback((e=>{t({appearance:e.value})}),[t]),y=o.a.useMemo((()=>{let e=[];return b.forEach((t=>{-1!==n.indexOf(t.value)&&e.push(t)})),e.sort(((e,t)=>n.indexOf(e.value)-n.indexOf(t.value)))}),[b,n]),S=o.a.useMemo((()=>Object.values(m.a).map((e=>({label:a.a.capitalize(e),value:e})))),[]),C=o.a.useMemo((()=>{if(""!==j.trim()){return b.filter((e=>-1!==e.label.indexOf(j))).slice().sort(((e,t)=>e.label.indexOf(j)-t.label.indexOf(j)))}return b}),[b,j]);return Object(g.jsx)(v.a,{children:Object(g.jsxs)("div",{className:"TooltipContentPopover",children:[Object(g.jsxs)("div",{className:"TooltipContentPopover__section",children:[Object(g.jsx)(p.n,{component:"h4",tint:50,className:"TooltipContentPopover__subtitle",children:"Select Fields To Display In The Tooltip"}),Object(g.jsx)(r.a,{id:"select-params",size:"small",openOnFocus:!0,multiple:!0,disableCloseOnSelect:!0,options:C,value:y,onChange:function(e,t){("Backspace"!==(null===e||void 0===e?void 0:e.code)||0===j.length)&&x(t)},groupBy:e=>e.group,getOptionLabel:e=>e.label,getOptionSelected:(e,t)=>e.value===t.value,renderInput:e=>Object(g.jsx)(l.a,{...e,inputProps:{...e.inputProps,value:j,onChange:e=>{f(e.target.value)}},className:"TextField__OutLined__Small",variant:"outlined",placeholder:"Select Fields"}),renderOption:(e,t)=>{let{selected:n}=t;return Object(g.jsxs)("div",{className:"TooltipContentPopover__option",children:[Object(g.jsx)(s.a,{color:"primary",size:"small",icon:Object(g.jsx)(d.a,{}),checkedIcon:Object(g.jsx)(u.a,{}),style:{marginRight:4},checked:n}),Object(g.jsx)(p.n,{className:"GroupingPopover__option__label",size:14,children:e.label})]})},renderTags:(e,t)=>Object(g.jsx)("div",{className:"TooltipContentPopover__SelectedTagsContainer",children:e.map(((e,n)=>Object(g.jsx)(p.b,{...t({index:n}),label:e.label,size:"small",className:"Select__Chip"},n)))})})]}),Object(g.jsx)(c.a,{className:"TooltipContentPopover__Divider"}),Object(g.jsxs)("div",{className:"TooltipContentPopover__section",children:[Object(g.jsx)(p.n,{component:"h4",tint:50,className:"TooltipContentPopover__subtitle",children:"Tooltip Visibility On Hover"}),Object(g.jsx)(p.o,{title:"Select Visibility",id:"display",value:h?"Show":"Hide",leftLabel:"Hide",rightLabel:"Show",leftValue:"Hide",rightValue:"Show",onChange:O})]}),Object(g.jsx)(c.a,{className:"TooltipContentPopover__Divider"}),Object(g.jsxs)("div",{className:"TooltipContentPopover__section",children:[Object(g.jsx)(p.n,{component:"h4",tint:50,className:"TooltipContentPopover__subtitle",children:"Tooltip Appearance"}),Object(g.jsx)(p.j,{selectOptions:S,selected:i,handleSelect:_})]})]})})}t.a=o.a.memo(h)},796:function(e,t,n){},819:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(8),l=n(3),s=n(35),c=n(13),r=n.n(c),d=n(358),u=n(79),p=n(712),v=n(710),m=n(703),g=n(704),h=n(709),b=(n(792),n(1));var j=function(e){let{groupName:t,advancedComponent:n,groupingData:i,groupingSelectOptions:s,onSelect:c,onGroupingModeChange:r,inputLabel:d}=e;const[u,j]=o.a.useState("");function f(e){c({groupName:t,list:e.map((e=>"string"===typeof e?e:e.value))})}const x=o.a.useMemo((()=>{let e=[];return s.forEach((n=>{-1!==(null===i||void 0===i?void 0:i[t].indexOf(n.value))&&e.push(n)})),i?e.sort(((e,n)=>i[t].indexOf(e.value)-i[t].indexOf(n.value))):e}),[t,i,s]),O=o.a.useMemo((()=>{if(""!==u.trim()){return s.filter((e=>-1!==e.label.indexOf(u))).slice().sort(((e,t)=>e.label.indexOf(u)-t.label.indexOf(u)))}return s}),[s,u]);return Object(b.jsx)(a.a,{children:Object(b.jsx)("div",{className:"GroupingPopover",children:Object(b.jsxs)("div",{className:"GroupingPopover__container",children:[Object(b.jsxs)("div",{className:"GroupingPopover__container__select",children:[Object(b.jsx)(l.n,{size:12,tint:50,component:"h3",className:"GroupingPopover__subtitle",children:null!==d&&void 0!==d?d:"Select fields for grouping by ".concat(t)}),Object(b.jsx)(h.a,{multiple:!0,openOnFocus:!0,size:"small",disableCloseOnSelect:!0,options:O,value:x,onChange:function(e,t){("Backspace"!==(null===e||void 0===e?void 0:e.code)||0===u.length)&&f(t)},groupBy:e=>e.group,getOptionLabel:e=>e.label,getOptionSelected:(e,t)=>e.value===t.value,renderInput:e=>Object(b.jsx)(p.a,{...e,inputProps:{...e.inputProps,value:u,onChange:e=>{var t;j(null===(t=e.target)||void 0===t?void 0:t.value)}},className:"TextField__OutLined__Small",variant:"outlined",placeholder:"Select fields"}),renderTags:(e,t)=>Object(b.jsx)("div",{className:"GroupingPopover__container__select__selectedFieldsContainer",children:e.map(((e,n)=>Object(b.jsx)(l.b,{...t({index:n}),label:e.label,selectBadge:!0},n)))}),renderOption:(e,t)=>{let{selected:n}=t;return Object(b.jsxs)("div",{className:"GroupingPopover__option",children:[Object(b.jsx)(v.a,{color:"primary",size:"small",icon:Object(b.jsx)(m.a,{}),checkedIcon:Object(b.jsx)(g.a,{}),style:{marginRight:4},checked:n}),Object(b.jsx)(l.n,{className:"GroupingPopover__option__label",size:14,children:e.label})]})}})]}),n&&Object(b.jsx)(a.a,{children:Object(b.jsx)("div",{className:"GroupingPopover__advanced__component",children:n})})]})})})};n(793);const f={stroke:"line-style",chart:"chart-group",row:"image-group",color:"coloring"};var x=function(e){let{title:t,groupName:n,groupingData:i,inputLabel:o,advancedComponent:c,onSelect:p,onGroupingModeChange:v,groupingSelectOptions:m,conditionalGroupingOptions:g,isDisabled:h}=e;return Object(b.jsx)(a.a,{children:Object(b.jsx)(u.a,{title:t,anchor:e=>{var t,o;let{onAnchorClick:a,opened:c}=e;return Object(b.jsx)(d.a,{title:"Group by ".concat(n),children:Object(b.jsx)("div",{onClick:e=>{h||a(e)},className:r()("GroupingItem",{isDisabled:h}),children:Object(b.jsx)("div",{className:"GroupingItem__icon__box ".concat(c?"active":""," ").concat((null===m||void 0===m?void 0:m.length)&&((null===i||void 0===i||null===(t=i[n])||void 0===t?void 0:t.length)||n!==s.a.ROW&&(null===i||void 0===i||null===(o=i.conditions)||void 0===o?void 0:o[n].length))?"outlined":""),children:Object(b.jsx)(l.f,{name:f[n]})})})})},component:Object(b.jsx)(j,{groupName:n,inputLabel:o,groupingData:i,groupingSelectOptions:m,conditionalGroupingOptions:g,advancedComponent:c,onSelect:p,onGroupingModeChange:v})})})};n(794);function O(e){let{groupingData:t,groupingSelectOptions:n,conditionalGroupingOptions:i,onGroupingSelectChange:o,onGroupingModeChange:c,onGroupingPaletteChange:r,onGroupingReset:d,onGroupingPersistenceChange:u,onGroupingApplyChange:p,onShuffleChange:v,onGroupingConditionsChange:m,groupingPopovers:g=s.b,isDisabled:h=!1}=e;return Object(b.jsx)(a.a,{children:Object(b.jsxs)("div",{className:"Grouping",children:[Object(b.jsx)("div",{className:"Grouping__title",children:Object(b.jsx)(l.n,{size:12,weight:600,children:"Group by"})}),Object(b.jsx)("div",{className:"Grouping__content",children:g.map((e=>{let{title:a,inputLabel:l,groupName:g,AdvancedComponent:j}=e;return Object(b.jsx)(x,{title:a,inputLabel:l,groupName:g,groupingData:t,groupingSelectOptions:n,conditionalGroupingOptions:i,onSelect:o,onGroupingModeChange:c,isDisabled:h,advancedComponent:j&&Object(b.jsx)(j,{groupingData:t,onPersistenceChange:u,persistence:null===t||void 0===t?void 0:t.persistence[g],onShuffleChange:v,...g===s.a.COLOR&&{onGroupingPaletteChange:r,paletteIndex:null===t||void 0===t?void 0:t.paletteIndex},groupingSelectOptions:n,conditionalGroupingOptions:i,onSelect:o,onGroupingConditionsChange:m}),onReset:()=>d(g),onVisibilityChange:()=>p(g)},g)}))})]})})}t.a=o.a.memo(O)},824:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.IMAGE="image",e.AUDIO="audio"}(i||(i={}))},887:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(70),l=n.n(a),s=n(3),c=n(8),r=n(1);t.a=function(e){let{audio:t,isPlaying:n,src:i,disabled:a}=e;const[d,u]=o.a.useState(0),p=o.a.useRef();function v(){clearInterval(p.current),p.current=window.setInterval((()=>{u(t.currentTime)}),100)}function m(e){return e>3600?"HH:mm:ss":"mm:ss"}return o.a.useEffect((()=>()=>{clearInterval(p.current)}),[]),o.a.useEffect((()=>{n&&t?v():clearInterval(p.current)}),[n,i]),Object(r.jsxs)(c.a,{children:[Object(r.jsx)(s.k,{containerClassName:"AudioBox__controllers__progressSlider",onChangeCommitted:function(){t&&!isNaN(d)&&(clearInterval(p.current),t.currentTime=d,n&&v())},onChange:function(e,n){t&&(clearInterval(p.current),u(n))},value:d,step:.1,max:Math.round(null===t||void 0===t?void 0:t.duration),min:0,disabled:a}),Object(r.jsxs)("div",{className:"AudioBox__controllers__timer ".concat((null===t||void 0===t?void 0:t.duration)>3600?"AudioBox__controllers__timer-long":""),children:[Object(r.jsx)(s.n,{weight:400,size:12,children:t&&l.a.utc(1e3*Math.round(d)).format(m(t.duration||0))||"00:00"}),Object(r.jsxs)(s.n,{weight:400,size:12,children:["/",t&&l.a.utc(1e3*Math.round(t.duration||0)).format(m(t.duration||0))||"00:00"]})]})]})}},888:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(8),l=n(3),s=n(1);t.a=function(e){let{audio:t}=e;const[n,i]=o.a.useState(.99),[c,r]=o.a.useState(!1);return o.a.useEffect((()=>{t&&(t.volume=c?0:n)}),[n,t,c]),Object(s.jsx)(a.a,{children:Object(s.jsxs)("div",{className:"AudioBox__controllers__volume",children:[Object(s.jsx)(l.c,{onClick:function(){c?r(!1):0===n?(r(!1),i(.99)):r(!0)},withOnlyIcon:!0,size:"xSmall",className:"AudioBox__controllers__volume--button",children:Object(s.jsx)(l.f,{name:c||0===n?"voice-off":"voice-on"})}),Object(s.jsx)("div",{className:"AudioBox__controllers__volume__Slider",children:Object(s.jsx)(l.k,{onChange:function(e,t){i(t),r(!1)},value:c?0:n,step:.01,defaultValue:1,max:.99,min:0})})]})})}}}]);